import{a as zs,b as Ur}from"./chunk-COHAZZTS.js";import{a as Uu}from"./chunk-OTYSD24R.js";import{A as $s,B as de,C as Mt,D as kt,E as We,F as Fs,G as Ne,H as Bs,I as Ut,J as Lt,K as re,L as Be,a as ee,b as Fe,c as ut,d as Cu,h as Ou,j as vr,k as Mr,l as Xe,m as U,n as Q,o as te,p as vs,q as Ms,r as ks,s as Us,v as Du,w as Te,x as vt,y as Ls,z as K}from"./chunk-M7G2GFUC.js";import{a as xu,b as Iu,c as Ke}from"./chunk-MKRX7O3O.js";import{a as Pu,b as vu,c as kr,d as Mu,e as ku,g as Hs}from"./chunk-VX6DIAJP.js";import{a as Pr}from"./chunk-HHIBTEH3.js";import{a as Vs}from"./chunk-QRWHQ7IS.js";import{a as Ye,b as R,c as B,d as Dt,e as $,f as Pt}from"./chunk-2B6HUC56.js";var Bu=B(lt=>{"use strict";var Lu=ee();function $u(t){return t}var js=t=>e=>async r=>{if(!Lu.HttpRequest.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return e(r)},qs={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Fu=t=>({applyToStack:e=>{e.add(js(t),qs)}});lt.getHostHeaderPlugin=Fu;lt.hostHeaderMiddleware=js;lt.hostHeaderMiddlewareOptions=qs;lt.resolveHostHeaderConfig=$u});var Hu=B($t=>{"use strict";var Gs=()=>(t,e)=>async r=>{try{let n=await t(r),{clientName:s,commandName:i,logger:c,dynamoDbDocumentClientOptions:u={}}=e,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:f}=u,g=l??e.inputFilterSensitiveLog,E=f??e.outputFilterSensitiveLog,{$metadata:N,...T}=n.output;return c?.info?.({clientName:s,commandName:i,input:g(r.input),output:E(T),metadata:N}),n}catch(n){let{clientName:s,commandName:i,logger:c,dynamoDbDocumentClientOptions:u={}}=e,{overrideInputFilterSensitiveLog:l}=u,f=l??e.inputFilterSensitiveLog;throw c?.error?.({clientName:s,commandName:i,input:f(r.input),error:n,metadata:n.$metadata}),n}},Ys={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},zu=t=>({applyToStack:e=>{e.add(Gs(),Ys)}});$t.getLoggerPlugin=zu;$t.loggerMiddleware=Gs;$t.loggerMiddlewareOptions=Ys});var Ks={};Dt(Ks,{InvokeStore:()=>qu});import{AsyncLocalStorage as Vu}from"async_hooks";var Lr,ju,$r,Ft,qu,Xs=R(()=>{Lr=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";Lr||(globalThis.awslambda=globalThis.awslambda||{});ju={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol("_AWS_LAMBDA_TENANT_ID")},$r=class{static storage=new Vu;static PROTECTED_KEYS=ju;static run(e,r){return this.storage.run({...e},r)}static getContext(){return this.storage.getStore()}static get(e){return this.storage.getStore()?.[e]}static set(e,r){if(this.isProtectedKey(e))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[e]=r)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static getTenantId(){return this.get(this.PROTECTED_KEYS.TENANT_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(e){return e===this.PROTECTED_KEYS.REQUEST_ID||e===this.PROTECTED_KEYS.X_RAY_TRACE_ID}};!Lr&&globalThis.awslambda?.InvokeStore?Ft=globalThis.awslambda.InvokeStore:(Ft=$r,!Lr&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=Ft));qu=Ft});var Ws=B(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.recursionDetectionMiddleware=void 0;var Gu=(Xs(),Pt(Ks)),Yu=ee(),Fr="X-Amzn-Trace-Id",Ku="AWS_LAMBDA_FUNCTION_NAME",Xu="_X_AMZN_TRACE_ID",Wu=()=>t=>async e=>{let{request:r}=e;if(!Yu.HttpRequest.isInstance(r))return t(e);let n=Object.keys(r.headers??{}).find(f=>f.toLowerCase()===Fr.toLowerCase())??Fr;if(r.headers.hasOwnProperty(n))return t(e);let s=process.env[Ku],i=process.env[Xu],u=Gu.InvokeStore.getXRayTraceId()??i,l=f=>typeof f=="string"&&f.length>0;return l(s)&&l(u)&&(r.headers[Fr]=u),t({...e,request:r})};Bt.recursionDetectionMiddleware=Wu});var Zu=B(zt=>{"use strict";var Br=Ws(),Qu={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Ju=t=>({applyToStack:e=>{e.add(Br.recursionDetectionMiddleware(),Qu)}});zt.getRecursionDetectionPlugin=Ju;Object.keys(Br).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(zt,t)&&Object.defineProperty(zt,t,{enumerable:!0,get:function(){return Br[t]}})})});var Qs,Js=R(()=>{Qs=(t,e)=>{if(!e||e.length===0)return t;let r=[];for(let n of e)for(let s of t)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of t)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function el(t){let e=new Map;for(let r of t)e.set(r.schemeId,r);return e}var Zs,dt,Ht=R(()=>{Zs=$(Fe());Js();dt=(t,e)=>(r,n)=>async s=>{let i=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,s.input)),c=t.authSchemePreference?await t.authSchemePreference():[],u=Qs(i,c),l=el(t.httpAuthSchemes),f=(0,Zs.getSmithyContext)(n),g=[];for(let E of u){let N=l.get(E.schemeId);if(!N){g.push(`HttpAuthScheme \`${E.schemeId}\` was not enabled for this service.`);continue}let T=N.identityProvider(await e.identityProviderConfigProvider(t));if(!T){g.push(`HttpAuthScheme \`${E.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:A={},signingProperties:O={}}=E.propertiesExtractor?.(t,n)||{};E.identityProperties=Object.assign(E.identityProperties||{},A),E.signingProperties=Object.assign(E.signingProperties||{},O),f.selectedHttpAuthScheme={httpAuthOption:E,identity:await T(E.identityProperties),signer:N.signer};break}if(!f.selectedHttpAuthScheme)throw new Error(g.join(`
`));return r(s)}});var ei,tl,ti=R(()=>{Ht();ei={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},tl=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(dt(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),ei)}})});var Hr=B(Qe=>{"use strict";var rl=ee(),ri=(t,e)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let c=await e(i,t);return{response:i,output:c}}catch(c){if(Object.defineProperty(c,"$response",{value:i}),!("$metadata"in c)){let u="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{c.message+=`
  `+u}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(u):n.logger?.warn?.(u)}typeof c.$responseBodyText<"u"&&c.$response&&(c.$response.body=c.$responseBodyText);try{if(rl.HttpResponse.isInstance(i)){let{headers:l={}}=i,f=Object.entries(l);c.$metadata={httpStatusCode:i.statusCode,requestId:zr(/^x-[\w-]+-request-?id$/,f),extendedRequestId:zr(/^x-[\w-]+-id-2$/,f),cfId:zr(/^x-[\w-]+-cf-id$/,f)}}}catch{}}throw c}},zr=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1],ni=(t,e)=>(r,n)=>async s=>{let i=t,c=n.endpointV2?.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!c)throw new Error("No valid endpoint provider available.");let u=await e(s.input,{...t,endpoint:c});return r({...s,request:u})},si={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ii={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function nl(t,e,r){return{applyToStack:n=>{n.add(ri(t,r),si),n.add(ni(t,e),ii)}}}Qe.deserializerMiddleware=ri;Qe.deserializerMiddlewareOption=si;Qe.getSerdePlugin=nl;Qe.serializerMiddleware=ni;Qe.serializerMiddlewareOption=ii});var oi,ai,sl,il,Vr,jr=R(()=>{oi=$(ee()),ai=$(Fe()),sl=t=>e=>{throw e},il=(t,e)=>{},Vr=t=>(e,r)=>async n=>{if(!oi.HttpRequest.isInstance(n.request))return e(n);let i=(0,ai.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:c={}},identity:u,signer:l}=i,f=await e({...n,request:await l.sign(n.request,u,c)}).catch((l.errorHandler||sl)(c));return(l.successHandler||il)(f.response,c),f}});var ci,ol,ui=R(()=>{jr();ci={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},ol=t=>({applyToStack:e=>{e.addRelativeTo(Vr(t),ci)}})});var qr,li=R(()=>{qr=class{authSchemes=new Map;constructor(e){for(let[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var Gr,al,di=R(()=>{Gr=$(Pr()),al=t=>t[Gr.SMITHY_CONTEXT_KEY]||(t[Gr.SMITHY_CONTEXT_KEY]={})});var fi,pi,cl,mi=R(()=>{fi=$(Hr());Ht();pi={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:fi.serializerMiddlewareOption.name},cl=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(dt(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),pi)}})});var hi=R(()=>{Ht();ti();mi()});var gi=R(()=>{jr();ui()});var be,Ei=R(()=>{be=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});function yi(t,e,r,n,s){return async function*(c,u,...l){let f=u,g=c.startingToken??f[r],E=!0,N;for(;E;){if(f[r]=g,s&&(f[s]=f[s]??c.pageSize),c.client instanceof t)N=await ul(e,c.client,u,c.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield N;let T=g;g=ll(N,n),E=!!(g&&(!c.stopOnSameToken||g!==T))}return void 0}}var ul,ll,Si=R(()=>{ul=async(t,e,r,n=i=>i,...s)=>{let i=new t(r);return i=n(i)??i,await e.send(i,...s)};ll=(t,e)=>{let r=t,n=e.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var wi=R(()=>{re()});function dl(t,e,r){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=r}var Ti=R(()=>{});var Ni,Yr,Kr,bi=R(()=>{Ni=$(ee()),Yr=$(Pr()),Kr=class{async sign(e,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=Ni.HttpRequest.clone(e);if(n.in===Yr.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===Yr.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var Ri,Xr,Ai=R(()=>{Ri=$(ee()),Xr=class{async sign(e,r,n){let s=Ri.HttpRequest.clone(e);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var Wr,_i=R(()=>{Wr=class{async sign(e,r,n){return e}}});var xi=R(()=>{bi();Ai();_i()});var Ii,fl,Qr,Vt,Jr,Ci=R(()=>{Ii=t=>function(r){return Vt(r)&&r.expiration.getTime()-Date.now()<t},fl=3e5,Qr=Ii(3e5),Vt=t=>t.expiration!==void 0,Jr=(t,e,r)=>{if(t===void 0)return;let n=typeof t!="function"?async()=>Promise.resolve(t):t,s,i,c,u=!1,l=async f=>{i||(i=n(f));try{s=await i,c=!0,u=!1}finally{i=void 0}return s};return e===void 0?async f=>((!c||f?.forceRefresh)&&(s=await l(f)),s):async f=>((!c||f?.forceRefresh)&&(s=await l(f)),u?s:r(s)?(e(s)&&await l(f),s):(u=!0,s))}});var Oi=R(()=>{li();xi();Ci()});var Zr={};Dt(Zr,{DefaultIdentityProviderConfig:()=>qr,EXPIRATION_MS:()=>fl,HttpApiKeyAuthSigner:()=>Kr,HttpBearerAuthSigner:()=>Xr,NoAuthSigner:()=>Wr,createIsIdentityExpiredFunction:()=>Ii,createPaginator:()=>yi,doesIdentityRequireRefresh:()=>Vt,getHttpAuthSchemeEndpointRuleSetPlugin:()=>tl,getHttpAuthSchemePlugin:()=>cl,getHttpSigningPlugin:()=>ol,getSmithyContext:()=>al,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>ei,httpAuthSchemeMiddleware:()=>dt,httpAuthSchemeMiddlewareOptions:()=>pi,httpSigningMiddleware:()=>Vr,httpSigningMiddlewareOptions:()=>ci,isIdentityExpired:()=>Qr,memoizeIdentityProvider:()=>Jr,normalizeProvider:()=>be,requestBuilder:()=>Fs,setFeature:()=>dl});var ft=R(()=>{di();hi();gi();Ei();Si();wi();Ti();Oi()});var Di,en,Pi=R(()=>{Di=$(ee()),en=t=>Di.HttpResponse.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var Je,tn=R(()=>{Je=t=>new Date(Date.now()+t)});var vi,Mi=R(()=>{tn();vi=(t,e)=>Math.abs(Je(e).getTime()-t)>=3e5});var rn,ki=R(()=>{Mi();rn=(t,e)=>{let r=Date.parse(t);return vi(r,e)?r-Date.now():e}});var nn=R(()=>{Pi();tn();ki()});var Ui,pt,Ze,Re,sn,on=R(()=>{Ui=$(ee());nn();pt=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Ze=async t=>{let e=pt("context",t.context),r=pt("config",t.config),n=e.endpointV2?.properties?.authSchemes?.[0],i=await pt("signer",r.signer)(n),c=t?.signingRegion,u=t?.signingRegionSet,l=t?.signingName;return{config:r,signer:i,signingRegion:c,signingRegionSet:u,signingName:l}},Re=class{async sign(e,r,n){if(!Ui.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await Ze(n),{config:i,signer:c}=s,{signingRegion:u,signingName:l}=s,f=n.context;if(f?.authSchemes?.length??!1){let[E,N]=f.authSchemes;E?.name==="sigv4a"&&N?.name==="sigv4"&&(u=N?.signingRegion??u,l=N?.signingName??l)}return await c.sign(e,{signingDate:Je(i.systemClockOffset),signingRegion:u,signingService:l})}errorHandler(e){return r=>{let n=r.ServerTime??en(r.$response);if(n){let s=pt("config",e.config),i=s.systemClockOffset;s.systemClockOffset=rn(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let n=en(e);if(n){let s=pt("config",r.config);s.systemClockOffset=rn(n,s.systemClockOffset)}}},sn=Re});var Li,mt,$i=R(()=>{Li=$(ee());nn();on();mt=class extends Re{async sign(e,r,n){if(!Li.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:c,signingRegionSet:u,signingName:l}=await Ze(n),g=(await s.sigv4aSigningRegionSet?.()??u??[c]).join(",");return await i.sign(e,{signingDate:Je(s.systemClockOffset),signingRegion:g,signingService:l})}}});var an,Fi=R(()=>{an=t=>typeof t=="string"&&t.length>0?t.split(",").map(e=>e.trim()):[]});var jt,cn=R(()=>{jt=t=>`AWS_BEARER_TOKEN_${t.replace(/[\s-]/g,"_").toUpperCase()}`});var Bi,zi,Hi,Vi=R(()=>{Fi();cn();Bi="AWS_AUTH_SCHEME_PREFERENCE",zi="auth_scheme_preference",Hi={environmentVariableSelector:(t,e)=>{if(e?.signingName&&jt(e.signingName)in t)return["httpBearerAuth"];if(Bi in t)return an(t[Bi])},configFileSelector:t=>{if(zi in t)return an(t[zi])},default:[]}});var un,ji,qi,Gi=R(()=>{ft();un=$(Vs()),ji=t=>(t.sigv4aSigningRegionSet=be(t.sigv4aSigningRegionSet),t),qi={environmentVariableSelector(t){if(t.AWS_SIGV4A_SIGNING_REGION_SET)return t.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(e=>e.trim());throw new un.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(t){if(t.sigv4a_signing_region_set)return(t.sigv4a_signing_region_set??"").split(",").map(e=>e.trim());throw new un.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Eo=B(P=>{"use strict";var Ae=Ou(),ze=Ke(),pl=xu(),Wi=ee(),Yi=Fe(),qt=Cu(),Qi="X-Amz-Algorithm",Ji="X-Amz-Credential",hn="X-Amz-Date",Zi="X-Amz-SignedHeaders",eo="X-Amz-Expires",gn="X-Amz-Signature",En="X-Amz-Security-Token",ml="X-Amz-Region-Set",yn="authorization",Sn=hn.toLowerCase(),to="date",ro=[yn,Sn,to],no=gn.toLowerCase(),Wt="x-amz-content-sha256",so=En.toLowerCase(),hl="host",io={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},oo=/^proxy-/,ao=/^sec-/,gl=[/^proxy-/i,/^sec-/i],Gt="AWS4-HMAC-SHA256",El="AWS4-ECDSA-P256-SHA256",co="AWS4-HMAC-SHA256-PAYLOAD",uo="UNSIGNED-PAYLOAD",lo=50,wn="aws4_request",fo=3600*24*7,et={},Yt=[],Kt=(t,e,r)=>`${t}/${e}/${r}/${wn}`,po=async(t,e,r,n,s)=>{let i=await Ki(t,e.secretAccessKey,e.accessKeyId),c=`${r}:${n}:${s}:${Ae.toHex(i)}:${e.sessionToken}`;if(c in et)return et[c];for(Yt.push(c);Yt.length>lo;)delete et[Yt.shift()];let u=`AWS4${e.secretAccessKey}`;for(let l of[r,n,s,wn])u=await Ki(t,u,l);return et[c]=u},yl=()=>{Yt.length=0,Object.keys(et).forEach(t=>{delete et[t]})},Ki=(t,e,r)=>{let n=new t(e);return n.update(ze.toUint8Array(r)),n.digest()},ln=({headers:t},e,r)=>{let n={};for(let s of Object.keys(t).sort()){if(t[s]==null)continue;let i=s.toLowerCase();(i in io||e?.has(i)||oo.test(i)||ao.test(i))&&(!r||r&&!r.has(i))||(n[i]=t[s].trim().replace(/\s+/g," "))}return n},Xt=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===Wt)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||pl.isArrayBuffer(e)){let n=new r;return n.update(ze.toUint8Array(e)),Ae.toHex(await n.digest())}return uo},dn=class{format(e){let r=[];for(let i of Object.keys(e)){let c=ze.fromUtf8(i);r.push(Uint8Array.from([c.byteLength]),c,this.formatHeaderValue(e[i]))}let n=new Uint8Array(r.reduce((i,c)=>i+c.byteLength,0)),s=0;for(let i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":let i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);let c=new Uint8Array(i.buffer);return c.set(e.value,3),c;case"string":let u=ze.fromUtf8(e.value),l=new DataView(new ArrayBuffer(3+u.byteLength));l.setUint8(0,7),l.setUint16(1,u.byteLength,!1);let f=new Uint8Array(l.buffer);return f.set(u,3),f;case"timestamp":let g=new Uint8Array(9);return g[0]=8,g.set(fn.fromNumber(e.value.valueOf()).bytes,1),g;case"uuid":if(!Sl.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let E=new Uint8Array(17);return E[0]=9,E.set(Ae.fromHex(e.value.replace(/\-/g,"")),1),E}}},Sl=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,fn=class t{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&Xi(r),new t(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&Xi(e),parseInt(Ae.toHex(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Xi(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var mo=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},ho=(t,e={})=>{let{headers:r,query:n={}}=Wi.HttpRequest.clone(t);for(let s of Object.keys(r)){let i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(i)||e.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...t,headers:r,query:n}},pn=t=>{t=Wi.HttpRequest.clone(t);for(let e of Object.keys(t.headers))ro.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},go=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t)){if(n.toLowerCase()===no)continue;let s=qt.escapeUri(n);e.push(s);let i=t[n];typeof i=="string"?r[s]=`${s}=${qt.escapeUri(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((c,u)=>c.concat([`${s}=${qt.escapeUri(u)}`]),[]).sort().join("&"))}return e.sort().map(n=>r[n]).filter(n=>n).join("&")},wl=t=>Tl(t).toISOString().replace(/\.\d{3}Z$/,"Z"),Tl=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t,Qt=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:c=!0}){this.service=s,this.sha256=i,this.uriEscapePath=c,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Yi.normalizeProvider(n),this.credentialProvider=Yi.normalizeProvider(r)}createCanonicalRequest(e,r,n){let s=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${go(e)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(e,r,n,s){let i=new this.sha256;i.update(ze.toUint8Array(n));let c=await i.digest();return`${s}
${e}
${r}
${Ae.toHex(c)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let i of e.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return qt.escapeUri(n).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let r=wl(e).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},mn=class extends Qt{headerFormatter=new dn;constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:c=!0}){super({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:c})}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:c,signableHeaders:u,hoistableHeaders:l,signingRegion:f,signingService:g}=r,E=await this.credentialProvider();this.validateResolvedCredentials(E);let N=f??await this.regionProvider(),{longDate:T,shortDate:A}=this.formatDate(n);if(s>fo)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let O=Kt(A,N,g??this.service),v=ho(pn(e),{unhoistableHeaders:c,hoistableHeaders:l});E.sessionToken&&(v.query[En]=E.sessionToken),v.query[Qi]=Gt,v.query[Ji]=`${E.accessKeyId}/${O}`,v.query[hn]=T,v.query[eo]=s.toString(10);let D=ln(v,i,u);return v.query[Zi]=this.getCanonicalHeaderList(D),v.query[gn]=await this.getSignature(T,O,this.getSigningKey(E,N,A,g),this.createCanonicalRequest(v,D,await Xt(e,this.sha256))),v}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:c}){let u=i??await this.regionProvider(),{shortDate:l,longDate:f}=this.formatDate(n),g=Kt(l,u,c??this.service),E=await Xt({headers:{},body:r},this.sha256),N=new this.sha256;N.update(e);let T=Ae.toHex(await N.digest()),A=[co,f,g,s,T,E].join(`
`);return this.signString(A,{signingDate:n,signingRegion:u,signingService:c})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:e.priorSignature}).then(c=>({message:e.message,signature:c}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let c=n??await this.regionProvider(),{shortDate:u}=this.formatDate(r),l=new this.sha256(await this.getSigningKey(i,c,u,s));return l.update(ze.toUint8Array(e)),Ae.toHex(await l.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:c}={}){let u=await this.credentialProvider();this.validateResolvedCredentials(u);let l=i??await this.regionProvider(),f=pn(e),{longDate:g,shortDate:E}=this.formatDate(r),N=Kt(E,l,c??this.service);f.headers[Sn]=g,u.sessionToken&&(f.headers[so]=u.sessionToken);let T=await Xt(f,this.sha256);!mo(Wt,f.headers)&&this.applyChecksum&&(f.headers[Wt]=T);let A=ln(f,s,n),O=await this.getSignature(g,N,this.getSigningKey(u,l,E,c),this.createCanonicalRequest(f,A,T));return f.headers[yn]=`${Gt} Credential=${u.accessKeyId}/${N}, SignedHeaders=${this.getCanonicalHeaderList(A)}, Signature=${O}`,f}async getSignature(e,r,n,s){let i=await this.createStringToSign(e,r,s,Gt),c=new this.sha256(await n);return c.update(ze.toUint8Array(i)),Ae.toHex(await c.digest())}getSigningKey(e,r,n,s){return po(this.sha256,e,n,r,s||this.service)}},Nl={SignatureV4a:null};P.ALGORITHM_IDENTIFIER=Gt;P.ALGORITHM_IDENTIFIER_V4A=El;P.ALGORITHM_QUERY_PARAM=Qi;P.ALWAYS_UNSIGNABLE_HEADERS=io;P.AMZ_DATE_HEADER=Sn;P.AMZ_DATE_QUERY_PARAM=hn;P.AUTH_HEADER=yn;P.CREDENTIAL_QUERY_PARAM=Ji;P.DATE_HEADER=to;P.EVENT_ALGORITHM_IDENTIFIER=co;P.EXPIRES_QUERY_PARAM=eo;P.GENERATED_HEADERS=ro;P.HOST_HEADER=hl;P.KEY_TYPE_IDENTIFIER=wn;P.MAX_CACHE_SIZE=lo;P.MAX_PRESIGNED_TTL=fo;P.PROXY_HEADER_PATTERN=oo;P.REGION_SET_PARAM=ml;P.SEC_HEADER_PATTERN=ao;P.SHA256_HEADER=Wt;P.SIGNATURE_HEADER=no;P.SIGNATURE_QUERY_PARAM=gn;P.SIGNED_HEADERS_QUERY_PARAM=Zi;P.SignatureV4=mn;P.SignatureV4Base=Qt;P.TOKEN_HEADER=so;P.TOKEN_QUERY_PARAM=En;P.UNSIGNABLE_PATTERNS=gl;P.UNSIGNED_PAYLOAD=uo;P.clearCredentialCache=yl;P.createScope=Kt;P.getCanonicalHeaders=ln;P.getCanonicalQuery=go;P.getPayloadHash=Xt;P.getSigningKey=po;P.hasHeader=mo;P.moveHeadersToQuery=ho;P.prepareRequest=pn;P.signatureV4aContainer=Nl});function bl(t,{credentials:e,credentialDefaultProvider:r}){let n;return e?e?.memoized?n=e:n=Jr(e,Qr,Vt):r?n=be(r(Object.assign({},t,{parentClientConfig:t}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Rl(t,e){if(e.configBound)return e;let r=async n=>e({...n,callerClientConfig:t});return r.memoized=e.memoized,r.configBound=!0,r}var Tn,Nn,yo,So=R(()=>{Hs();ft();Tn=$(Eo()),Nn=t=>{let e=t.credentials,r=!!t.credentials,n;Object.defineProperty(t,"credentials",{set(f){f&&f!==e&&f!==n&&(r=!0),e=f;let g=bl(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),E=Rl(t,g);r&&!E.attributed?(n=async N=>E(N).then(T=>kr(T,"CREDENTIALS_CODE","e")),n.memoized=E.memoized,n.configBound=E.configBound,n.attributed=!0):n=E},get(){return n},enumerable:!0,configurable:!0}),t.credentials=e;let{signingEscapePath:s=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:c}=t,u;return t.signer?u=be(t.signer):t.regionInfoProvider?u=()=>be(t.region)().then(async f=>[await t.regionInfoProvider(f,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},f]).then(([f,g])=>{let{signingRegion:E,signingService:N}=f;t.signingRegion=t.signingRegion||E||g,t.signingName=t.signingName||N||t.serviceId;let T={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:c,uriEscapePath:s},A=t.signerConstructor||Tn.SignatureV4;return new A(T)}):u=async f=>{f=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await be(t.region)(),properties:{}},f);let g=f.signingRegion,E=f.signingName;t.signingRegion=t.signingRegion||g,t.signingName=t.signingName||E||t.serviceId;let N={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:c,uriEscapePath:s},T=t.signerConstructor||Tn.SignatureV4;return new T(N)},Object.assign(t,{systemClockOffset:i,signingEscapePath:s,signer:u})},yo=Nn});var wo=R(()=>{on();$i();Vi();Gi();So()});var Al={};Dt(Al,{AWSSDKSigV4Signer:()=>sn,AwsSdkSigV4ASigner:()=>mt,AwsSdkSigV4Signer:()=>Re,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Hi,NODE_SIGV4A_CONFIG_OPTIONS:()=>qi,getBearerTokenEnvKey:()=>jt,resolveAWSSDKSigV4Config:()=>yo,resolveAwsSdkSigV4AConfig:()=>ji,resolveAwsSdkSigV4Config:()=>Nn,validateSigningProperties:()=>Ze});var To=R(()=>{wo();cn()});var Cn=B(He=>{"use strict";var Rn=Pr(),An=class{capacity;data=new Map;parameters=[];constructor({size:e,params:r}){this.capacity=e??50,r&&(this.parameters=r)}get(e,r){let n=this.hash(e);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),i=0;for(;;){let{value:c,done:u}=s.next();if(this.data.delete(c),u||++i>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(e){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let i=String(e[s]??"");if(i.includes("|;"))return!1;r+=i+"|;"}return r}},_l=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),No=t=>_l.test(t)||t.startsWith("[")&&t.endsWith("]"),xl=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),xn=(t,e=!1)=>{if(!e)return xl.test(t);let r=t.split(".");for(let n of r)if(!xn(n))return!1;return!0},_n={},ht="endpoints";function _e(t){return typeof t!="object"||t==null?t:"ref"in t?`$${_e(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(_e).join(", ")})`:JSON.stringify(t,null,2)}var J=class extends Error{constructor(e){super(e),this.name="EndpointError"}},Il=(t,e)=>t===e,Cl=t=>{let e=t.split("."),r=[];for(let n of e){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new J(`Path: '${t}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new J(`Invalid array index: '${i}' in path: '${t}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},bo=(t,e)=>Cl(e).reduce((r,n)=>{if(typeof r!="object")throw new J(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),Ol=t=>t!=null,Dl=t=>!t,bn={[Rn.EndpointURLScheme.HTTP]:80,[Rn.EndpointURLScheme.HTTPS]:443},Pl=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:N,port:T,protocol:A="",path:O="",query:v={}}=t,D=new URL(`${A}//${N}${T?`:${T}`:""}${O}`);return D.search=Object.entries(v).map(([Y,H])=>`${Y}=${H}`).join("&"),D}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:s,pathname:i,protocol:c,search:u}=e;if(u)return null;let l=c.slice(0,-1);if(!Object.values(Rn.EndpointURLScheme).includes(l))return null;let f=No(s),g=r.includes(`${n}:${bn[l]}`)||typeof t=="string"&&t.includes(`${n}:${bn[l]}`),E=`${n}${g?`:${bn[l]}`:""}`;return{scheme:l,authority:E,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:f}},vl=(t,e)=>t===e,Ml=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),kl=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Ul={booleanEquals:Il,getAttr:bo,isSet:Ol,isValidHostLabel:xn,not:Dl,parseURL:Pl,stringEquals:vl,substring:Ml,uriEncode:kl},Ro=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},s=0;for(;s<t.length;){let i=t.indexOf("{",s);if(i===-1){r.push(t.slice(s));break}r.push(t.slice(s,i));let c=t.indexOf("}",i);if(c===-1){r.push(t.slice(i));break}t[i+1]==="{"&&t[c+1]==="}"&&(r.push(t.slice(i+1,c)),s=c+2);let u=t.substring(i+1,c);if(u.includes("#")){let[l,f]=u.split("#");r.push(bo(n[l],f))}else r.push(n[u]);s=c+1}return r.join("")},Ll=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],Jt=(t,e,r)=>{if(typeof t=="string")return Ro(t,r);if(t.fn)return _o.callFunction(t,r);if(t.ref)return Ll(t,r);throw new J(`'${e}': ${String(t)} is not a string, function or reference.`)},Ao=({fn:t,argv:e},r)=>{let n=e.map(i=>["boolean","number"].includes(typeof i)?i:_o.evaluateExpression(i,"arg",r)),s=t.split(".");return s[0]in _n&&s[1]!=null?_n[s[0]][s[1]](...n):Ul[t](...n)},_o={evaluateExpression:Jt,callFunction:Ao},$l=({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new J(`'${t}' is already defined in Reference Record.`);let n=Ao(e,r);return r.logger?.debug?.(`${ht} evaluateCondition: ${_e(e)} = ${_e(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}},In=(t=[],e)=>{let r={};for(let n of t){let{result:s,toAssign:i}=$l(n,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,e.logger?.debug?.(`${ht} assign: ${i.name} := ${_e(i.value)}`))}return{result:!0,referenceRecord:r}},Fl=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let c=Jt(i,"Header value entry",e);if(typeof c!="string")throw new J(`Header '${n}' value '${c}' is not a string`);return c})}),{}),xo=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:Co.getEndpointProperty(s,e)}),{}),Io=(t,e)=>{if(Array.isArray(t))return t.map(r=>Io(r,e));switch(typeof t){case"string":return Ro(t,e);case"object":if(t===null)throw new J(`Unexpected endpoint property: ${t}`);return Co.getEndpointProperties(t,e);case"boolean":return t;default:throw new J(`Unexpected endpoint property type: ${typeof t}`)}},Co={getEndpointProperty:Io,getEndpointProperties:xo},Bl=(t,e)=>{let r=Jt(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new J(`Endpoint URL must be a string, got ${typeof r}`)},zl=(t,e)=>{let{conditions:r,endpoint:n}=t,{result:s,referenceRecord:i}=In(r,e);if(!s)return;let c={...e,referenceRecord:{...e.referenceRecord,...i}},{url:u,properties:l,headers:f}=n;return e.logger?.debug?.(`${ht} Resolving endpoint from template: ${_e(n)}`),{...f!=null&&{headers:Fl(f,c)},...l!=null&&{properties:xo(l,c)},url:Bl(u,c)}},Hl=(t,e)=>{let{conditions:r,error:n}=t,{result:s,referenceRecord:i}=In(r,e);if(s)throw new J(Jt(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))},Oo=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=zl(r,e);if(n)return n}else if(r.type==="error")Hl(r,e);else if(r.type==="tree"){let n=Do.evaluateTreeRule(r,e);if(n)return n}else throw new J(`Unknown endpoint rule: ${r}`);throw new J("Rules evaluation failed")},Vl=(t,e)=>{let{conditions:r,rules:n}=t,{result:s,referenceRecord:i}=In(r,e);if(s)return Do.evaluateRules(n,{...e,referenceRecord:{...e.referenceRecord,...i}})},Do={evaluateRules:Oo,evaluateTreeRule:Vl},jl=(t,e)=>{let{endpointParams:r,logger:n}=e,{parameters:s,rules:i}=t;e.logger?.debug?.(`${ht} Initial EndpointParams: ${_e(r)}`);let c=Object.entries(s).filter(([,f])=>f.default!=null).map(([f,g])=>[f,g.default]);if(c.length>0)for(let[f,g]of c)r[f]=r[f]??g;let u=Object.entries(s).filter(([,f])=>f.required).map(([f])=>f);for(let f of u)if(r[f]==null)throw new J(`Missing required parameter: '${f}'`);let l=Oo(i,{endpointParams:r,logger:n,referenceRecord:{}});return e.logger?.debug?.(`${ht} Resolved endpoint: ${_e(l)}`),l};He.EndpointCache=An;He.EndpointError=J;He.customEndpointFunctions=_n;He.isIpAddress=No;He.isValidHostLabel=xn;He.resolveEndpoint=jl});var zo=B(ie=>{"use strict";var tt=Cn(),ql=zs(),vo=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!vo(r))return!1;return!0}return!(!tt.isValidHostLabel(t)||t.length<3||t.length>63||t!==t.toLowerCase()||tt.isIpAddress(t))},Po=":",Gl="/",Yl=t=>{let e=t.split(Po);if(e.length<6)return null;let[r,n,s,i,c,...u]=e;if(r!=="arn"||n===""||s===""||u.join(Po)==="")return null;let l=u.map(f=>f.split(Gl)).flat();return{partition:n,service:s,region:i,accountId:c,resourceId:l}},Kl=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],Xl="1.1",Mo={partitions:Kl,version:Xl},ko=Mo,Uo="",Lo=t=>{let{partitions:e}=ko;for(let n of e){let{regions:s,outputs:i}=n;for(let[c,u]of Object.entries(s))if(c===t)return{...i,...u}}for(let n of e){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(t))return{...i}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},$o=(t,e="")=>{ko=t,Uo=e},Wl=()=>{$o(Mo,"")},Ql=()=>Uo,Fo={isVirtualHostableS3Bucket:vo,parseArn:Yl,partition:Lo};tt.customEndpointFunctions.aws=Fo;var Jl=t=>{if(typeof t.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:e}=t;return e===void 0&&(t.endpoint=async()=>Bo(t.endpointProvider({Region:typeof t.region=="function"?await t.region():t.region,UseDualStack:typeof t.useDualstackEndpoint=="function"?await t.useDualstackEndpoint():t.useDualstackEndpoint,UseFIPS:typeof t.useFipsEndpoint=="function"?await t.useFipsEndpoint():t.useFipsEndpoint,Endpoint:void 0},{logger:t.logger}))),t},Bo=t=>ql.parseUrl(t.url);Object.defineProperty(ie,"EndpointError",{enumerable:!0,get:function(){return tt.EndpointError}});Object.defineProperty(ie,"isIpAddress",{enumerable:!0,get:function(){return tt.isIpAddress}});Object.defineProperty(ie,"resolveEndpoint",{enumerable:!0,get:function(){return tt.resolveEndpoint}});ie.awsEndpointFunctions=Fo;ie.getUserAgentPrefix=Ql;ie.partition=Lo;ie.resolveDefaultAwsRegionalEndpointsConfig=Jl;ie.setPartitionInfo=$o;ie.toEndpointV1=Bo;ie.useDefaultPartitionInfo=Wl});function xe(t){return typeof Buffer<"u"?Buffer.alloc(t):new Uint8Array(t)}function Zt(t){return t[On]=!0,t}var On,er=R(()=>{On=Symbol("@smithy/core/cbor::tagSymbol")});function jo(t){z=t,pe=new DataView(z.buffer,z.byteOffset,z.byteLength)}function ce(t,e){if(t>=e)throw new Error("unexpected end of (decode) payload.");let r=(z[t]&224)>>5,n=z[t]&31;switch(r){case 0:case 1:case 6:let s,i;if(n<24)s=n,i=1;else switch(n){case 24:case 25:case 26:case 27:let c=Go[n],u=c+1;if(i=u,e-t<u)throw new Error(`countLength ${c} greater than remaining buf len.`);let l=t+1;c===1?s=z[l]:c===2?s=pe.getUint16(l):c===4?s=pe.getUint32(l):s=pe.getBigUint64(l);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return M=i,Dn(s);if(r===1){let c;return typeof s=="bigint"?c=BigInt(-1)-s:c=-1-s,M=i,Dn(c)}else if(n===2||n===3){let c=St(t+i,e),u=BigInt(0),l=t+i+M;for(let f=l;f<l+c;++f)u=u<<BigInt(8)|BigInt(z[f]);return M=i+M+c,n===3?-u-BigInt(1):u}else if(n===4){let c=ce(t+i,e),[u,l]=c,f=l<0?-1:1,g="0".repeat(Math.abs(u)+1)+String(BigInt(f)*BigInt(l)),E,N=l<0?"-":"";return E=u===0?g:g.slice(0,g.length+u)+"."+g.slice(u),E=E.replace(/^0+/g,""),E===""&&(E="0"),E[0]==="."&&(E="0"+E),E=N+E,M=i+M,$s(E)}else{let c=ce(t+i,e);return M=i+M,Zt({tag:Dn(s),value:c})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return id(t,e);case 5:return ld(t,e);case 4:return cd(t,e);case 2:return od(t,e)}else switch(r){case 3:return sd(t,e);case 5:return ud(t,e);case 4:return ad(t,e);case 2:return Ln(t,e)}default:return dd(t,e)}}function qo(t,e,r){return td&&t.constructor?.name==="Buffer"?t.toString("utf-8",e,r):Ho?Ho.decode(t.subarray(e,r)):(0,Vo.toUtf8)(t.subarray(e,r))}function rd(t){let e=Number(t);return(e<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<e)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${t}) to ${e} with loss of precision.`)),e}function nd(t,e){let r=t>>7,n=(t&124)>>2,s=(t&3)<<8|e,i=r===0?1:-1,c,u;if(n===0){if(s===0)return 0;c=Math.pow(2,-14),u=0}else{if(n===31)return s===0?i*(1/0):NaN;c=Math.pow(2,n-15),u=1}return u+=s/1024,i*(c*u)}function St(t,e){let r=z[t]&31;if(r<24)return M=1,r;if(r===24||r===25||r===26||r===27){let n=Go[r];if(M=n+1,e-t<M)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=t+1;return n===1?z[s]:n===2?pe.getUint16(s):n===4?pe.getUint32(s):rd(pe.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function sd(t,e){let r=St(t,e),n=M;if(t+=n,e-t<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=qo(z,t,t+r);return M=n+r,s}function id(t,e){t+=1;let r=[];for(let n=t;t<e;){if(z[t]===255){let l=xe(r.length);return l.set(r,0),M=t-n+2,qo(l,0,l.length)}let s=(z[t]&224)>>5,i=z[t]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let c=Ln(t,e);t+=M;for(let l=0;l<c.length;++l)r.push(c[l])}throw new Error("expected break marker.")}function Ln(t,e){let r=St(t,e),n=M;if(t+=n,e-t<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=z.subarray(t,t+r);return M=n+r,s}function od(t,e){t+=1;let r=[];for(let n=t;t<e;){if(z[t]===255){let l=xe(r.length);return l.set(r,0),M=t-n+2,l}let s=(z[t]&224)>>5,i=z[t]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let c=Ln(t,e);t+=M;for(let l=0;l<c.length;++l)r.push(c[l])}throw new Error("expected break marker.")}function ad(t,e){let r=St(t,e),n=M;t+=n;let s=t,i=Array(r);for(let c=0;c<r;++c){let u=ce(t,e),l=M;i[c]=u,t+=l}return M=n+(t-s),i}function cd(t,e){t+=1;let r=[];for(let n=t;t<e;){if(z[t]===255)return M=t-n+2,r;let s=ce(t,e);t+=M,r.push(s)}throw new Error("expected break marker.")}function ud(t,e){let r=St(t,e),n=M;t+=n;let s=t,i={};for(let c=0;c<r;++c){if(t>=e)throw new Error("unexpected end of map payload.");let u=(z[t]&224)>>5;if(u!==3)throw new Error(`unexpected major type ${u} for map key at index ${t}.`);let l=ce(t,e);t+=M;let f=ce(t,e);t+=M,i[l]=f}return M=n+(t-s),i}function ld(t,e){t+=1;let r=t,n={};for(;t<e;){if(t>=e)throw new Error("unexpected end of map payload.");if(z[t]===255)return M=t-r+2,n;let s=(z[t]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let i=ce(t,e);t+=M;let c=ce(t,e);t+=M,n[i]=c}throw new Error("expected break marker.")}function dd(t,e){let r=z[t]&31;switch(r){case 21:case 20:return M=1,r===21;case 22:return M=1,null;case 23:return M=1,null;case 25:if(e-t<3)throw new Error("incomplete float16 at end of buf.");return M=3,nd(z[t+1],z[t+2]);case 26:if(e-t<5)throw new Error("incomplete float32 at end of buf.");return M=5,pe.getFloat32(t+1);case 27:if(e-t<9)throw new Error("incomplete float64 at end of buf.");return M=9,pe.getFloat64(t+1);default:throw new Error(`unexpected minor value ${r}.`)}}function Dn(t){if(typeof t=="number")return t;let e=Number(t);return Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:t}var Vo,ed,td,z,pe,Ho,M,Go,Yo=R(()=>{de();Vo=$(Ke());er();ed=typeof TextDecoder<"u",td=typeof Buffer<"u",z=xe(0),pe=new DataView(z.buffer,z.byteOffset,z.byteLength),Ho=ed?new TextDecoder:null,M=0;Go={24:1,25:2,26:4,27:8}});function Fn(t){I.byteLength-_<t&&(_<16e6?rr(Math.max(I.byteLength*4,I.byteLength+t)):rr(I.byteLength+t+16e6))}function Bn(){let t=xe(_);return t.set(I.subarray(0,_),0),_=0,t}function rr(t){let e=I;I=xe(t),e&&(e.copy?e.copy(I,0,0,e.byteLength):I.set(e,0)),ge=new DataView(I.buffer,I.byteOffset,I.byteLength)}function he(t,e){e<24?I[_++]=t<<5|e:e<256?(I[_++]=t<<5|24,I[_++]=e):e<65536?(I[_++]=t<<5|25,ge.setUint16(_,e),_+=2):e<2**32?(I[_++]=t<<5|26,ge.setUint32(_,e),_+=4):(I[_++]=t<<5|27,ge.setBigUint64(_,typeof e=="bigint"?e:BigInt(e)),_+=8)}function Wo(t){let e=[t];for(;e.length;){let r=e.pop();if(Fn(typeof r=="string"?r.length*4:64),typeof r=="string"){if(Ko)he(3,Buffer.byteLength(r)),_+=I.write(r,_);else{let n=(0,Xo.fromUtf8)(r);he(3,n.byteLength),I.set(n,_),_+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,s=n?0:1,i=n?r:-r-1;i<24?I[_++]=s<<5|i:i<256?(I[_++]=s<<5|24,I[_++]=i):i<65536?(I[_++]=s<<5|25,I[_++]=i>>8,I[_++]=i):i<4294967296?(I[_++]=s<<5|26,ge.setUint32(_,i),_+=4):(I[_++]=s<<5|27,ge.setBigUint64(_,BigInt(i)),_+=8);continue}I[_++]=251,ge.setFloat64(_,r),_+=8;continue}else if(typeof r=="bigint"){let n=r>=0,s=n?0:1,i=n?r:-r-BigInt(1),c=Number(i);if(c<24)I[_++]=s<<5|c;else if(c<256)I[_++]=s<<5|24,I[_++]=c;else if(c<65536)I[_++]=s<<5|25,I[_++]=c>>8,I[_++]=c&255;else if(c<4294967296)I[_++]=s<<5|26,ge.setUint32(_,c),_+=4;else if(i<BigInt("18446744073709551616"))I[_++]=s<<5|27,ge.setBigUint64(_,i),_+=8;else{let u=i.toString(2),l=new Uint8Array(Math.ceil(u.length/8)),f=i,g=0;for(;l.byteLength-++g>=0;)l[l.byteLength-g]=Number(f&BigInt(255)),f>>=BigInt(8);Fn(l.byteLength*2),I[_++]=n?194:195,Ko?he(2,Buffer.byteLength(l)):he(2,l.byteLength),I.set(l,_),_+=l.byteLength}continue}else if(r===null){I[_++]=246;continue}else if(typeof r=="boolean"){I[_++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)e.push(r[n]);he(4,r.length);continue}else if(typeof r.byteLength=="number"){Fn(r.length*2),he(2,r.length),I.set(r,_),_+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof K){let s=r.string.indexOf("."),i=s===-1?0:s-r.string.length+1,c=BigInt(r.string.replace(".",""));I[_++]=196,e.push(c),e.push(i),he(4,2);continue}if(r[On])if("tag"in r&&"value"in r){e.push(r.value),he(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let s=n.length-1;s>=0;--s){let i=n[s];e.push(r[i]),e.push(i)}he(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var Xo,Ko,fd,I,ge,_,Qo=R(()=>{de();Xo=$(Ke());er();Ko=typeof Buffer<"u",fd=2048,I=xe(fd),ge=new DataView(I.buffer,I.byteOffset,I.byteLength),_=0});var zn,Jo=R(()=>{Yo();Qo();zn={deserialize(t){return jo(t),ce(0,t.length)},serialize(t){try{return Wo(t),Bn()}catch(e){throw Bn(),e}},resizeEncodingBuffer(t){rr(t)}}});var nr,sr,ir=R(()=>{er();nr=t=>Zt({tag:1,value:t.getTime()/1e3}),sr=(t,e)=>{let r=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i};if(e.__type!==void 0)return r(e.__type);let n=Object.keys(e).find(s=>s.toLowerCase()==="code");if(n&&e[n]!==void 0)return r(e[n])}});var jn,or,Hn,Vn,qn=R(()=>{re();te();de();jn=$(ut());Jo();ir();or=class extends Mt{createSerializer(){let e=new Hn;return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new Vn;return e.setSerdeContext(this.serdeContext),e}},Hn=class extends Mt{value;write(e,r){this.value=this.serialize(e,r)}serialize(e,r){let n=U.of(e);if(r==null)return n.isIdempotencyToken()?(0,Te.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??jn.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?nr(new Date(Number(r)/1e3|0)):nr(r);if(typeof r=="function"||typeof r=="object"){let s=r;if(n.isListSchema()&&Array.isArray(s)){let c=!!n.getMergedTraits().sparse,u=[],l=0;for(let f of s){let g=this.serialize(n.getValueSchema(),f);(g!=null||c)&&(u[l++]=g)}return u}if(s instanceof Date)return nr(s);let i={};if(n.isMapSchema()){let c=!!n.getMergedTraits().sparse;for(let u of Object.keys(s)){let l=this.serialize(n.getValueSchema(),s[u]);(l!=null||c)&&(i[u]=l)}}else if(n.isStructSchema())for(let[c,u]of n.structIterator()){let l=this.serialize(u,s[c]);l!=null&&(i[c]=l)}else if(n.isDocumentSchema())for(let c of Object.keys(s))i[c]=this.serialize(n.getValueSchema(),s[c]);return i}return r}flush(){let e=zn.serialize(this.value);return this.value=void 0,e}},Vn=class extends Mt{read(e,r){let n=zn.deserialize(r);return this.readValue(e,n)}readValue(e,r){let n=U.of(e);if(n.isTimestampSchema()&&typeof r=="number")return Ls(r);if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??jn.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="function"||typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let i=[],c=n.getValueSchema(),u=!!n.getMergedTraits().sparse;for(let l of r){let f=this.readValue(c,l);(f!=null||u)&&i.push(f)}return i}let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse,c=n.getValueSchema();for(let u of Object.keys(r)){let l=this.readValue(c,r[u]);(l!=null||i)&&(s[u]=l)}}else if(n.isStructSchema())for(let[i,c]of n.structIterator())s[i]=this.readValue(c,r[i]);return s}else return r}}});var Zo,ar,ea=R(()=>{re();te();Zo=$(Fe());qn();ir();ar=class extends We{codec=new or;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:e}){super({defaultNamespace:e})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(e,r,n){let s=await super.serializeRequest(e,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Xe(e.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:i,operation:c}=(0,Zo.getSmithyContext)(n),u=`/service/${i}/operation/${c}`;return s.path.endsWith("/")?s.path+=u.slice(1):s.path+=u,s}async deserializeResponse(e,r,n){return super.deserializeResponse(e,r,n)}async handleError(e,r,n,s,i){let c=sr(n,s)??"Unknown",u=this.options.defaultNamespace;c.includes("#")&&([u]=c.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<=500?"client":"server"},f=Q.for(u),g;try{g=f.getSchema(c)}catch{s.Message&&(s.message=s.Message);let D=Q.for("smithy.ts.sdk.synthetic."+u),Y=D.getBaseException();if(Y){let H=D.getErrorCtor(Y);throw Object.assign(new H({name:c}),l,s)}throw Object.assign(new Error(c),l,s)}let E=U.of(g),N=f.getErrorCtor(g),T=s.message??s.Message??"Unknown",A=new N(T),O={};for(let[v,D]of E.structIterator())O[v]=this.deserializer.readValue(D,s[v]);throw Object.assign(A,l,{$fault:E.getMergedTraits().error,message:T},O)}getDefaultContentType(){return"application/cbor"}}});var ta=R(()=>{ir();ea();qn()});var ne,nt=R(()=>{te();ne=class{resolveRestContentType(e,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":e)}else if(!r.isUnitSchema()&&Object.values(n).find(c=>{let{httpQuery:u,httpQueryParams:l,httpHeader:f,httpLabel:g,httpPrefixHeaders:E}=c.getMergedTraits();return!u&&!l&&!f&&!g&&E===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,r,n,s,i,c){let u=r,l=e;e.includes("#")&&([u,l]=e.split("#"));let f={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},g=Q.for(u);try{return{errorSchema:c?.(g,l)??g.getSchema(e),errorMetadata:f}}catch{s.message=s.message??s.Message??"UnknownError";let N=Q.for("smithy.ts.sdk.synthetic."+u),T=N.getBaseException();if(T){let A=N.getErrorCtor(T)??Error;throw Object.assign(new A({name:l}),f,s)}throw Object.assign(new Error(l),f,s)}}setQueryCompatError(e,r){let n=r.headers?.["x-amzn-query-error"];if(e!==void 0&&n!=null){let[s,i]=n.split(";"),c=Object.entries(e),u={Code:s,Type:i};Object.assign(e,u);for(let[l,f]of c)u[l]=f;delete u.__type,e.Error=u}}queryCompatOutput(e,r){e.Error&&(r.Error=e.Error),e.Type&&(r.Type=e.Type),e.Code&&(r.Code=e.Code)}}});var Gn,ra=R(()=>{ta();te();nt();Gn=class extends ar{awsQueryCompatible;mixin=new ne;constructor({defaultNamespace:e,awsQueryCompatible:r}){super({defaultNamespace:e}),this.awsQueryCompatible=!!r}async serializeRequest(e,r,n){let s=await super.serializeRequest(e,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(e,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let c=sr(n,s)??"Unknown",{errorSchema:u,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(c,this.options.defaultNamespace,n,s,i),f=U.of(u),g=s.message??s.Message??"Unknown",E=Q.for(u[1]).getErrorCtor(u)??Error,N=new E(g),T={};for(let[A,O]of f.structIterator())T[A]=this.deserializer.readValue(O,s[A]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,T),Object.assign(N,l,{$fault:f.getMergedTraits().error,message:g},T)}}});var pd,md,hd,na=R(()=>{pd=t=>{if(t==null)return t;if(typeof t=="number"||typeof t=="bigint"){let e=new Error(`Received number ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}if(typeof t=="boolean"){let e=new Error(`Received boolean ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}return t},md=t=>{if(t==null)return t;if(typeof t=="string"){let e=t.toLowerCase();if(t!==""&&e!=="false"&&e!=="true"){let r=new Error(`Received string "${t}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return t!==""&&e!=="false"}return t},hd=t=>{if(t==null)return t;if(typeof t=="string"){let e=Number(t);if(e.toString()!==t){let r=new Error(`Received string "${t}" where a number was expected.`);return r.name="Warning",console.warn(r),t}return e}return t}});var Z,De=R(()=>{Z=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});function sa(t,e,r){if(r?.source){let n=r.source;if(typeof e=="number"&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER||n!==String(e)))return n.includes(".")?new K(n,"bigDecimal"):BigInt(n)}return e}var ia=R(()=>{de()});var oa,aa,cr,Yn=R(()=>{oa=$(Be()),aa=$(Ke()),cr=(t,e)=>(0,oa.collectBody)(t,e).then(r=>(e?.utf8Encoder??aa.toUtf8)(r))});var ur,gd,wt,Tt=R(()=>{Yn();ur=(t,e)=>cr(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),gd=async(t,e)=>{let r=await ur(t,e);return r.message=r.message??r.Message,r},wt=(t,e)=>{let r=(i,c)=>Object.keys(i).find(u=>u.toLowerCase()===c.toLowerCase()),n=i=>{let c=i;return typeof c=="number"&&(c=c.toString()),c.indexOf(",")>=0&&(c=c.split(",")[0]),c.indexOf(":")>=0&&(c=c.split(":")[0]),c.indexOf("#")>=0&&(c=c.split("#")[1]),c},s=r(t.headers,"x-amzn-errortype");if(s!==void 0)return n(t.headers[s]);if(e&&typeof e=="object"){let i=r(e,"code");if(i&&e[i]!==void 0)return n(e[i]);if(e.__type!==void 0)return n(e.__type)}}});var ca,Nt,Kn=R(()=>{re();te();de();ca=$(ut());De();ia();Tt();Nt=class extends Z{settings;constructor(e){super(),this.settings=e}async read(e,r){return this._read(e,typeof r=="string"?JSON.parse(r,sa):await ur(r,this.serdeContext))}readObject(e,r){return this._read(e,r)}_read(e,r){let n=r!==null&&typeof r=="object",s=U.of(e);if(s.isListSchema()&&Array.isArray(r)){let c=s.getValueSchema(),u=[],l=!!s.getMergedTraits().sparse;for(let f of r)(l||f!=null)&&u.push(this._read(c,f));return u}else if(s.isMapSchema()&&n){let c=s.getValueSchema(),u={},l=!!s.getMergedTraits().sparse;for(let[f,g]of Object.entries(r))(l||g!=null)&&(u[f]=this._read(c,g));return u}else if(s.isStructSchema()&&n){let c={};for(let[u,l]of s.structIterator()){let f=this.settings.jsonName?l.getMergedTraits().jsonName??u:u,g=this._read(l,r[f]);g!=null&&(c[u]=g)}return c}if(s.isBlobSchema()&&typeof r=="string")return(0,ca.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return vt.from(r);if(s.isTimestampSchema()&&r!=null)switch(Ne(s,this.settings)){case 5:return Ms(r);case 6:return ks(r);case 7:return Us(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof K)return r;let c=r;return c.type==="bigDecimal"&&"string"in c?new K(c.string,c.type):new K(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let c=Array.isArray(r)?[]:{};for(let[u,l]of Object.entries(r))l instanceof K?c[u]=l:c[u]=this._read(s,l);return c}else return structuredClone(r);return r}}});var ua,lr,la=R(()=>{de();ua="\u039D",lr=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(e,r)=>{if(r instanceof K){let n=`${ua+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${ua+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(e){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return e;for(let[r,n]of this.values)e=e.replace(r,n);return e}}});var da,bt,Xn=R(()=>{re();te();de();da=$(ut());De();la();bt=class extends Z{settings;buffer;rootSchema;constructor(e){super(),this.settings=e}write(e,r){this.rootSchema=U.of(e),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(e,r){this.write(e,r),typeof this.buffer=="object"&&(this.buffer.__type=U.of(e).getName(!0))}flush(){let{rootSchema:e}=this;if(this.rootSchema=void 0,e?.isStructSchema()||e?.isDocumentSchema()){let r=new lr;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(e,r,n){let s=r!==null&&typeof r=="object",i=U.of(e);if(i.isListSchema()&&Array.isArray(r)){let c=i.getValueSchema(),u=[],l=!!i.getMergedTraits().sparse;for(let f of r)(l||f!=null)&&u.push(this._write(c,f));return u}else if(i.isMapSchema()&&s){let c=i.getValueSchema(),u={},l=!!i.getMergedTraits().sparse;for(let[f,g]of Object.entries(r))(l||g!=null)&&(u[f]=this._write(c,g));return u}else if(i.isStructSchema()&&s){let c={};for(let[u,l]of i.structIterator()){let f=this.settings.jsonName?l.getMergedTraits().jsonName??u:u,g=this._write(l,r[u],i);g!==void 0&&(c[f]=g)}return c}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,da.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(Ne(i,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return vs(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return(0,Te.v4)();let c=i.getMergedTraits().mediaType;if(r!=null&&c&&(c==="application/json"||c.endsWith("+json")))return vt.from(r)}if(i.isDocumentSchema())if(s){let c=Array.isArray(r)?[]:{};for(let[u,l]of Object.entries(r))l instanceof K?c[u]=l:c[u]=this._write(i,l);return c}else return structuredClone(r);return r}}}});var Ve,dr=R(()=>{De();Kn();Xn();Ve=class extends Z{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new bt(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new Nt(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var je,fr=R(()=>{re();te();nt();dr();Tt();je=class extends We{serializer;deserializer;serviceTarget;codec;mixin=new ne;awsQueryCompatible;constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:e}),this.serviceTarget=r,this.codec=new Ve({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(e,r,n){let s=await super.serializeRequest(e,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${e.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(Xe(e.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(e,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let c=wt(n,s)??"Unknown",{errorSchema:u,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(c,this.options.defaultNamespace,n,s,i),f=U.of(u),g=s.message??s.Message??"Unknown",E=Q.for(u[1]).getErrorCtor(u)??Error,N=new E(g),T={};for(let[A,O]of f.structIterator()){let v=O.getMergedTraits().jsonName??A;T[A]=this.codec.createDeserializer().readObject(O,s[v])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,T),Object.assign(N,l,{$fault:f.getMergedTraits().error,message:g},T)}}});var Wn,fa=R(()=>{fr();Wn=class extends je{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Qn,pa=R(()=>{fr();Qn=class extends je{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Jn,ma=R(()=>{re();te();nt();dr();Tt();Jn=class extends kt{serializer;deserializer;codec;mixin=new ne;constructor({defaultNamespace:e}){super({defaultNamespace:e});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Ve(r),this.serializer=new Lt(this.codec.createSerializer(),r),this.deserializer=new Ut(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(e){this.codec.setSerdeContext(e),super.setSerdeContext(e)}async serializeRequest(e,r,n){let s=await super.serializeRequest(e,r,n),i=U.of(e.input);if(!s.headers["content-type"]){let c=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);c&&(s.headers["content-type"]=c)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(e,r,n,s,i){let c=wt(n,s)??"Unknown",{errorSchema:u,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(c,this.options.defaultNamespace,n,s,i),f=U.of(u),g=s.message??s.Message??"Unknown",E=Q.for(u[1]).getErrorCtor(u)??Error,N=new E(g);await this.deserializeHttpMessage(u,r,n,s);let T={};for(let[A,O]of f.structIterator()){let v=O.getMergedTraits().jsonName??A;T[A]=this.codec.createDeserializer().readObject(O,s[v])}throw Object.assign(N,l,{$fault:f.getMergedTraits().error,message:g},T)}getDefaultContentType(){return"application/json"}}});var ha,Ed,ga=R(()=>{ha=$(Be()),Ed=t=>{if(t!=null)return typeof t=="object"&&"__type"in t&&delete t.__type,(0,ha.expectUnion)(t)}});var ya=B((_g,Ea)=>{(()=>{"use strict";var t={d:(o,a)=>{for(var d in a)t.o(a,d)&&!t.o(o,d)&&Object.defineProperty(o,d,{enumerable:!0,get:a[d]})},o:(o,a)=>Object.prototype.hasOwnProperty.call(o,a),r:o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{XMLBuilder:()=>Se,XMLParser:()=>yu,XMLValidator:()=>_u});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(o,a){let d=[],h=a.exec(o);for(;h;){let p=[];p.startIndex=a.lastIndex-h[0].length;let m=h.length;for(let S=0;S<m;S++)p.push(h[S]);d.push(p),h=a.exec(o)}return d}let i=function(o){return n.exec(o)!=null},c={allowBooleanAttributes:!1,unpairedTags:[]};function u(o,a){a=Object.assign({},c,a);let d=[],h=!1,p=!1;o[0]==="\uFEFF"&&(o=o.substr(1));for(let m=0;m<o.length;m++)if(o[m]==="<"&&o[m+1]==="?"){if(m+=2,m=f(o,m),m.err)return m}else{if(o[m]!=="<"){if(l(o[m]))continue;return D("InvalidChar","char '"+o[m]+"' is not expected.",H(o,m))}{let S=m;if(m++,o[m]==="!"){m=g(o,m);continue}{let y=!1;o[m]==="/"&&(y=!0,m++);let w="";for(;m<o.length&&o[m]!==">"&&o[m]!==" "&&o[m]!=="	"&&o[m]!==`
`&&o[m]!=="\r";m++)w+=o[m];if(w=w.trim(),w[w.length-1]==="/"&&(w=w.substring(0,w.length-1),m--),!i(w)){let x;return x=w.trim().length===0?"Invalid space after '<'.":"Tag '"+w+"' is an invalid name.",D("InvalidTag",x,H(o,m))}let b=T(o,m);if(b===!1)return D("InvalidAttr","Attributes for '"+w+"' have open quote.",H(o,m));let C=b.value;if(m=b.index,C[C.length-1]==="/"){let x=m-C.length;C=C.substring(0,C.length-1);let k=O(C,a);if(k!==!0)return D(k.err.code,k.err.msg,H(o,x+k.err.line));h=!0}else if(y){if(!b.tagClosed)return D("InvalidTag","Closing tag '"+w+"' doesn't have proper closing.",H(o,m));if(C.trim().length>0)return D("InvalidTag","Closing tag '"+w+"' can't have attributes or invalid starting.",H(o,S));if(d.length===0)return D("InvalidTag","Closing tag '"+w+"' has not been opened.",H(o,S));{let x=d.pop();if(w!==x.tagName){let k=H(o,x.tagStartPos);return D("InvalidTag","Expected closing tag '"+x.tagName+"' (opened in line "+k.line+", col "+k.col+") instead of closing tag '"+w+"'.",H(o,S))}d.length==0&&(p=!0)}}else{let x=O(C,a);if(x!==!0)return D(x.err.code,x.err.msg,H(o,m-C.length+x.err.line));if(p===!0)return D("InvalidXml","Multiple possible root nodes found.",H(o,m));a.unpairedTags.indexOf(w)!==-1||d.push({tagName:w,tagStartPos:S}),h=!0}for(m++;m<o.length;m++)if(o[m]==="<"){if(o[m+1]==="!"){m++,m=g(o,m);continue}if(o[m+1]!=="?")break;if(m=f(o,++m),m.err)return m}else if(o[m]==="&"){let x=v(o,m);if(x==-1)return D("InvalidChar","char '&' is not expected.",H(o,m));m=x}else if(p===!0&&!l(o[m]))return D("InvalidXml","Extra text at the end",H(o,m));o[m]==="<"&&m--}}}return h?d.length==1?D("InvalidTag","Unclosed tag '"+d[0].tagName+"'.",H(o,d[0].tagStartPos)):!(d.length>0)||D("InvalidXml","Invalid '"+JSON.stringify(d.map((m=>m.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):D("InvalidXml","Start tag expected.",1)}function l(o){return o===" "||o==="	"||o===`
`||o==="\r"}function f(o,a){let d=a;for(;a<o.length;a++)if(!(o[a]!="?"&&o[a]!=" ")){let h=o.substr(d,a-d);if(a>5&&h==="xml")return D("InvalidXml","XML declaration allowed only at the start of the document.",H(o,a));if(o[a]=="?"&&o[a+1]==">"){a++;break}}return a}function g(o,a){if(o.length>a+5&&o[a+1]==="-"&&o[a+2]==="-"){for(a+=3;a<o.length;a++)if(o[a]==="-"&&o[a+1]==="-"&&o[a+2]===">"){a+=2;break}}else if(o.length>a+8&&o[a+1]==="D"&&o[a+2]==="O"&&o[a+3]==="C"&&o[a+4]==="T"&&o[a+5]==="Y"&&o[a+6]==="P"&&o[a+7]==="E"){let d=1;for(a+=8;a<o.length;a++)if(o[a]==="<")d++;else if(o[a]===">"&&(d--,d===0))break}else if(o.length>a+9&&o[a+1]==="["&&o[a+2]==="C"&&o[a+3]==="D"&&o[a+4]==="A"&&o[a+5]==="T"&&o[a+6]==="A"&&o[a+7]==="["){for(a+=8;a<o.length;a++)if(o[a]==="]"&&o[a+1]==="]"&&o[a+2]===">"){a+=2;break}}return a}let E='"',N="'";function T(o,a){let d="",h="",p=!1;for(;a<o.length;a++){if(o[a]===E||o[a]===N)h===""?h=o[a]:h!==o[a]||(h="");else if(o[a]===">"&&h===""){p=!0;break}d+=o[a]}return h===""&&{value:d,index:a,tagClosed:p}}let A=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function O(o,a){let d=s(o,A),h={};for(let p=0;p<d.length;p++){if(d[p][1].length===0)return D("InvalidAttr","Attribute '"+d[p][2]+"' has no space in starting.",W(d[p]));if(d[p][3]!==void 0&&d[p][4]===void 0)return D("InvalidAttr","Attribute '"+d[p][2]+"' is without value.",W(d[p]));if(d[p][3]===void 0&&!a.allowBooleanAttributes)return D("InvalidAttr","boolean attribute '"+d[p][2]+"' is not allowed.",W(d[p]));let m=d[p][2];if(!Y(m))return D("InvalidAttr","Attribute '"+m+"' is an invalid name.",W(d[p]));if(h.hasOwnProperty(m))return D("InvalidAttr","Attribute '"+m+"' is repeated.",W(d[p]));h[m]=1}return!0}function v(o,a){if(o[++a]===";")return-1;if(o[a]==="#")return(function(h,p){let m=/\d/;for(h[p]==="x"&&(p++,m=/[\da-fA-F]/);p<h.length;p++){if(h[p]===";")return p;if(!h[p].match(m))break}return-1})(o,++a);let d=0;for(;a<o.length;a++,d++)if(!(o[a].match(/\w/)&&d<20)){if(o[a]===";")break;return-1}return a}function D(o,a,d){return{err:{code:o,msg:a,line:d.line||d,col:d.col}}}function Y(o){return i(o)}function H(o,a){let d=o.substring(0,a).split(/\r?\n/);return{line:d.length,col:d[d.length-1].length+1}}function W(o){return o.startIndex+o[1].length}let ke={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(o,a){return a},attributeValueProcessor:function(o,a){return a},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(o,a,d){return o},captureMetaData:!1},ct;ct=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class oe{constructor(a){this.tagname=a,this.child=[],this[":@"]={}}add(a,d){a==="__proto__"&&(a="#__proto__"),this.child.push({[a]:d})}addChild(a,d){a.tagname==="__proto__"&&(a.tagname="#__proto__"),a[":@"]&&Object.keys(a[":@"]).length>0?this.child.push({[a.tagname]:a.child,":@":a[":@"]}):this.child.push({[a.tagname]:a.child}),d!==void 0&&(this.child[this.child.length-1][ct]={startIndex:d})}static getMetaDataSymbol(){return ct}}function Ue(o,a){let d={};if(o[a+3]!=="O"||o[a+4]!=="C"||o[a+5]!=="T"||o[a+6]!=="Y"||o[a+7]!=="P"||o[a+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{a+=9;let h=1,p=!1,m=!1,S="";for(;a<o.length;a++)if(o[a]!=="<"||m)if(o[a]===">"){if(m?o[a-1]==="-"&&o[a-2]==="-"&&(m=!1,h--):h--,h===0)break}else o[a]==="["?p=!0:S+=o[a];else{if(p&&Le(o,"!ENTITY",a)){let y,w;a+=7,[y,w,a]=Xc(o,a+1),w.indexOf("&")===-1&&(d[y]={regx:RegExp(`&${y};`,"g"),val:w})}else if(p&&Le(o,"!ELEMENT",a)){a+=8;let{index:y}=Qc(o,a+1);a=y}else if(p&&Le(o,"!ATTLIST",a))a+=8;else if(p&&Le(o,"!NOTATION",a)){a+=9;let{index:y}=Wc(o,a+1);a=y}else{if(!Le(o,"!--",a))throw new Error("Invalid DOCTYPE");m=!0}h++,S=""}if(h!==0)throw new Error("Unclosed DOCTYPE")}return{entities:d,i:a}}let ye=(o,a)=>{for(;a<o.length&&/\s/.test(o[a]);)a++;return a};function Xc(o,a){a=ye(o,a);let d="";for(;a<o.length&&!/\s/.test(o[a])&&o[a]!=='"'&&o[a]!=="'";)d+=o[a],a++;if(Cr(d),a=ye(o,a),o.substring(a,a+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(o[a]==="%")throw new Error("Parameter entities are not supported");let h="";return[a,h]=Ot(o,a,"entity"),[d,h,--a]}function Wc(o,a){a=ye(o,a);let d="";for(;a<o.length&&!/\s/.test(o[a]);)d+=o[a],a++;Cr(d),a=ye(o,a);let h=o.substring(a,a+6).toUpperCase();if(h!=="SYSTEM"&&h!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${h}"`);a+=h.length,a=ye(o,a);let p=null,m=null;if(h==="PUBLIC")[a,p]=Ot(o,a,"publicIdentifier"),o[a=ye(o,a)]!=='"'&&o[a]!=="'"||([a,m]=Ot(o,a,"systemIdentifier"));else if(h==="SYSTEM"&&([a,m]=Ot(o,a,"systemIdentifier"),!m))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:d,publicIdentifier:p,systemIdentifier:m,index:--a}}function Ot(o,a,d){let h="",p=o[a];if(p!=='"'&&p!=="'")throw new Error(`Expected quoted string, found "${p}"`);for(a++;a<o.length&&o[a]!==p;)h+=o[a],a++;if(o[a]!==p)throw new Error(`Unterminated ${d} value`);return[++a,h]}function Qc(o,a){a=ye(o,a);let d="";for(;a<o.length&&!/\s/.test(o[a]);)d+=o[a],a++;if(!Cr(d))throw new Error(`Invalid element name: "${d}"`);let h="";if(o[a=ye(o,a)]==="E"&&Le(o,"MPTY",a))a+=4;else if(o[a]==="A"&&Le(o,"NY",a))a+=2;else{if(o[a]!=="(")throw new Error(`Invalid Element Expression, found "${o[a]}"`);for(a++;a<o.length&&o[a]!==")";)h+=o[a],a++;if(o[a]!==")")throw new Error("Unterminated content model")}return{elementName:d,contentModel:h.trim(),index:a}}function Le(o,a,d){for(let h=0;h<a.length;h++)if(a[h]!==o[d+h+1])return!1;return!0}function Cr(o){if(i(o))return o;throw new Error(`Invalid entity name ${o}`)}let Jc=/^[-+]?0x[a-fA-F0-9]+$/,Zc=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,eu={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},tu=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function xs(o){return typeof o=="function"?o:Array.isArray(o)?a=>{for(let d of o)if(typeof d=="string"&&a===d||d instanceof RegExp&&d.test(a))return!0}:()=>!1}class ru{constructor(a){this.options=a,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(d,h)=>String.fromCodePoint(Number.parseInt(h,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(d,h)=>String.fromCodePoint(Number.parseInt(h,16))}},this.addExternalEntities=nu,this.parseXml=cu,this.parseTextData=su,this.resolveNameSpace=iu,this.buildAttributesMap=au,this.isItStopNode=fu,this.replaceEntitiesValue=lu,this.readStopNodeData=pu,this.saveTextToParentTag=du,this.addChild=uu,this.ignoreAttributesFn=xs(this.options.ignoreAttributes)}}function nu(o){let a=Object.keys(o);for(let d=0;d<a.length;d++){let h=a[d];this.lastEntities[h]={regex:new RegExp("&"+h+";","g"),val:o[h]}}}function su(o,a,d,h,p,m,S){if(o!==void 0&&(this.options.trimValues&&!h&&(o=o.trim()),o.length>0)){S||(o=this.replaceEntitiesValue(o));let y=this.options.tagValueProcessor(a,o,d,p,m);return y==null?o:typeof y!=typeof o||y!==o?y:this.options.trimValues||o.trim()===o?Is(o,this.options.parseTagValue,this.options.numberParseOptions):o}}function iu(o){if(this.options.removeNSPrefix){let a=o.split(":"),d=o.charAt(0)==="/"?"/":"";if(a[0]==="xmlns")return"";a.length===2&&(o=d+a[1])}return o}let ou=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function au(o,a,d){if(this.options.ignoreAttributes!==!0&&typeof o=="string"){let h=s(o,ou),p=h.length,m={};for(let S=0;S<p;S++){let y=this.resolveNameSpace(h[S][1]);if(this.ignoreAttributesFn(y,a))continue;let w=h[S][4],b=this.options.attributeNamePrefix+y;if(y.length)if(this.options.transformAttributeName&&(b=this.options.transformAttributeName(b)),b==="__proto__"&&(b="#__proto__"),w!==void 0){this.options.trimValues&&(w=w.trim()),w=this.replaceEntitiesValue(w);let C=this.options.attributeValueProcessor(y,w,a);m[b]=C==null?w:typeof C!=typeof w||C!==w?C:Is(w,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(m[b]=!0)}if(!Object.keys(m).length)return;if(this.options.attributesGroupName){let S={};return S[this.options.attributesGroupName]=m,S}return m}}let cu=function(o){o=o.replace(/\r\n?/g,`
`);let a=new oe("!xml"),d=a,h="",p="";for(let m=0;m<o.length;m++)if(o[m]==="<")if(o[m+1]==="/"){let S=$e(o,">",m,"Closing Tag is not closed."),y=o.substring(m+2,S).trim();if(this.options.removeNSPrefix){let C=y.indexOf(":");C!==-1&&(y=y.substr(C+1))}this.options.transformTagName&&(y=this.options.transformTagName(y)),d&&(h=this.saveTextToParentTag(h,d,p));let w=p.substring(p.lastIndexOf(".")+1);if(y&&this.options.unpairedTags.indexOf(y)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${y}>`);let b=0;w&&this.options.unpairedTags.indexOf(w)!==-1?(b=p.lastIndexOf(".",p.lastIndexOf(".")-1),this.tagsNodeStack.pop()):b=p.lastIndexOf("."),p=p.substring(0,b),d=this.tagsNodeStack.pop(),h="",m=S}else if(o[m+1]==="?"){let S=Or(o,m,!1,"?>");if(!S)throw new Error("Pi Tag is not closed.");if(h=this.saveTextToParentTag(h,d,p),!(this.options.ignoreDeclaration&&S.tagName==="?xml"||this.options.ignorePiTags)){let y=new oe(S.tagName);y.add(this.options.textNodeName,""),S.tagName!==S.tagExp&&S.attrExpPresent&&(y[":@"]=this.buildAttributesMap(S.tagExp,p,S.tagName)),this.addChild(d,y,p,m)}m=S.closeIndex+1}else if(o.substr(m+1,3)==="!--"){let S=$e(o,"-->",m+4,"Comment is not closed.");if(this.options.commentPropName){let y=o.substring(m+4,S-2);h=this.saveTextToParentTag(h,d,p),d.add(this.options.commentPropName,[{[this.options.textNodeName]:y}])}m=S}else if(o.substr(m+1,2)==="!D"){let S=Ue(o,m);this.docTypeEntities=S.entities,m=S.i}else if(o.substr(m+1,2)==="!["){let S=$e(o,"]]>",m,"CDATA is not closed.")-2,y=o.substring(m+9,S);h=this.saveTextToParentTag(h,d,p);let w=this.parseTextData(y,d.tagname,p,!0,!1,!0,!0);w==null&&(w=""),this.options.cdataPropName?d.add(this.options.cdataPropName,[{[this.options.textNodeName]:y}]):d.add(this.options.textNodeName,w),m=S+2}else{let S=Or(o,m,this.options.removeNSPrefix),y=S.tagName,w=S.rawTagName,b=S.tagExp,C=S.attrExpPresent,x=S.closeIndex;this.options.transformTagName&&(y=this.options.transformTagName(y)),d&&h&&d.tagname!=="!xml"&&(h=this.saveTextToParentTag(h,d,p,!1));let k=d;k&&this.options.unpairedTags.indexOf(k.tagname)!==-1&&(d=this.tagsNodeStack.pop(),p=p.substring(0,p.lastIndexOf("."))),y!==a.tagname&&(p+=p?"."+y:y);let F=m;if(this.isItStopNode(this.options.stopNodes,p,y)){let L="";if(b.length>0&&b.lastIndexOf("/")===b.length-1)y[y.length-1]==="/"?(y=y.substr(0,y.length-1),p=p.substr(0,p.length-1),b=y):b=b.substr(0,b.length-1),m=S.closeIndex;else if(this.options.unpairedTags.indexOf(y)!==-1)m=S.closeIndex;else{let ae=this.readStopNodeData(o,w,x+1);if(!ae)throw new Error(`Unexpected end of ${w}`);m=ae.i,L=ae.tagContent}let q=new oe(y);y!==b&&C&&(q[":@"]=this.buildAttributesMap(b,p,y)),L&&(L=this.parseTextData(L,y,p,!0,C,!0,!0)),p=p.substr(0,p.lastIndexOf(".")),q.add(this.options.textNodeName,L),this.addChild(d,q,p,F)}else{if(b.length>0&&b.lastIndexOf("/")===b.length-1){y[y.length-1]==="/"?(y=y.substr(0,y.length-1),p=p.substr(0,p.length-1),b=y):b=b.substr(0,b.length-1),this.options.transformTagName&&(y=this.options.transformTagName(y));let L=new oe(y);y!==b&&C&&(L[":@"]=this.buildAttributesMap(b,p,y)),this.addChild(d,L,p,F),p=p.substr(0,p.lastIndexOf("."))}else{let L=new oe(y);this.tagsNodeStack.push(d),y!==b&&C&&(L[":@"]=this.buildAttributesMap(b,p,y)),this.addChild(d,L,p,F),d=L}h="",m=x}}else h+=o[m];return a.child};function uu(o,a,d,h){this.options.captureMetaData||(h=void 0);let p=this.options.updateTag(a.tagname,d,a[":@"]);p===!1||(typeof p=="string"&&(a.tagname=p),o.addChild(a,h))}let lu=function(o){if(this.options.processEntities){for(let a in this.docTypeEntities){let d=this.docTypeEntities[a];o=o.replace(d.regx,d.val)}for(let a in this.lastEntities){let d=this.lastEntities[a];o=o.replace(d.regex,d.val)}if(this.options.htmlEntities)for(let a in this.htmlEntities){let d=this.htmlEntities[a];o=o.replace(d.regex,d.val)}o=o.replace(this.ampEntity.regex,this.ampEntity.val)}return o};function du(o,a,d,h){return o&&(h===void 0&&(h=a.child.length===0),(o=this.parseTextData(o,a.tagname,d,!1,!!a[":@"]&&Object.keys(a[":@"]).length!==0,h))!==void 0&&o!==""&&a.add(this.options.textNodeName,o),o=""),o}function fu(o,a,d){let h="*."+d;for(let p in o){let m=o[p];if(h===m||a===m)return!0}return!1}function $e(o,a,d,h){let p=o.indexOf(a,d);if(p===-1)throw new Error(h);return p+a.length-1}function Or(o,a,d,h=">"){let p=(function(x,k,F=">"){let L,q="";for(let ae=k;ae<x.length;ae++){let we=x[ae];if(L)we===L&&(L="");else if(we==='"'||we==="'")L=we;else if(we===F[0]){if(!F[1])return{data:q,index:ae};if(x[ae+1]===F[1])return{data:q,index:ae}}else we==="	"&&(we=" ");q+=we}})(o,a+1,h);if(!p)return;let m=p.data,S=p.index,y=m.search(/\s/),w=m,b=!0;y!==-1&&(w=m.substring(0,y),m=m.substring(y+1).trimStart());let C=w;if(d){let x=w.indexOf(":");x!==-1&&(w=w.substr(x+1),b=w!==p.data.substr(x+1))}return{tagName:w,tagExp:m,closeIndex:S,attrExpPresent:b,rawTagName:C}}function pu(o,a,d){let h=d,p=1;for(;d<o.length;d++)if(o[d]==="<")if(o[d+1]==="/"){let m=$e(o,">",d,`${a} is not closed`);if(o.substring(d+2,m).trim()===a&&(p--,p===0))return{tagContent:o.substring(h,d),i:m};d=m}else if(o[d+1]==="?")d=$e(o,"?>",d+1,"StopNode is not closed.");else if(o.substr(d+1,3)==="!--")d=$e(o,"-->",d+3,"StopNode is not closed.");else if(o.substr(d+1,2)==="![")d=$e(o,"]]>",d,"StopNode is not closed.")-2;else{let m=Or(o,d,">");m&&((m&&m.tagName)===a&&m.tagExp[m.tagExp.length-1]!=="/"&&p++,d=m.closeIndex)}}function Is(o,a,d){if(a&&typeof o=="string"){let h=o.trim();return h==="true"||h!=="false"&&(function(p,m={}){if(m=Object.assign({},eu,m),!p||typeof p!="string")return p;let S=p.trim();if(m.skipLike!==void 0&&m.skipLike.test(S))return p;if(p==="0")return 0;if(m.hex&&Jc.test(S))return(function(w){if(parseInt)return parseInt(w,16);if(Number.parseInt)return Number.parseInt(w,16);if(window&&window.parseInt)return window.parseInt(w,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(S);if(S.search(/.+[eE].+/)!==-1)return(function(w,b,C){if(!C.eNotation)return w;let x=b.match(tu);if(x){let k=x[1]||"",F=x[3].indexOf("e")===-1?"E":"e",L=x[2],q=k?w[L.length+1]===F:w[L.length]===F;return L.length>1&&q?w:L.length!==1||!x[3].startsWith(`.${F}`)&&x[3][0]!==F?C.leadingZeros&&!q?(b=(x[1]||"")+x[3],Number(b)):w:Number(b)}return w})(p,S,m);{let w=Zc.exec(S);if(w){let b=w[1]||"",C=w[2],x=((y=w[3])&&y.indexOf(".")!==-1&&((y=y.replace(/0+$/,""))==="."?y="0":y[0]==="."?y="0"+y:y[y.length-1]==="."&&(y=y.substring(0,y.length-1))),y),k=b?p[C.length+1]===".":p[C.length]===".";if(!m.leadingZeros&&(C.length>1||C.length===1&&!k))return p;{let F=Number(S),L=String(F);if(F===0||F===-0)return F;if(L.search(/[eE]/)!==-1)return m.eNotation?F:p;if(S.indexOf(".")!==-1)return L==="0"||L===x||L===`${b}${x}`?F:p;let q=C?x:S;return C?q===L||b+q===L?F:p:q===L||q===b+L?F:p}}return p}var y})(o,d)}return o!==void 0?o:""}let Dr=oe.getMetaDataSymbol();function mu(o,a){return Cs(o,a)}function Cs(o,a,d){let h,p={};for(let m=0;m<o.length;m++){let S=o[m],y=hu(S),w="";if(w=d===void 0?y:d+"."+y,y===a.textNodeName)h===void 0?h=S[y]:h+=""+S[y];else{if(y===void 0)continue;if(S[y]){let b=Cs(S[y],a,w),C=Eu(b,a);S[Dr]!==void 0&&(b[Dr]=S[Dr]),S[":@"]?gu(b,S[":@"],w,a):Object.keys(b).length!==1||b[a.textNodeName]===void 0||a.alwaysCreateTextNode?Object.keys(b).length===0&&(a.alwaysCreateTextNode?b[a.textNodeName]="":b=""):b=b[a.textNodeName],p[y]!==void 0&&p.hasOwnProperty(y)?(Array.isArray(p[y])||(p[y]=[p[y]]),p[y].push(b)):a.isArray(y,w,C)?p[y]=[b]:p[y]=b}}}return typeof h=="string"?h.length>0&&(p[a.textNodeName]=h):h!==void 0&&(p[a.textNodeName]=h),p}function hu(o){let a=Object.keys(o);for(let d=0;d<a.length;d++){let h=a[d];if(h!==":@")return h}}function gu(o,a,d,h){if(a){let p=Object.keys(a),m=p.length;for(let S=0;S<m;S++){let y=p[S];h.isArray(y,d+"."+y,!0,!0)?o[y]=[a[y]]:o[y]=a[y]}}}function Eu(o,a){let{textNodeName:d}=a,h=Object.keys(o).length;return h===0||!(h!==1||!o[d]&&typeof o[d]!="boolean"&&o[d]!==0)}class yu{constructor(a){this.externalEntities={},this.options=(function(d){return Object.assign({},ke,d)})(a)}parse(a,d){if(typeof a!="string"){if(!a.toString)throw new Error("XML data is accepted in String or Bytes[] form.");a=a.toString()}if(d){d===!0&&(d={});let m=u(a,d);if(m!==!0)throw Error(`${m.err.msg}:${m.err.line}:${m.err.col}`)}let h=new ru(this.options);h.addExternalEntities(this.externalEntities);let p=h.parseXml(a);return this.options.preserveOrder||p===void 0?p:mu(p,this.options)}addEntity(a,d){if(d.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(a.indexOf("&")!==-1||a.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(d==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[a]=d}static getMetaDataSymbol(){return oe.getMetaDataSymbol()}}function Su(o,a){let d="";return a.format&&a.indentBy.length>0&&(d=`
`),Os(o,a,"",d)}function Os(o,a,d,h){let p="",m=!1;for(let S=0;S<o.length;S++){let y=o[S],w=wu(y);if(w===void 0)continue;let b="";if(b=d.length===0?w:`${d}.${w}`,w===a.textNodeName){let F=y[w];Tu(b,a)||(F=a.tagValueProcessor(w,F),F=Ps(F,a)),m&&(p+=h),p+=F,m=!1;continue}if(w===a.cdataPropName){m&&(p+=h),p+=`<![CDATA[${y[w][0][a.textNodeName]}]]>`,m=!1;continue}if(w===a.commentPropName){p+=h+`<!--${y[w][0][a.textNodeName]}-->`,m=!0;continue}if(w[0]==="?"){let F=Ds(y[":@"],a),L=w==="?xml"?"":h,q=y[w][0][a.textNodeName];q=q.length!==0?" "+q:"",p+=L+`<${w}${q}${F}?>`,m=!0;continue}let C=h;C!==""&&(C+=a.indentBy);let x=h+`<${w}${Ds(y[":@"],a)}`,k=Os(y[w],a,b,C);a.unpairedTags.indexOf(w)!==-1?a.suppressUnpairedNode?p+=x+">":p+=x+"/>":k&&k.length!==0||!a.suppressEmptyNode?k&&k.endsWith(">")?p+=x+`>${k}${h}</${w}>`:(p+=x+">",k&&h!==""&&(k.includes("/>")||k.includes("</"))?p+=h+a.indentBy+k+h:p+=k,p+=`</${w}>`):p+=x+"/>",m=!0}return p}function wu(o){let a=Object.keys(o);for(let d=0;d<a.length;d++){let h=a[d];if(o.hasOwnProperty(h)&&h!==":@")return h}}function Ds(o,a){let d="";if(o&&!a.ignoreAttributes)for(let h in o){if(!o.hasOwnProperty(h))continue;let p=a.attributeValueProcessor(h,o[h]);p=Ps(p,a),p===!0&&a.suppressBooleanAttributes?d+=` ${h.substr(a.attributeNamePrefix.length)}`:d+=` ${h.substr(a.attributeNamePrefix.length)}="${p}"`}return d}function Tu(o,a){let d=(o=o.substr(0,o.length-a.textNodeName.length-1)).substr(o.lastIndexOf(".")+1);for(let h in a.stopNodes)if(a.stopNodes[h]===o||a.stopNodes[h]==="*."+d)return!0;return!1}function Ps(o,a){if(o&&o.length>0&&a.processEntities)for(let d=0;d<a.entities.length;d++){let h=a.entities[d];o=o.replace(h.regex,h.val)}return o}let Nu={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,a){return a},attributeValueProcessor:function(o,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Se(o){this.options=Object.assign({},Nu,o),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=xs(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Au),this.processTextOrObjNode=bu,this.options.format?(this.indentate=Ru,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function bu(o,a,d,h){let p=this.j2x(o,d+1,h.concat(a));return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],a,p.attrStr,d):this.buildObjectNode(p.val,a,p.attrStr,d)}function Ru(o){return this.options.indentBy.repeat(o)}function Au(o){return!(!o.startsWith(this.options.attributeNamePrefix)||o===this.options.textNodeName)&&o.substr(this.attrPrefixLen)}Se.prototype.build=function(o){return this.options.preserveOrder?Su(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0,[]).val)},Se.prototype.j2x=function(o,a,d){let h="",p="",m=d.join(".");for(let S in o)if(Object.prototype.hasOwnProperty.call(o,S))if(o[S]===void 0)this.isAttribute(S)&&(p+="");else if(o[S]===null)this.isAttribute(S)||S===this.options.cdataPropName?p+="":S[0]==="?"?p+=this.indentate(a)+"<"+S+"?"+this.tagEndChar:p+=this.indentate(a)+"<"+S+"/"+this.tagEndChar;else if(o[S]instanceof Date)p+=this.buildTextValNode(o[S],S,"",a);else if(typeof o[S]!="object"){let y=this.isAttribute(S);if(y&&!this.ignoreAttributesFn(y,m))h+=this.buildAttrPairStr(y,""+o[S]);else if(!y)if(S===this.options.textNodeName){let w=this.options.tagValueProcessor(S,""+o[S]);p+=this.replaceEntitiesValue(w)}else p+=this.buildTextValNode(o[S],S,"",a)}else if(Array.isArray(o[S])){let y=o[S].length,w="",b="";for(let C=0;C<y;C++){let x=o[S][C];if(x!==void 0)if(x===null)S[0]==="?"?p+=this.indentate(a)+"<"+S+"?"+this.tagEndChar:p+=this.indentate(a)+"<"+S+"/"+this.tagEndChar;else if(typeof x=="object")if(this.options.oneListGroup){let k=this.j2x(x,a+1,d.concat(S));w+=k.val,this.options.attributesGroupName&&x.hasOwnProperty(this.options.attributesGroupName)&&(b+=k.attrStr)}else w+=this.processTextOrObjNode(x,S,a,d);else if(this.options.oneListGroup){let k=this.options.tagValueProcessor(S,x);k=this.replaceEntitiesValue(k),w+=k}else w+=this.buildTextValNode(x,S,"",a)}this.options.oneListGroup&&(w=this.buildObjectNode(w,S,b,a)),p+=w}else if(this.options.attributesGroupName&&S===this.options.attributesGroupName){let y=Object.keys(o[S]),w=y.length;for(let b=0;b<w;b++)h+=this.buildAttrPairStr(y[b],""+o[S][y[b]])}else p+=this.processTextOrObjNode(o[S],S,a,d);return{attrStr:h,val:p}},Se.prototype.buildAttrPairStr=function(o,a){return a=this.options.attributeValueProcessor(o,""+a),a=this.replaceEntitiesValue(a),this.options.suppressBooleanAttributes&&a==="true"?" "+o:" "+o+'="'+a+'"'},Se.prototype.buildObjectNode=function(o,a,d,h){if(o==="")return a[0]==="?"?this.indentate(h)+"<"+a+d+"?"+this.tagEndChar:this.indentate(h)+"<"+a+d+this.closeTag(a)+this.tagEndChar;{let p="</"+a+this.tagEndChar,m="";return a[0]==="?"&&(m="?",p=""),!d&&d!==""||o.indexOf("<")!==-1?this.options.commentPropName!==!1&&a===this.options.commentPropName&&m.length===0?this.indentate(h)+`<!--${o}-->`+this.newLine:this.indentate(h)+"<"+a+d+m+this.tagEndChar+o+this.indentate(h)+p:this.indentate(h)+"<"+a+d+m+">"+o+p}},Se.prototype.closeTag=function(o){let a="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(a="/"):a=this.options.suppressEmptyNode?"/":`></${o}`,a},Se.prototype.buildTextValNode=function(o,a,d,h){if(this.options.cdataPropName!==!1&&a===this.options.cdataPropName)return this.indentate(h)+`<![CDATA[${o}]]>`+this.newLine;if(this.options.commentPropName!==!1&&a===this.options.commentPropName)return this.indentate(h)+`<!--${o}-->`+this.newLine;if(a[0]==="?")return this.indentate(h)+"<"+a+d+"?"+this.tagEndChar;{let p=this.options.tagValueProcessor(a,o);return p=this.replaceEntitiesValue(p),p===""?this.indentate(h)+"<"+a+d+this.closeTag(a)+this.tagEndChar:this.indentate(h)+"<"+a+d+">"+p+"</"+a+this.tagEndChar}},Se.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let a=0;a<this.options.entities.length;a++){let d=this.options.entities[a];o=o.replace(d.regex,d.val)}return o};let _u={validate:u};Ea.exports=e})()});var Sa=B(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.parseXML=Sd;var yd=ya(),Zn=new yd.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(t,e)=>e.trim()===""&&e.includes(`
`)?"":void 0});Zn.addEntity("#xD","\r");Zn.addEntity("#10",`
`);function Sd(t){return Zn.parse(t,!0)}});var hr=B(mr=>{"use strict";var wd=Sa();function Td(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Nd(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var pr=class{value;constructor(e){this.value=e}toString(){return Nd(""+this.value)}},ts=class t{name;children;attributes={};static of(e,r,n){let s=new t(e);return r!==void 0&&s.addChildNode(new pr(r)),n!==void 0&&s.withName(n),s}constructor(e,r=[]){this.name=e,this.children=r}withName(e){return this.name=e,this}addAttribute(e,r){return this.attributes[e]=r,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,r){return r!=null&&(this.attributes[e]=r),this}cc(e,r,n=r){if(e[r]!=null){let s=t.of(r,e[r]).withName(n);this.c(s)}}l(e,r,n,s){e[r]!=null&&s().map(c=>{c.withName(n),this.c(c)})}lc(e,r,n,s){if(e[r]!=null){let i=s(),c=new t(n);i.map(u=>{c.c(u)}),this.c(c)}}toString(){let e=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${Td(""+i)}"`)}return r+=e?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(mr,"parseXML",{enumerable:!0,get:function(){return wd.parseXML}});mr.XmlNode=ts;mr.XmlText=pr});var wa,Ta,Na,qe,gr=R(()=>{wa=$(hr());re();te();Ta=$(Be()),Na=$(Ke());De();qe=class extends Z{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new Bs(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,r,n){let s=U.of(e),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(f=>!!f.getMemberTraits().eventPayload)){let f={},g=Object.keys(i)[0];return i[g].isBlobSchema()?f[g]=r:f[g]=this.read(i[g],r),f}let u=(this.serdeContext?.utf8Encoder??Na.toUtf8)(r),l=this.parseXml(u);return this.readSchema(e,n?l[n]:l)}readSchema(e,r){let n=U.of(e);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,c=!!s.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),f=[],g=l.getMergedTraits().xmlName??"member",E=c?r:(r[0]??r)[g],N=Array.isArray(E)?E:[E];for(let T of N)(T!=null||i)&&f.push(this.readSchema(l,T));return f}let u={};if(n.isMapSchema()){let l=n.getKeySchema(),f=n.getValueSchema(),g;c?g=Array.isArray(r)?r:[r]:g=Array.isArray(r.entry)?r.entry:[r.entry];let E=l.getMergedTraits().xmlName??"key",N=f.getMergedTraits().xmlName??"value";for(let T of g){let A=T[E],O=T[N];(O!=null||i)&&(u[A]=this.readSchema(f,O))}return u}if(n.isStructSchema()){for(let[l,f]of n.structIterator()){let g=f.getMergedTraits(),E=g.httpPayload?g.xmlName??f.getName():f.getMemberTraits().xmlName??l;r[E]!=null&&(u[l]=this.readSchema(f,r[E]))}return u}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(e){if(e.length){let r;try{r=(0,wa.parseXML)(e)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:e}),c}let n="#text",s=Object.keys(r)[0],i=r[s];return i[n]&&(i[s]=i[n],delete i[n]),(0,Ta.getValueFromTextNode)(i)}return{}}}});var ba,Ra,Er,Aa=R(()=>{re();te();de();ba=$(Be()),Ra=$(ut());De();Er=class extends Z{settings;buffer;constructor(e){super(),this.settings=e}write(e,r,n=""){this.buffer===void 0&&(this.buffer="");let s=U.of(e);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Ra.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Te.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof K?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Ne(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,ba.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),c=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,u=1;for(let l of r){if(l==null)continue;let f=this.getKey("member",i.getMergedTraits().xmlName),g=c?`${n}${u}`:`${n}${f}.${u}`;this.write(i,l,g),++u}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),c=s.getValueSchema(),u=s.getMergedTraits().xmlFlattened,l=1;for(let[f,g]of Object.entries(r)){if(g==null)continue;let E=this.getKey("key",i.getMergedTraits().xmlName),N=u?`${n}${l}.${E}`:`${n}entry.${l}.${E}`,T=this.getKey("value",c.getMergedTraits().xmlName),A=u?`${n}${l}.${T}`:`${n}entry.${l}.${T}`;this.write(i,f,N),this.write(c,g,A),++l}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,c]of s.structIterator()){if(r[i]==null&&!c.isIdempotencyToken())continue;let u=this.getKey(i,c.getMergedTraits().xmlName),l=`${n}${u}`;this.write(c,r[i],l)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let e=this.buffer;return delete this.buffer,e}getKey(e,r){let n=r??e;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${Mr(e)}=`}writeValue(e){this.buffer+=Mr(e)}}});var Rt,rs=R(()=>{re();te();nt();gr();Aa();Rt=class extends We{options;serializer;deserializer;mixin=new ne;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Er(r),this.deserializer=new qe(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,r,n){let s=await super.serializeRequest(e,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(Xe(e.input)==="unit"||!s.body)&&(s.body="");let i=e.name.split("#")[1]??e.name;return s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(e,r,n){let s=this.deserializer,i=U.of(e.output),c={};if(n.statusCode>=300){let E=await vr(n.body,r);E.byteLength>0&&Object.assign(c,await s.read(15,E)),await this.handleError(e,r,n,c,this.deserializeMetadata(n))}for(let E in n.headers){let N=n.headers[E];delete n.headers[E],n.headers[E.toLowerCase()]=N}let u=e.name.split("#")[1]??e.name,l=i.isStructSchema()&&this.useNestedResult()?u+"Result":void 0,f=await vr(n.body,r);return f.byteLength>0&&Object.assign(c,await s.read(i,f,l)),{$metadata:this.deserializeMetadata(n),...c}}useNestedResult(){return!0}async handleError(e,r,n,s,i){let c=this.loadQueryErrorCode(n,s)??"Unknown",u=this.loadQueryError(s),l=this.loadQueryErrorMessage(s);u.message=l,u.Error={Type:u.Type,Code:u.Code,Message:l};let{errorSchema:f,errorMetadata:g}=await this.mixin.getErrorSchemaOrThrowBaseException(c,this.options.defaultNamespace,n,u,i,(O,v)=>O.find(D=>U.of(D).getMergedTraits().awsQueryError?.[0]===v)),E=U.of(f),N=Q.for(f[1]).getErrorCtor(f)??Error,T=new N(l),A={Error:u.Error};for(let[O,v]of E.structIterator()){let D=v.getMergedTraits().xmlName??O,Y=u[D]??s[D];A[O]=this.deserializer.readSchema(v,Y)}throw Object.assign(T,g,{$fault:E.getMergedTraits().error,message:l},A)}loadQueryErrorCode(e,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(e.statusCode==404)return"NotFound"}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){let r=this.loadQueryError(e);return r?.message??r?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var ns,_a=R(()=>{rs();ns=class extends Rt{options;constructor(e){super(e),this.options=e;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var xa,Ia,Ca,bd,ss,is=R(()=>{xa=$(hr()),Ia=$(Be());Yn();Ca=(t,e)=>cr(t,e).then(r=>{if(r.length){let n;try{n=(0,xa.parseXML)(r)}catch(u){throw u&&typeof u=="object"&&Object.defineProperty(u,"$responseBodyText",{value:r}),u}let s="#text",i=Object.keys(n)[0],c=n[i];return c[s]&&(c[i]=c[s],delete c[s]),(0,Ia.getValueFromTextNode)(c)}return{}}),bd=async(t,e)=>{let r=await Ca(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},ss=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"}});var se,os,yr,At,as=R(()=>{se=$(hr());re();te();de();os=$(Be()),yr=$(ut());De();At=class extends Z{settings;stringBuffer;byteBuffer;buffer;constructor(e){super(),this.settings=e}write(e,r){let n=U.of(e);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??yr.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let e=this.buffer;return this.settings.xmlNamespace&&(e?.attributes?.xmlns||e.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,e.toString()}writeStruct(e,r,n){let s=e.getMergedTraits(),i=e.isMemberSchema()&&!s.httpPayload?e.getMemberTraits().xmlName??e.getMemberName():s.xmlName??e.getName();if(!i||!e.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${e.getName(!0)}.`);let c=se.XmlNode.of(i),[u,l]=this.getXmlnsAttribute(e,n);for(let[f,g]of e.structIterator()){let E=r[f];if(E!=null||g.isIdempotencyToken()){if(g.getMergedTraits().xmlAttribute){c.addAttribute(g.getMergedTraits().xmlName??f,this.writeSimple(g,E));continue}if(g.isListSchema())this.writeList(g,E,c,l);else if(g.isMapSchema())this.writeMap(g,E,c,l);else if(g.isStructSchema())c.addChildNode(this.writeStruct(g,E,l));else{let N=se.XmlNode.of(g.getMergedTraits().xmlName??g.getMemberName());this.writeSimpleInto(g,E,N,l),c.addChildNode(N)}}}return l&&c.addAttribute(u,l),c}writeList(e,r,n,s){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${e.getName(!0)}`);let i=e.getMergedTraits(),c=e.getValueSchema(),u=c.getMergedTraits(),l=!!u.sparse,f=!!i.xmlFlattened,[g,E]=this.getXmlnsAttribute(e,s),N=(T,A)=>{if(c.isListSchema())this.writeList(c,Array.isArray(A)?A:[A],T,E);else if(c.isMapSchema())this.writeMap(c,A,T,E);else if(c.isStructSchema()){let O=this.writeStruct(c,A,E);T.addChildNode(O.withName(f?i.xmlName??e.getMemberName():u.xmlName??"member"))}else{let O=se.XmlNode.of(f?i.xmlName??e.getMemberName():u.xmlName??"member");this.writeSimpleInto(c,A,O,E),T.addChildNode(O)}};if(f)for(let T of r)(l||T!=null)&&N(n,T);else{let T=se.XmlNode.of(i.xmlName??e.getMemberName());E&&T.addAttribute(g,E);for(let A of r)(l||A!=null)&&N(T,A);n.addChildNode(T)}}writeMap(e,r,n,s,i=!1){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${e.getName(!0)}`);let c=e.getMergedTraits(),u=e.getKeySchema(),f=u.getMergedTraits().xmlName??"key",g=e.getValueSchema(),E=g.getMergedTraits(),N=E.xmlName??"value",T=!!E.sparse,A=!!c.xmlFlattened,[O,v]=this.getXmlnsAttribute(e,s),D=(Y,H,W)=>{let ke=se.XmlNode.of(f,H),[ct,oe]=this.getXmlnsAttribute(u,v);oe&&ke.addAttribute(ct,oe),Y.addChildNode(ke);let Ue=se.XmlNode.of(N);g.isListSchema()?this.writeList(g,W,Ue,v):g.isMapSchema()?this.writeMap(g,W,Ue,v,!0):g.isStructSchema()?Ue=this.writeStruct(g,W,v):this.writeSimpleInto(g,W,Ue,v),Y.addChildNode(Ue)};if(A){for(let[Y,H]of Object.entries(r))if(T||H!=null){let W=se.XmlNode.of(c.xmlName??e.getMemberName());D(W,Y,H),n.addChildNode(W)}}else{let Y;i||(Y=se.XmlNode.of(c.xmlName??e.getMemberName()),v&&Y.addAttribute(O,v),n.addChildNode(Y));for(let[H,W]of Object.entries(r))if(T||W!=null){let ke=se.XmlNode.of("entry");D(ke,H,W),(i?n:Y).addChildNode(ke)}}}writeSimple(e,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=U.of(e),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??yr.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Ne(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,os.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,os.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof K?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,Te.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(e,r,n,s){let i=this.writeSimple(e,r),c=U.of(e),u=new se.XmlText(i),[l,f]=this.getXmlnsAttribute(c,s);f&&n.addAttribute(l,f),n.addChildNode(u)}getXmlnsAttribute(e,r){let n=e.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var _t,cs=R(()=>{De();gr();as();_t=class extends Z{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new At(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new qe(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var us,Oa=R(()=>{re();te();nt();is();cs();us=class extends kt{codec;serializer;deserializer;mixin=new ne;constructor(e){super(e);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace};this.codec=new _t(r),this.serializer=new Lt(this.codec.createSerializer(),r),this.deserializer=new Ut(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(e,r,n){let s=await super.serializeRequest(e,r,n),i=U.of(e.input);if(!s.headers["content-type"]){let c=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);c&&(s.headers["content-type"]=c)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(e,r,n){return super.deserializeResponse(e,r,n)}async handleError(e,r,n,s,i){let c=ss(n,s)??"Unknown",{errorSchema:u,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(c,this.options.defaultNamespace,n,s,i),f=U.of(u),g=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",E=Q.for(u[1]).getErrorCtor(u)??Error,N=new E(g);await this.deserializeHttpMessage(u,r,n,s);let T={};for(let[A,O]of f.structIterator()){let v=O.getMergedTraits().xmlName??A,D=s.Error?.[v]??s[v];T[A]=this.codec.createDeserializer().readSchema(O,D)}throw Object.assign(N,l,{$fault:f.getMergedTraits().error,message:g},T)}getDefaultContentType(){return"application/xml"}}});var Da=R(()=>{ra();na();fa();pa();fr();ma();dr();Kn();Xn();ga();Tt();_a();rs();Oa();cs();gr();as();is()});var Pa={};Dt(Pa,{AWSSDKSigV4Signer:()=>sn,AwsEc2QueryProtocol:()=>ns,AwsJson1_0Protocol:()=>Wn,AwsJson1_1Protocol:()=>Qn,AwsJsonRpcProtocol:()=>je,AwsQueryProtocol:()=>Rt,AwsRestJsonProtocol:()=>Jn,AwsRestXmlProtocol:()=>us,AwsSdkSigV4ASigner:()=>mt,AwsSdkSigV4Signer:()=>Re,AwsSmithyRpcV2CborProtocol:()=>Gn,JsonCodec:()=>Ve,JsonShapeDeserializer:()=>Nt,JsonShapeSerializer:()=>bt,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Hi,NODE_SIGV4A_CONFIG_OPTIONS:()=>qi,XmlCodec:()=>_t,XmlShapeDeserializer:()=>qe,XmlShapeSerializer:()=>At,_toBool:()=>md,_toNum:()=>hd,_toStr:()=>pd,awsExpectUnion:()=>Ed,emitWarningIfUnsupportedVersion:()=>vu,getBearerTokenEnvKey:()=>jt,loadRestJsonErrorCode:()=>wt,loadRestXmlErrorCode:()=>ss,parseJsonBody:()=>ur,parseJsonErrorBody:()=>gd,parseXmlBody:()=>Ca,parseXmlErrorBody:()=>bd,resolveAWSSDKSigV4Config:()=>yo,resolveAwsSdkSigV4AConfig:()=>ji,resolveAwsSdkSigV4Config:()=>Nn,setCredentialFeature:()=>kr,setFeature:()=>Mu,setTokenFeature:()=>ku,state:()=>Pu,validateSigningProperties:()=>Ze});var va=R(()=>{Hs();To();Da()});var Ba=B(st=>{"use strict";var Rd=(ft(),Pt(Zr)),Ad=zo(),_d=ee(),ue=(va(),Pt(Pa)),La=void 0;function xd(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function Id(t){let e=Rd.normalizeProvider(t.userAgentAppId??La),{customUserAgent:r}=t;return Object.assign(t,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await e();if(!xd(n)){let s=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var Cd=/\d{12}\.ddb/;async function Od(t,e,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&ue.setFeature(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let i=await e.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?ue.setFeature(t,"RETRY_MODE_ADAPTIVE","F"):ue.setFeature(t,"RETRY_MODE_STANDARD","E"):ue.setFeature(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let i=t.endpointV2;switch(String(i?.url?.hostname).match(Cd)&&ue.setFeature(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":ue.setFeature(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":ue.setFeature(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":ue.setFeature(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&ue.setFeature(t,"RESOLVED_ACCOUNT_ID","T");for(let[c,u]of Object.entries(i.$source??{}))ue.setFeature(t,c,u)}}var Ma="user-agent",ls="x-amz-user-agent",ka=" ",ds="/",Dd=/[^!$%&'*+\-.^_`|~\w]/g,Pd=/[^!$%&'*+\-.^_`|~\w#]/g,Ua="-",vd=1024;function Md(t){let e="";for(let r in t){let n=t[r];if(e.length+n.length+1<=vd){e.length?e+=","+n:e+=n;continue}break}return e}var $a=t=>(e,r)=>async n=>{let{request:s}=n;if(!_d.HttpRequest.isInstance(s))return e(n);let{headers:i}=s,c=r?.userAgent?.map(Sr)||[],u=(await t.defaultUserAgentProvider()).map(Sr);await Od(r,t,n);let l=r;u.push(`m/${Md(Object.assign({},r.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let f=t?.customUserAgent?.map(Sr)||[],g=await t.userAgentAppId();g&&u.push(Sr(["app",`${g}`]));let E=Ad.getUserAgentPrefix(),N=(E?[E]:[]).concat([...u,...c,...f]).join(ka),T=[...u.filter(A=>A.startsWith("aws-sdk-")),...f].join(ka);return t.runtime!=="browser"?(T&&(i[ls]=i[ls]?`${i[Ma]} ${T}`:T),i[Ma]=N):i[ls]=N,e({...n,request:s})},Sr=t=>{let e=t[0].split(ds).map(c=>c.replace(Dd,Ua)).join(ds),r=t[1]?.replace(Pd,Ua),n=e.indexOf(ds),s=e.substring(0,n),i=e.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(c=>c&&c.length>0).reduce((c,u,l)=>{switch(l){case 0:return u;case 1:return`${c}/${u}`;default:return`${c}#${u}`}},"")},Fa={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},kd=t=>({applyToStack:e=>{e.add($a(t),Fa)}});st.DEFAULT_UA_APP_ID=La;st.getUserAgentMiddlewareOptions=Fa;st.getUserAgentPlugin=kd;st.resolveUserAgentConfig=Id;st.userAgentMiddleware=$a});var za=B(it=>{"use strict";var Ud=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}},Ld=(t,e,r)=>{if(!(e in t))return;let n=parseInt(t[e],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${e}'. Expected number, got '${t[e]}'.`);return n};it.SelectorType=void 0;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(it.SelectorType||(it.SelectorType={}));it.booleanSelector=Ud;it.numberSelector=Ld});var Tr=B(X=>{"use strict";var Pe=za(),wr=Fe(),$d=Cn(),ja="AWS_USE_DUALSTACK_ENDPOINT",qa="use_dualstack_endpoint",Fd=!1,Bd={environmentVariableSelector:t=>Pe.booleanSelector(t,ja,Pe.SelectorType.ENV),configFileSelector:t=>Pe.booleanSelector(t,qa,Pe.SelectorType.CONFIG),default:!1},Ga="AWS_USE_FIPS_ENDPOINT",Ya="use_fips_endpoint",zd=!1,Hd={environmentVariableSelector:t=>Pe.booleanSelector(t,Ga,Pe.SelectorType.ENV),configFileSelector:t=>Pe.booleanSelector(t,Ya,Pe.SelectorType.CONFIG),default:!1},Vd=t=>{let{tls:e,endpoint:r,urlParser:n,useDualstackEndpoint:s}=t;return Object.assign(t,{tls:e??!0,endpoint:wr.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:wr.normalizeProvider(s??!1)})},jd=async t=>{let{tls:e=!0}=t,r=await t.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await t.useDualstackEndpoint(),i=await t.useFipsEndpoint(),{hostname:c}=await t.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:i})??{};if(!c)throw new Error("Cannot resolve hostname from client config");return t.urlParser(`${e?"https:":"http:"}//${c}`)},qd=t=>{let e=wr.normalizeProvider(t.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:i}=t;return Object.assign(t,{tls:i??!0,endpoint:r?wr.normalizeProvider(typeof r=="string"?s(r):r):()=>jd({...t,useDualstackEndpoint:e,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:e})},Ka="AWS_REGION",Xa="region",Gd={environmentVariableSelector:t=>t[Ka],configFileSelector:t=>t[Xa],default:()=>{throw new Error("Region is missing")}},Yd={preferredFile:"credentials"},Ha=new Set,Kd=(t,e=$d.isValidHostLabel)=>{if(!Ha.has(t)&&!e(t))if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);else Ha.add(t)},Wa=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),Xd=t=>Wa(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,Wd=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{let n=typeof e=="function"?await e():e,s=Xd(n);return Kd(s),s},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return Wa(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},Va=(t=[],{useFipsEndpoint:e,useDualstackEndpoint:r})=>t.find(({tags:n})=>e===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,Qd=(t,{regionHostname:e,partitionHostname:r})=>e||(r?r.replace("{region}",t):void 0),Jd=(t,{partitionHash:e})=>Object.keys(e||{}).find(r=>e[r].regions.includes(t))??"aws",Zd=(t,{signingRegion:e,regionRegex:r,useFipsEndpoint:n})=>{if(e)return e;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=t.match(s);if(i)return i[0].slice(1,-1)}},ef=(t,{useFipsEndpoint:e=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{let c=Jd(t,{partitionHash:i}),u=t in s?t:i[c]?.endpoint??t,l={useFipsEndpoint:e,useDualstackEndpoint:r},f=Va(s[u]?.variants,l),g=Va(i[c]?.variants,l),E=Qd(u,{regionHostname:f,partitionHostname:g});if(E===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:u,useFipsEndpoint:e,useDualstackEndpoint:r}}`);let N=Zd(E,{signingRegion:s[u]?.signingRegion,regionRegex:i[c].regionRegex,useFipsEndpoint:e});return{partition:c,signingService:n,hostname:E,...N&&{signingRegion:N},...s[u]?.signingService&&{signingService:s[u].signingService}}};X.CONFIG_USE_DUALSTACK_ENDPOINT=qa;X.CONFIG_USE_FIPS_ENDPOINT=Ya;X.DEFAULT_USE_DUALSTACK_ENDPOINT=Fd;X.DEFAULT_USE_FIPS_ENDPOINT=zd;X.ENV_USE_DUALSTACK_ENDPOINT=ja;X.ENV_USE_FIPS_ENDPOINT=Ga;X.NODE_REGION_CONFIG_FILE_OPTIONS=Yd;X.NODE_REGION_CONFIG_OPTIONS=Gd;X.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=Bd;X.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=Hd;X.REGION_ENV_NAME=Ka;X.REGION_INI_NAME=Xa;X.getRegionInfo=ef;X.resolveCustomEndpointsConfig=Vd;X.resolveEndpointsConfig=qd;X.resolveRegionConfig=Wd});var nf=B(Nr=>{"use strict";var tf=ee(),Qa="content-length";function Ja(t){return e=>async r=>{let n=r.request;if(tf.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(c=>c.toLowerCase()).indexOf(Qa)===-1)try{let c=t(s);n.headers={...n.headers,[Qa]:String(c)}}catch{}}return e({...r,request:n})}}var Za={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},rf=t=>({applyToStack:e=>{e.add(Ja(t.bodyLengthChecker),Za)}});Nr.contentLengthMiddleware=Ja;Nr.contentLengthMiddlewareOptions=Za;Nr.getContentLengthPlugin=rf});var nc=B(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.getEndpointUrlConfig=void 0;var ec=Uu(),tc="AWS_ENDPOINT_URL",rc="endpoint_url",sf=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(i=>i.toUpperCase()),n=e[[tc,...r].join("_")];if(n)return n;let s=e[tc];if(s)return s},configFileSelector:(e,r)=>{if(r&&e.services){let s=r[["services",e.services].join(ec.CONFIG_PREFIX_SEPARATOR)];if(s){let i=t.split(" ").map(u=>u.toLowerCase()),c=s[[i.join("_"),rc].join(ec.CONFIG_PREFIX_SEPARATOR)];if(c)return c}}let n=e[rc];if(n)return n},default:void 0});br.getEndpointUrlConfig=sf});var sc=B(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.getEndpointFromConfig=void 0;var of=Ur(),af=nc(),cf=async t=>(0,of.loadConfig)((0,af.getEndpointUrlConfig)(t??""))();Rr.getEndpointFromConfig=cf});var Tf=B(Ee=>{"use strict";var oc=sc(),ic=zs(),uf=(ft(),Pt(Zr)),Ar=Fe(),lf=Hr(),df=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),gf(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!hf(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},ff=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,pf=/(\d+\.){3}\d+/,mf=/\.\./,hf=t=>ff.test(t)&&!pf.test(t)&&!mf.test(t),gf=t=>{let[e,r,n,,,s]=t.split(":"),i=e==="arn"&&t.split(":").length>=6,c=!!(i&&r&&n&&s);if(i&&!c)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return c},Ef=(t,e,r)=>{let n=async()=>{let s=r[t]??r[e];return typeof s=="function"?s():s};return t==="credentialScope"||e==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:c,port:u,path:l}=s;return`${i}//${c}${u?":"+u:""}${l}`}}return s}:n},fs=t=>typeof t=="object"?"url"in t?ic.parseUrl(t.url):t:ic.parseUrl(t),ac=async(t,e,r,n)=>{if(!r.isCustomEndpoint){let c;r.serviceConfiguredEndpoint?c=await r.serviceConfiguredEndpoint():c=await oc.getEndpointFromConfig(r.serviceId),c&&(r.endpoint=()=>Promise.resolve(fs(c)),r.isCustomEndpoint=!0)}let s=await cc(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},cc=async(t,e,r)=>{let n={},s=e?.getEndpointParameterInstructions?.()||{};for(let[i,c]of Object.entries(s))switch(c.type){case"staticContextParams":n[i]=c.value;break;case"contextParams":n[i]=t[c.name];break;case"clientContextParams":case"builtInParams":n[i]=await Ef(c.name,i,r)();break;case"operationContextParams":n[i]=c.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(c))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await df(n),n},uc=({config:t,instructions:e})=>(r,n)=>async s=>{t.isCustomEndpoint&&uf.setFeature(n,"ENDPOINT_OVERRIDE","N");let i=await ac(s.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let c=n.authSchemes?.[0];if(c){n.signing_region=c.signingRegion,n.signing_service=c.signingName;let l=Ar.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:c.signingRegion,signingRegion:c.signingRegion,signing_service:c.signingName,signingName:c.signingName,signingRegionSet:c.signingRegionSet},c.properties))}return r({...s})},lc={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:lf.serializerMiddlewareOption.name},yf=(t,e)=>({applyToStack:r=>{r.addRelativeTo(uc({config:t,instructions:e}),lc)}}),Sf=t=>{let e=t.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=t,i=r!=null?async()=>fs(await Ar.normalizeProvider(r)()):void 0,u=Object.assign(t,{endpoint:i,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:Ar.normalizeProvider(n??!1),useFipsEndpoint:Ar.normalizeProvider(s??!1)}),l;return u.serviceConfiguredEndpoint=async()=>(t.serviceId&&!l&&(l=oc.getEndpointFromConfig(t.serviceId)),l),u},wf=t=>{let{endpoint:e}=t;return e===void 0&&(t.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),t};Ee.endpointMiddleware=uc;Ee.endpointMiddlewareOptions=lc;Ee.getEndpointFromInstructions=ac;Ee.getEndpointPlugin=yf;Ee.resolveEndpointConfig=Sf;Ee.resolveEndpointRequiredConfig=wf;Ee.resolveParams=cc;Ee.toEndpointV1=fs});var ms=B(ve=>{"use strict";var Nf=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],bf=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Rf=["TimeoutError","RequestTimeout","RequestTimeoutException"],Af=[500,502,503,504],_f=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],xf=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],dc=t=>t?.$retryable!==void 0,If=t=>Nf.includes(t.name),fc=t=>t.$metadata?.clockSkewCorrected,pc=t=>{let e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},Cf=t=>t.$metadata?.httpStatusCode===429||bf.includes(t.name)||t.$retryable?.throttling==!0,ps=(t,e=0)=>dc(t)||fc(t)||Rf.includes(t.name)||_f.includes(t?.code||"")||xf.includes(t?.code||"")||Af.includes(t.$metadata?.httpStatusCode||0)||pc(t)||t.cause!==void 0&&e<=10&&ps(t.cause,e+1),Of=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!ps(t)}return!1};ve.isBrowserNetworkError=pc;ve.isClockSkewCorrectedError=fc;ve.isClockSkewError=If;ve.isRetryableByTrait=dc;ve.isServerError=Of;ve.isThrottlingError=Cf;ve.isTransientError=ps});var Sc=B(j=>{"use strict";var Df=ms();j.RETRY_MODES=void 0;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(j.RETRY_MODES||(j.RETRY_MODES={}));var hs=3,Pf=j.RETRY_MODES.STANDARD,_r=class t{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>t.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),Df.isThrottlingError(e)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}},xt=100,Ss=20*1e3,hc=500,gs=500,gc=5,Ec=10,yc=1,vf="amz-sdk-invocation-id",Mf="amz-sdk-request",kf=()=>{let t=xt;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Ss,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}},mc=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(Ss,t),getRetryCost:()=>r}),It=class{maxAttempts;mode=j.RETRY_MODES.STANDARD;capacity=gs;retryBackoffStrategy=kf();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return mc({retryDelay:xt,retryCount:0})}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?hc:xt);let i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),c=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,u=this.getCapacityCost(s);return this.capacity-=u,mc({retryDelay:c,retryCount:e.getRetryCount()+1,retryCost:u})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(gs,this.capacity+(e.getRetryCost()??yc))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${hs}`),hs}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?Ec:gc}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},Es=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=j.RETRY_MODES.ADAPTIVE;constructor(e,r){this.maxAttemptsProvider=e;let{rateLimiter:n}=r??{};this.rateLimiter=n??new _r,this.standardRetryStrategy=new It(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},ys=class extends It{computeNextBackoffDelay;constructor(e,r=xt){super(typeof e=="function"?e:async()=>e),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(e,r){let n=await super.refreshRetryTokenForRetry(e,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};j.AdaptiveRetryStrategy=Es;j.ConfiguredRetryStrategy=ys;j.DEFAULT_MAX_ATTEMPTS=hs;j.DEFAULT_RETRY_DELAY_BASE=xt;j.DEFAULT_RETRY_MODE=Pf;j.DefaultRateLimiter=_r;j.INITIAL_RETRY_TOKENS=gs;j.INVOCATION_ID_HEADER=vf;j.MAXIMUM_RETRY_DELAY=Ss;j.NO_RETRY_INCREMENT=yc;j.REQUEST_HEADER=Mf;j.RETRY_COST=gc;j.StandardRetryStrategy=It;j.THROTTLING_RETRY_DELAY_BASE=hc;j.TIMEOUT_RETRY_COST=Ec});var wc=B(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.isStreamingPayload=void 0;var Uf=Ye("stream"),Lf=t=>t?.body instanceof Uf.Readable||typeof ReadableStream<"u"&&t?.body instanceof ReadableStream;xr.isStreamingPayload=Lf});var Wf=B(G=>{"use strict";var V=Sc(),ot=ee(),Me=ms(),Nc=Du(),Tc=Fe(),$f=Be(),Ff=wc(),Bf=(t,e)=>{let r=t,n=V.NO_RETRY_INCREMENT,s=V.RETRY_COST,i=V.TIMEOUT_RETRY_COST,c=t,u=E=>E.name==="TimeoutError"?i:s,l=E=>u(E)<=c;return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:E=>{if(!l(E))throw new Error("No retry token available");let N=u(E);return c-=N,N},releaseRetryTokens:E=>{c+=E??n,c=Math.min(c,r)}})},bc=(t,e)=>Math.floor(Math.min(V.MAXIMUM_RETRY_DELAY,Math.random()*2**e*t)),Rc=t=>t?Me.isRetryableByTrait(t)||Me.isClockSkewError(t)||Me.isThrottlingError(t)||Me.isTransientError(t):!1,Ac=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),Ir=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=V.RETRY_MODES.STANDARD;constructor(e,r){this.maxAttemptsProvider=e,this.retryDecider=r?.retryDecider??Rc,this.delayDecider=r?.delayDecider??bc,this.retryQuota=r?.retryQuota??Bf(V.INITIAL_RETRY_TOKENS)}shouldRetry(e,r,n){return r<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=V.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,r,n){let s,i=0,c=0,u=await this.getMaxAttempts(),{request:l}=r;for(ot.HttpRequest.isInstance(l)&&(l.headers[V.INVOCATION_ID_HEADER]=Nc.v4());;)try{ot.HttpRequest.isInstance(l)&&(l.headers[V.REQUEST_HEADER]=`attempt=${i+1}; max=${u}`),n?.beforeRequest&&await n.beforeRequest();let{response:f,output:g}=await e(r);return n?.afterRequest&&n.afterRequest(f),this.retryQuota.releaseRetryTokens(s),g.$metadata.attempts=i+1,g.$metadata.totalRetryDelay=c,{response:f,output:g}}catch(f){let g=Ac(f);if(i++,this.shouldRetry(g,i,u)){s=this.retryQuota.retrieveRetryTokens(g);let E=this.delayDecider(Me.isThrottlingError(g)?V.THROTTLING_RETRY_DELAY_BASE:V.DEFAULT_RETRY_DELAY_BASE,i),N=zf(g.$response),T=Math.max(N||0,E);c+=T,await new Promise(A=>setTimeout(A,T));continue}throw g.$metadata||(g.$metadata={}),g.$metadata.attempts=i,g.$metadata.totalRetryDelay=c,g}}},zf=t=>{if(!ot.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},ws=class extends Ir{rateLimiter;constructor(e,r){let{rateLimiter:n,...s}=r??{};super(e,s),this.rateLimiter=n??new V.DefaultRateLimiter,this.mode=V.RETRY_MODES.ADAPTIVE}async retry(e,r){return super.retry(e,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Ts="AWS_MAX_ATTEMPTS",Ns="max_attempts",Hf={environmentVariableSelector:t=>{let e=t[Ts];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${Ts} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[Ns];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Ns} mast be a number, got "${e}"`);return r},default:V.DEFAULT_MAX_ATTEMPTS},Vf=t=>{let{retryStrategy:e,retryMode:r,maxAttempts:n}=t,s=Tc.normalizeProvider(n??V.DEFAULT_MAX_ATTEMPTS);return Object.assign(t,{maxAttempts:s,retryStrategy:async()=>e||(await Tc.normalizeProvider(r)()===V.RETRY_MODES.ADAPTIVE?new V.AdaptiveRetryStrategy(s):new V.StandardRetryStrategy(s))})},_c="AWS_RETRY_MODE",xc="retry_mode",jf={environmentVariableSelector:t=>t[_c],configFileSelector:t=>t[xc],default:V.DEFAULT_RETRY_MODE},Ic=()=>t=>async e=>{let{request:r}=e;return ot.HttpRequest.isInstance(r)&&(delete r.headers[V.INVOCATION_ID_HEADER],delete r.headers[V.REQUEST_HEADER]),t(e)},Cc={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},qf=t=>({applyToStack:e=>{e.addRelativeTo(Ic(),Cc)}}),Oc=t=>(e,r)=>async n=>{let s=await t.retryStrategy(),i=await t.maxAttempts();if(Gf(s)){s=s;let c=await s.acquireInitialRetryToken(r.partition_id),u=new Error,l=0,f=0,{request:g}=n,E=ot.HttpRequest.isInstance(g);for(E&&(g.headers[V.INVOCATION_ID_HEADER]=Nc.v4());;)try{E&&(g.headers[V.REQUEST_HEADER]=`attempt=${l+1}; max=${i}`);let{response:N,output:T}=await e(n);return s.recordSuccess(c),T.$metadata.attempts=l+1,T.$metadata.totalRetryDelay=f,{response:N,output:T}}catch(N){let T=Yf(N);if(u=Ac(N),E&&Ff.isStreamingPayload(g))throw(r.logger instanceof $f.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),u;try{c=await s.refreshRetryTokenForRetry(c,T)}catch{throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=l+1,u.$metadata.totalRetryDelay=f,u}l=c.getRetryCount();let A=c.getRetryDelay();f+=A,await new Promise(O=>setTimeout(O,A))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,n)},Gf=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",Yf=t=>{let e={error:t,errorType:Kf(t)},r=Pc(t.$response);return r&&(e.retryAfterHint=r),e},Kf=t=>Me.isThrottlingError(t)?"THROTTLING":Me.isTransientError(t)?"TRANSIENT":Me.isServerError(t)?"SERVER_ERROR":"CLIENT_ERROR",Dc={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Xf=t=>({applyToStack:e=>{e.add(Oc(t),Dc)}}),Pc=t=>{if(!ot.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};G.AdaptiveRetryStrategy=ws;G.CONFIG_MAX_ATTEMPTS=Ns;G.CONFIG_RETRY_MODE=xc;G.ENV_MAX_ATTEMPTS=Ts;G.ENV_RETRY_MODE=_c;G.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=Hf;G.NODE_RETRY_MODE_CONFIG_OPTIONS=jf;G.StandardRetryStrategy=Ir;G.defaultDelayDecider=bc;G.defaultRetryDecider=Rc;G.getOmitRetryHeadersPlugin=qf;G.getRetryAfterHint=Pc;G.getRetryPlugin=Xf;G.omitRetryHeadersMiddleware=Ic;G.omitRetryHeadersMiddlewareOptions=Cc;G.resolveRetryConfig=Vf;G.retryMiddleware=Oc;G.retryMiddlewareOptions=Dc});var rp=B(Ge=>{"use strict";var vc=Ye("os"),bs=Ye("process"),Qf=Ba(),Mc={isCrtAvailable:!1},Jf=()=>Mc.isCrtAvailable?["md/crt-avail"]:null,kc=({serviceId:t,clientVersion:e})=>async r=>{let n=[["aws-sdk-js",e],["ua","2.1"],[`os/${vc.platform()}`,vc.release()],["lang/js"],["md/nodejs",`${bs.versions.node}`]],s=Jf();s&&n.push(s),t&&n.push([`api/${t}`,e]),bs.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${bs.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},Zf=kc,Uc="AWS_SDK_UA_APP_ID",Lc="sdk_ua_app_id",ep="sdk-ua-app-id",tp={environmentVariableSelector:t=>t[Uc],configFileSelector:t=>t[Lc]??t[ep],default:Qf.DEFAULT_UA_APP_ID};Ge.NODE_APP_ID_CONFIG_OPTIONS=tp;Ge.UA_APP_ID_ENV_NAME=Uc;Ge.UA_APP_ID_INI_NAME=Lc;Ge.createDefaultUserAgentProvider=kc;Ge.crtAvailability=Mc;Ge.defaultUserAgent=Zf});var ip=B(Bc=>{"use strict";var Rs=Iu(),np=Ke(),sp=Ye("buffer"),$c=Ye("crypto"),As=class{algorithmIdentifier;secret;hash;constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update(np.toUint8Array(Fc(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?$c.createHmac(this.algorithmIdentifier,Fc(this.secret)):$c.createHash(this.algorithmIdentifier)}};function Fc(t,e){return sp.Buffer.isBuffer(t)?t:typeof t=="string"?Rs.fromString(t,e):ArrayBuffer.isView(t)?Rs.fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength):Rs.fromArrayBuffer(t)}Bc.Hash=As});var ap=B(zc=>{"use strict";var _s=Ye("node:fs"),op=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(t instanceof _s.ReadStream){if(t.path!=null)return _s.lstatSync(t.path).size;if(typeof t.fd=="number")return _s.fstatSync(t.fd).size}throw new Error(`Body Length computation failed for ${t}`)};zc.calculateBodyLength=op});var wp=B(qc=>{"use strict";var cp=Tr(),Hc=Ur(),up=Vs(),lp="AWS_EXECUTION_ENV",Vc="AWS_REGION",jc="AWS_DEFAULT_REGION",dp="AWS_EC2_METADATA_DISABLED",fp=["in-region","cross-region","mobile","standard","legacy"],pp="/latest/meta-data/placement/region",mp="AWS_DEFAULTS_MODE",hp="defaults_mode",gp={environmentVariableSelector:t=>t[mp],configFileSelector:t=>t[hp],default:"legacy"},Ep=({region:t=Hc.loadConfig(cp.NODE_REGION_CONFIG_OPTIONS),defaultsMode:e=Hc.loadConfig(gp)}={})=>up.memoize(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return yp(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${fp.join(", ")}, got ${r}`)}}),yp=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await Sp();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},Sp=async()=>{if(process.env[lp]&&(process.env[Vc]||process.env[jc]))return process.env[Vc]??process.env[jc];if(!process.env[dp])try{let{getInstanceMetadataEndpoint:t,httpRequest:e}=await import("./dist-cjs-DVNK5WPR.js"),r=await t();return(await e({...r,path:pp})).toString()}catch{}};qc.resolveDefaultsModeConfig=Ep});var Yc=B(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.warning=void 0;at.stsRegionDefaultResolver=Np;var Gc=Tr(),Tp=Ur();function Np(t={}){return(0,Tp.loadConfig)({...Gc.NODE_REGION_CONFIG_OPTIONS,async default(){return at.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...Gc.NODE_REGION_CONFIG_FILE_OPTIONS,...t})}at.warning={silence:!1}});var Ap=B(le=>{"use strict";var Ct=Tr(),Kc=Yc(),bp=t=>({setRegion(e){t.region=e},region(){return t.region}}),Rp=t=>({region:t.region()});Object.defineProperty(le,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Ct.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(le,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Ct.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(le,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Ct.REGION_ENV_NAME}});Object.defineProperty(le,"REGION_INI_NAME",{enumerable:!0,get:function(){return Ct.REGION_INI_NAME}});Object.defineProperty(le,"resolveRegionConfig",{enumerable:!0,get:function(){return Ct.resolveRegionConfig}});le.getAwsRegionExtensionConfiguration=bp;le.resolveAwsRegionExtensionConfiguration=Rp;Object.keys(Kc).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(le,t)&&Object.defineProperty(le,t,{enumerable:!0,get:function(){return Kc[t]}})})});export{Bu as a,Hu as b,Zu as c,tl as d,Hr as e,ol as f,qr as g,Wr as h,Zr as i,ft as j,Cn as k,zo as l,Re as m,Hi as n,Nn as o,Al as p,To as q,ur as r,gd as s,wt as t,Ca as u,bd as v,Pa as w,va as x,Ba as y,Tr as z,nf as A,Tf as B,Sc as C,Wf as D,rp as E,ip as F,ap as G,wp as H,Ap as I};
//# sourceMappingURL=chunk-EA344DRM.js.map
