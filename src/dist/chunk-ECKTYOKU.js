import{a as En,b as St}from"./chunk-LYFCWPCD.js";import{A as gn,B as be,C as Sn,D as ht,E as yn,F as An,G as Cn,H as Pn,I as Et,a as on,b as nn,c as rn,d as ct,e as at,f as lt,g as dt,h as te,j as Ie,k as dn,l as un,m as ne,n as ut,o as pt,u as _e,v as ft,x as re,y as fn,z as gt}from"./chunk-EA344DRM.js";import{a as mn,b as hn}from"./chunk-COHAZZTS.js";import{L as P,a as it,b as sn,c as an,f as ln}from"./chunk-M7G2GFUC.js";import{c as cn}from"./chunk-MKRX7O3O.js";import{b as mt,c as oe,g as pn}from"./chunk-VX6DIAJP.js";import{b as p,d as tn,e as s}from"./chunk-2B6HUC56.js";function xn(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(o,t)=>({signingProperties:{config:o,context:t}})}}function Rn(e){return{schemeId:"smithy.api#noAuth"}}var j,yt,At,In,Ct,ve=p(()=>{re();j=s(sn());G();yt=async(e,o,t)=>({operation:(0,j.getSmithyContext)(o).operation,region:await(0,j.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});At=e=>{let o=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{o.push(Rn(e));break}default:o.push(xn(e))}return o},In=e=>Object.assign(e,{stsClientCtor:x}),Ct=e=>{let o=In(e),t=pt(o);return Object.assign(t,{authSchemePreference:(0,j.normalizeProvider)(e.authSchemePreference??[])})}});var Pt,se,ie=p(()=>{Pt=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),se={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var kt,i,d,b,f,Wt,Ot,m,xt,R,W,De,Rt,we,Nt,It,g,_t,Ft,$t,h,y,bt,Ut,Lt,vt,zt,wt,Dt,Tt,Ht,_n,qt,Kt=p(()=>{kt="required",i="type",d="argv",b="booleanEquals",f="stringEquals",Wt="sigv4",Ot="us-east-1",m="endpoint",xt="https://sts.{Region}.{PartitionResult#dnsSuffix}",R="tree",W="error",De="getAttr",Rt={[kt]:!1,[i]:"string"},we={[kt]:!0,default:!1,[i]:"boolean"},Nt={ref:"Endpoint"},It={fn:"isSet",[d]:[{ref:"Region"}]},g={ref:"Region"},_t={fn:"aws.partition",[d]:[g],assign:"PartitionResult"},Ft={ref:"UseFIPS"},$t={ref:"UseDualStack"},h={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Wt,signingName:"sts",signingRegion:Ot}]},headers:{}},y={},bt={conditions:[{fn:f,[d]:[g,"aws-global"]}],[m]:h,[i]:m},Ut={fn:b,[d]:[Ft,!0]},Lt={fn:b,[d]:[$t,!0]},vt={fn:De,[d]:[{ref:"PartitionResult"},"supportsFIPS"]},zt={ref:"PartitionResult"},wt={fn:b,[d]:[!0,{fn:De,[d]:[zt,"supportsDualStack"]}]},Dt=[{fn:"isSet",[d]:[Nt]}],Tt=[Ut],Ht=[Lt],_n={version:"1.0",parameters:{Region:Rt,UseDualStack:we,UseFIPS:we,Endpoint:Rt,UseGlobalEndpoint:we},rules:[{conditions:[{fn:b,[d]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[d]:Dt},It,_t,{fn:b,[d]:[Ft,!1]},{fn:b,[d]:[$t,!1]}],rules:[{conditions:[{fn:f,[d]:[g,"ap-northeast-1"]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,"ap-south-1"]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,"ap-southeast-1"]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,"ap-southeast-2"]}],endpoint:h,[i]:m},bt,{conditions:[{fn:f,[d]:[g,"ca-central-1"]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,"eu-central-1"]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,"eu-north-1"]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,"eu-west-1"]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,"eu-west-2"]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,"eu-west-3"]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,"sa-east-1"]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,Ot]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,"us-east-2"]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,"us-west-1"]}],endpoint:h,[i]:m},{conditions:[{fn:f,[d]:[g,"us-west-2"]}],endpoint:h,[i]:m},{endpoint:{url:xt,properties:{authSchemes:[{name:Wt,signingName:"sts",signingRegion:"{Region}"}]},headers:y},[i]:m}],[i]:R},{conditions:Dt,rules:[{conditions:Tt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[i]:W},{conditions:Ht,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[i]:W},{endpoint:{url:Nt,properties:y,headers:y},[i]:m}],[i]:R},{conditions:[It],rules:[{conditions:[_t],rules:[{conditions:[Ut,Lt],rules:[{conditions:[{fn:b,[d]:[!0,vt]},wt],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:y,headers:y},[i]:m}],[i]:R},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[i]:W}],[i]:R},{conditions:Tt,rules:[{conditions:[{fn:b,[d]:[vt,!0]}],rules:[{conditions:[{fn:f,[d]:[{fn:De,[d]:[zt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:y,headers:y},[i]:m},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:y,headers:y},[i]:m}],[i]:R},{error:"FIPS is enabled but this partition does not support FIPS",[i]:W}],[i]:R},{conditions:Ht,rules:[{conditions:[wt],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:y,headers:y},[i]:m}],[i]:R},{error:"DualStack is enabled but this partition does not support DualStack",[i]:W}],[i]:R},bt,{endpoint:{url:xt,properties:y,headers:y},[i]:m}],[i]:R}],[i]:R},{error:"Invalid Configuration: Missing Region",[i]:W}]},qt=_n});var jt,O,bn,Gt,Mt=p(()=>{jt=s(un()),O=s(dn());Kt();bn=new O.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),Gt=(e,o={})=>bn.get(e,()=>(0,O.resolveEndpoint)(qt,{endpointParams:e,logger:o.logger}));O.customEndpointFunctions.aws=jt.awsEndpointFunctions});var Bt,Vt,ce,ae,Jt,Xt=p(()=>{re();Ie();Bt=s(P()),Vt=s(mn()),ce=s(an()),ae=s(cn());ve();Mt();Jt=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??ce.fromBase64,base64Encoder:e?.base64Encoder??ce.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Gt,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??At,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4"),signer:new ne},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new te}],logger:e?.logger??new Bt.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??Vt.parseUrl,utf8Decoder:e?.utf8Decoder??ae.fromUtf8,utf8Encoder:e?.utf8Encoder??ae.toUtf8})});var le,w,Yt,de,v,me,Qt,Zt,eo,to,oo,no,ro=p(()=>{En();re();le=s(yn()),w=s(gt());Ie();Yt=s(An()),de=s(ht()),v=s(hn()),me=s(ln()),Qt=s(Cn()),Zt=s(Sn());Xt();eo=s(P()),to=s(Pn()),oo=s(P()),no=e=>{(0,oo.emitWarningIfUnsupportedVersion)(process.version);let o=(0,to.resolveDefaultsModeConfig)(e),t=()=>o().then(eo.loadConfigsForDefaultMode),n=Jt(e);mt(process.version);let r={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:o,authSchemePreference:e?.authSchemePreference??(0,v.loadConfig)(ut,r),bodyLengthChecker:e?.bodyLengthChecker??Qt.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,le.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:St.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:l=>l.getIdentityProvider("aws.auth#sigv4")||(async c=>await e.credentialDefaultProvider(c?.__config||{})()),signer:new ne},{schemeId:"smithy.api#noAuth",identityProvider:l=>l.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new te}],maxAttempts:e?.maxAttempts??(0,v.loadConfig)(de.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,v.loadConfig)(w.NODE_REGION_CONFIG_OPTIONS,{...w.NODE_REGION_CONFIG_FILE_OPTIONS,...r}),requestHandler:me.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,v.loadConfig)({...de.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||Zt.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Yt.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??me.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,v.loadConfig)(w.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,r),useFipsEndpoint:e?.useFipsEndpoint??(0,v.loadConfig)(w.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,r),userAgentAppId:e?.userAgentAppId??(0,v.loadConfig)(le.NODE_APP_ID_CONFIG_OPTIONS,r)}}});var so,io,co=p(()=>{so=e=>{let o=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(r){let l=o.findIndex(c=>c.schemeId===r.schemeId);l===-1?o.push(r):o.splice(l,1,r)},httpAuthSchemes(){return o},setHttpAuthSchemeProvider(r){t=r},httpAuthSchemeProvider(){return t},setCredentials(r){n=r},credentials(){return n}}},io=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var ue,pe,fe,ao,lo=p(()=>{ue=s(Et()),pe=s(it()),fe=s(P());co();ao=(e,o)=>{let t=Object.assign((0,ue.getAwsRegionExtensionConfiguration)(e),(0,fe.getDefaultExtensionConfiguration)(e),(0,pe.getHttpHandlerExtensionConfiguration)(e),so(e));return o.forEach(n=>n.configure(t)),Object.assign(e,(0,ue.resolveAwsRegionExtensionConfiguration)(t),(0,fe.resolveDefaultRuntimeConfig)(t),(0,pe.resolveHttpHandlerRuntimeConfig)(t),io(t))}});var ge,mo,uo,he,po,fo,go,Se,Te,x,G=p(()=>{ge=s(on()),mo=s(nn()),uo=s(rn()),he=s(fn()),po=s(gt());Ie();fo=s(gn()),go=s(be()),Se=s(ht()),Te=s(P());ve();ie();ro();lo();x=class extends Te.Client{config;constructor(...[o]){let t=no(o||{});super(t),this.initConfig=t;let n=Pt(t),r=(0,he.resolveUserAgentConfig)(n),l=(0,Se.resolveRetryConfig)(r),c=(0,po.resolveRegionConfig)(l),S=(0,ge.resolveHostHeaderConfig)(c),A=(0,go.resolveEndpointConfig)(S),C=Ct(A),k=ao(C,o?.extensions||[]);this.config=k,this.middlewareStack.use((0,he.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Se.getRetryPlugin)(this.config)),this.middlewareStack.use((0,fo.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,ge.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,mo.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,uo.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(ct(this.config,{httpAuthSchemeParametersProvider:yt,identityProviderConfigProvider:async D=>new dt({"aws.auth#sigv4":D.credentials})})),this.middlewareStack.use(lt(this.config))}destroy(){super.destroy()}}});var ho,E,Ee=p(()=>{ho=s(P()),E=class e extends ho.ServiceException{constructor(o){super(o),Object.setPrototypeOf(this,e.prototype)}}});var He,ke,We,M,B,V,J,X,Y,Oe,Ne,Q,Z=p(()=>{He=s(P());Ee();ke=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:He.SENSITIVE_STRING}}),We=e=>({...e,...e.Credentials&&{Credentials:ke(e.Credentials)}}),M=class e extends E{name="ExpiredTokenException";$fault="client";constructor(o){super({name:"ExpiredTokenException",$fault:"client",...o}),Object.setPrototypeOf(this,e.prototype)}},B=class e extends E{name="MalformedPolicyDocumentException";$fault="client";constructor(o){super({name:"MalformedPolicyDocumentException",$fault:"client",...o}),Object.setPrototypeOf(this,e.prototype)}},V=class e extends E{name="PackedPolicyTooLargeException";$fault="client";constructor(o){super({name:"PackedPolicyTooLargeException",$fault:"client",...o}),Object.setPrototypeOf(this,e.prototype)}},J=class e extends E{name="RegionDisabledException";$fault="client";constructor(o){super({name:"RegionDisabledException",$fault:"client",...o}),Object.setPrototypeOf(this,e.prototype)}},X=class e extends E{name="IDPRejectedClaimException";$fault="client";constructor(o){super({name:"IDPRejectedClaimException",$fault:"client",...o}),Object.setPrototypeOf(this,e.prototype)}},Y=class e extends E{name="InvalidIdentityTokenException";$fault="client";constructor(o){super({name:"InvalidIdentityTokenException",$fault:"client",...o}),Object.setPrototypeOf(this,e.prototype)}},Oe=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:He.SENSITIVE_STRING}}),Ne=e=>({...e,...e.Credentials&&{Credentials:ke(e.Credentials)}}),Q=class e extends E{name="IDPCommunicationErrorException";$fault="client";constructor(o){super({name:"IDPCommunicationErrorException",$fault:"client",...o}),Object.setPrototypeOf(this,e.prototype)}}});var So,a,Eo,yo,Ao,Co,Po,vn,wn,Dn,Tn,Hn,kn,Wn,On,Nn,xo,Fn,$n,Un,Ln,zn,qn,Ro,Kn,jn,Io,Gn,Mn,Bn,Vn,Jn,Xn,Yn,_,Qn,_o,bo,vo,wo,Fe,Zn,$e,N,er,Ue,Le,F,ze,$,qe,Ke,je,U,L,Ge,Me,Be,z,Ve,q,K,Je,Xe,I,Ye,Qe,Ze,et,tt,Do,ot,nt,rt,u,To,tr,st=p(()=>{re();So=s(it()),a=s(P());Z();Ee();Eo=async(e,o)=>{let t=bo,n;return n=To({...On(e,o),[wo]:Zn,[Do]:vo}),_o(o,t,"/",void 0,n)},yo=async(e,o)=>{let t=bo,n;return n=To({...Nn(e,o),[wo]:er,[Do]:vo}),_o(o,t,"/",void 0,n)},Ao=async(e,o)=>{if(e.statusCode>=300)return Po(e,o);let t=await _e(e.body,o),n={};return n=Kn(t.AssumeRoleResult,o),{$metadata:_(e),...n}},Co=async(e,o)=>{if(e.statusCode>=300)return Po(e,o);let t=await _e(e.body,o),n={};return n=jn(t.AssumeRoleWithWebIdentityResult,o),{$metadata:_(e),...n}},Po=async(e,o)=>{let t={...e,body:await ft(e.body,o)},n=tr(e,t.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await vn(t,o);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Hn(t,o);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await kn(t,o);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Wn(t,o);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await wn(t,o);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Dn(t,o);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Tn(t,o);default:let r=t.body;return Qn({output:e,parsedBody:r.Error,errorCode:n})}},vn=async(e,o)=>{let t=e.body,n=Gn(t.Error,o),r=new M({$metadata:_(e),...n});return(0,a.decorateServiceException)(r,t)},wn=async(e,o)=>{let t=e.body,n=Mn(t.Error,o),r=new Q({$metadata:_(e),...n});return(0,a.decorateServiceException)(r,t)},Dn=async(e,o)=>{let t=e.body,n=Bn(t.Error,o),r=new X({$metadata:_(e),...n});return(0,a.decorateServiceException)(r,t)},Tn=async(e,o)=>{let t=e.body,n=Vn(t.Error,o),r=new Y({$metadata:_(e),...n});return(0,a.decorateServiceException)(r,t)},Hn=async(e,o)=>{let t=e.body,n=Jn(t.Error,o),r=new B({$metadata:_(e),...n});return(0,a.decorateServiceException)(r,t)},kn=async(e,o)=>{let t=e.body,n=Xn(t.Error,o),r=new V({$metadata:_(e),...n});return(0,a.decorateServiceException)(r,t)},Wn=async(e,o)=>{let t=e.body,n=Yn(t.Error,o),r=new J({$metadata:_(e),...n});return(0,a.decorateServiceException)(r,t)},On=(e,o)=>{let t={};if(e[q]!=null&&(t[q]=e[q]),e[K]!=null&&(t[K]=e[K]),e[L]!=null){let n=xo(e[L],o);e[L]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([r,l])=>{let c=`PolicyArns.${r}`;t[c]=l})}if(e[U]!=null&&(t[U]=e[U]),e[$]!=null&&(t[$]=e[$]),e[Ze]!=null){let n=qn(e[Ze],o);e[Ze]?.length===0&&(t.Tags=[]),Object.entries(n).forEach(([r,l])=>{let c=`Tags.${r}`;t[c]=l})}if(e[tt]!=null){let n=zn(e[tt],o);e[tt]?.length===0&&(t.TransitiveTagKeys=[]),Object.entries(n).forEach(([r,l])=>{let c=`TransitiveTagKeys.${r}`;t[c]=l})}if(e[Ke]!=null&&(t[Ke]=e[Ke]),e[Ye]!=null&&(t[Ye]=e[Ye]),e[et]!=null&&(t[et]=e[et]),e[I]!=null&&(t[I]=e[I]),e[Me]!=null){let n=Un(e[Me],o);e[Me]?.length===0&&(t.ProvidedContexts=[]),Object.entries(n).forEach(([r,l])=>{let c=`ProvidedContexts.${r}`;t[c]=l})}return t},Nn=(e,o)=>{let t={};if(e[q]!=null&&(t[q]=e[q]),e[K]!=null&&(t[K]=e[K]),e[nt]!=null&&(t[nt]=e[nt]),e[Be]!=null&&(t[Be]=e[Be]),e[L]!=null){let n=xo(e[L],o);e[L]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([r,l])=>{let c=`PolicyArns.${r}`;t[c]=l})}return e[U]!=null&&(t[U]=e[U]),e[$]!=null&&(t[$]=e[$]),t},xo=(e,o)=>{let t={},n=1;for(let r of e){if(r===null)continue;let l=Fn(r,o);Object.entries(l).forEach(([c,S])=>{t[`member.${n}.${c}`]=S}),n++}return t},Fn=(e,o)=>{let t={};return e[rt]!=null&&(t[rt]=e[rt]),t},$n=(e,o)=>{let t={};return e[Ge]!=null&&(t[Ge]=e[Ge]),e[ze]!=null&&(t[ze]=e[ze]),t},Un=(e,o)=>{let t={},n=1;for(let r of e){if(r===null)continue;let l=$n(r,o);Object.entries(l).forEach(([c,S])=>{t[`member.${n}.${c}`]=S}),n++}return t},Ln=(e,o)=>{let t={};return e[je]!=null&&(t[je]=e[je]),e[ot]!=null&&(t[ot]=e[ot]),t},zn=(e,o)=>{let t={},n=1;for(let r of e)r!==null&&(t[`member.${n}`]=r,n++);return t},qn=(e,o)=>{let t={},n=1;for(let r of e){if(r===null)continue;let l=Ln(r,o);Object.entries(l).forEach(([c,S])=>{t[`member.${n}.${c}`]=S}),n++}return t},Ro=(e,o)=>{let t={};return e[$e]!=null&&(t[$e]=(0,a.expectString)(e[$e])),e[Ue]!=null&&(t[Ue]=(0,a.expectString)(e[Ue])),t},Kn=(e,o)=>{let t={};return e[F]!=null&&(t[F]=Io(e[F],o)),e[N]!=null&&(t[N]=Ro(e[N],o)),e[z]!=null&&(t[z]=(0,a.strictParseInt32)(e[z])),e[I]!=null&&(t[I]=(0,a.expectString)(e[I])),t},jn=(e,o)=>{let t={};return e[F]!=null&&(t[F]=Io(e[F],o)),e[Xe]!=null&&(t[Xe]=(0,a.expectString)(e[Xe])),e[N]!=null&&(t[N]=Ro(e[N],o)),e[z]!=null&&(t[z]=(0,a.strictParseInt32)(e[z])),e[Ve]!=null&&(t[Ve]=(0,a.expectString)(e[Ve])),e[Le]!=null&&(t[Le]=(0,a.expectString)(e[Le])),e[I]!=null&&(t[I]=(0,a.expectString)(e[I])),t},Io=(e,o)=>{let t={};return e[Fe]!=null&&(t[Fe]=(0,a.expectString)(e[Fe])),e[Je]!=null&&(t[Je]=(0,a.expectString)(e[Je])),e[Qe]!=null&&(t[Qe]=(0,a.expectString)(e[Qe])),e[qe]!=null&&(t[qe]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[qe]))),t},Gn=(e,o)=>{let t={};return e[u]!=null&&(t[u]=(0,a.expectString)(e[u])),t},Mn=(e,o)=>{let t={};return e[u]!=null&&(t[u]=(0,a.expectString)(e[u])),t},Bn=(e,o)=>{let t={};return e[u]!=null&&(t[u]=(0,a.expectString)(e[u])),t},Vn=(e,o)=>{let t={};return e[u]!=null&&(t[u]=(0,a.expectString)(e[u])),t},Jn=(e,o)=>{let t={};return e[u]!=null&&(t[u]=(0,a.expectString)(e[u])),t},Xn=(e,o)=>{let t={};return e[u]!=null&&(t[u]=(0,a.expectString)(e[u])),t},Yn=(e,o)=>{let t={};return e[u]!=null&&(t[u]=(0,a.expectString)(e[u])),t},_=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Qn=(0,a.withBaseException)(E),_o=async(e,o,t,n,r)=>{let{hostname:l,protocol:c="https",port:S,path:A}=await e.endpoint(),C={protocol:c,hostname:l,port:S,method:"POST",path:A.endsWith("/")?A.slice(0,-1)+t:A+t,headers:o};return n!==void 0&&(C.hostname=n),r!==void 0&&(C.body=r),new So.HttpRequest(C)},bo={"content-type":"application/x-www-form-urlencoded"},vo="2011-06-15",wo="Action",Fe="AccessKeyId",Zn="AssumeRole",$e="AssumedRoleId",N="AssumedRoleUser",er="AssumeRoleWithWebIdentity",Ue="Arn",Le="Audience",F="Credentials",ze="ContextAssertion",$="DurationSeconds",qe="Expiration",Ke="ExternalId",je="Key",U="Policy",L="PolicyArns",Ge="ProviderArn",Me="ProvidedContexts",Be="ProviderId",z="PackedPolicySize",Ve="Provider",q="RoleArn",K="RoleSessionName",Je="SecretAccessKey",Xe="SubjectFromWebIdentityToken",I="SourceIdentity",Ye="SerialNumber",Qe="SessionToken",Ze="Tags",et="TokenCode",tt="TransitiveTagKeys",Do="Version",ot="Value",nt="WebIdentityToken",rt="arn",u="message",To=e=>Object.entries(e).map(([o,t])=>(0,a.extendedEncodeURIComponent)(o)+"="+(0,a.extendedEncodeURIComponent)(t)).join("&"),tr=(e,o)=>{if(o.Error?.Code!==void 0)return o.Error.Code;if(e.statusCode==404)return"NotFound"}});var Ho,ko,Wo,T,ye=p(()=>{Ho=s(be()),ko=s(at()),Wo=s(P());ie();Z();st();T=class extends Wo.Command.classBuilder().ep(se).m(function(o,t,n,r){return[(0,ko.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ho.getEndpointPlugin)(n,o.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,We).ser(Eo).de(Ao).build(){}});var Oo,No,Fo,H,Ae=p(()=>{Oo=s(be()),No=s(at()),Fo=s(P());ie();Z();st();H=class extends Fo.Command.classBuilder().ep(se).m(function(o,t,n,r){return[(0,No.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Oo.getEndpointPlugin)(n,o.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Oe,Ne).ser(yo).de(Co).build(){}});var $o,or,Ce,Uo=p(()=>{$o=s(P());ye();Ae();G();or={AssumeRoleCommand:T,AssumeRoleWithWebIdentityCommand:H},Ce=class extends x{};(0,$o.createAggregatedClient)(or,Ce)});var Lo=p(()=>{ye();Ae()});var zo=p(()=>{Z()});var qo,Ko,jo,Go,Mo,Bo,Vo=p(()=>{pn();qo=s(Et());ye();Ae();Ko=e=>{if(typeof e?.Arn=="string"){let o=e.Arn.split(":");if(o.length>4&&o[4]!=="")return o[4]}},jo=async(e,o,t,n={})=>{let r=typeof e=="function"?await e():e,l=typeof o=="function"?await o():o,c=await(0,qo.stsRegionDefaultResolver)(n)();return t?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${r} (credential provider clientConfig)`,`${l} (contextual client)`,`${c} (STS default: AWS_REGION, profile region, or us-east-1)`),r??l??c},Go=(e,o)=>{let t,n;return async(r,l)=>{if(n=r,!t){let{logger:k=e?.parentClientConfig?.logger,profile:D=e?.parentClientConfig?.profile,region:Pe,requestHandler:ee=e?.parentClientConfig?.requestHandler,credentialProviderLogger:xe,userAgentAppId:Re=e?.parentClientConfig?.userAgentAppId}=e,Zo=await jo(Pe,e?.parentClientConfig?.region,xe,{logger:k,profile:D}),en=!Bo(ee);t=new o({...e,userAgentAppId:Re,profile:D,credentialDefaultProvider:()=>async()=>n,region:Zo,requestHandler:en?ee:void 0,logger:k})}let{Credentials:c,AssumedRoleUser:S}=await t.send(new T(l));if(!c||!c.AccessKeyId||!c.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${l.RoleArn}`);let A=Ko(S),C={accessKeyId:c.AccessKeyId,secretAccessKey:c.SecretAccessKey,sessionToken:c.SessionToken,expiration:c.Expiration,...c.CredentialScope&&{credentialScope:c.CredentialScope},...A&&{accountId:A}};return oe(C,"CREDENTIALS_STS_ASSUME_ROLE","i"),C}},Mo=(e,o)=>{let t;return async n=>{if(!t){let{logger:A=e?.parentClientConfig?.logger,profile:C=e?.parentClientConfig?.profile,region:k,requestHandler:D=e?.parentClientConfig?.requestHandler,credentialProviderLogger:Pe,userAgentAppId:ee=e?.parentClientConfig?.userAgentAppId}=e,xe=await jo(k,e?.parentClientConfig?.region,Pe,{logger:A,profile:C}),Re=!Bo(D);t=new o({...e,userAgentAppId:ee,profile:C,region:xe,requestHandler:Re?D:void 0,logger:A})}let{Credentials:r,AssumedRoleUser:l}=await t.send(new H(n));if(!r||!r.AccessKeyId||!r.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let c=Ko(l),S={accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,sessionToken:r.SessionToken,expiration:r.Expiration,...r.CredentialScope&&{credentialScope:r.CredentialScope},...c&&{accountId:c}};return c&&oe(S,"RESOLVED_ACCOUNT_ID","T"),oe(S,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),S}},Bo=e=>e?.metadata?.handlerProtocol==="h2"});var Jo,Xo,Yo,nr,Qo=p(()=>{Vo();G();Jo=(e,o)=>o?class extends e{constructor(n){super(n);for(let r of o)this.middlewareStack.use(r)}}:e,Xo=(e={},o)=>Go(e,Jo(x,o)),Yo=(e={},o)=>Mo(e,Jo(x,o)),nr=e=>o=>e({roleAssumer:Xo(o),roleAssumerWithWebIdentity:Yo(o),...o})});var rr={};tn(rr,{AssumeRoleCommand:()=>T,AssumeRoleResponseFilterSensitiveLog:()=>We,AssumeRoleWithWebIdentityCommand:()=>H,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Oe,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Ne,CredentialsFilterSensitiveLog:()=>ke,ExpiredTokenException:()=>M,IDPCommunicationErrorException:()=>Q,IDPRejectedClaimException:()=>X,InvalidIdentityTokenException:()=>Y,MalformedPolicyDocumentException:()=>B,PackedPolicyTooLargeException:()=>V,RegionDisabledException:()=>J,STS:()=>Ce,STSClient:()=>x,STSServiceException:()=>E,__Client:()=>Te.Client,decorateDefaultCredentialProvider:()=>nr,getDefaultRoleAssumer:()=>Xo,getDefaultRoleAssumerWithWebIdentity:()=>Yo});var sr=p(()=>{G();Uo();Lo();zo();Qo();Ee()});export{Te as a,x as b,E as c,ke as d,We as e,M as f,B as g,V as h,J as i,X as j,Y as k,Oe as l,Ne as m,Q as n,T as o,H as p,Ce as q,Xo as r,Yo as s,nr as t,rr as u,sr as v};
//# sourceMappingURL=chunk-ECKTYOKU.js.map
