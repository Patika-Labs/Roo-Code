import{b as dt,c as le}from"./chunk-MKRX7O3O.js";import{a as lt}from"./chunk-HHIBTEH3.js";import{a as B,b as w,c as S,d as ve,e as j,f as Me}from"./chunk-2B6HUC56.js";var V=S(W=>{"use strict";var Ro=lt(),Po=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,r){t.httpHandler?.updateHttpClientConfig(e,r)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),Ao=t=>({httpHandler:t.httpHandler()}),ht=class{name;kind;values;constructor({name:e,kind:r=Ro.FieldPosition.HEADER,values:n=[]}){this.name=e,this.kind=r,this.values=n}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(r=>r!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},mt=class{entries={};encoding;constructor({fields:e=[],encoding:r="utf-8"}){e.forEach(this.setField.bind(this)),this.encoding=r}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(r=>r.kind===e)}},pt=class t{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new t({...e,headers:{...e.headers}});return r.query&&(r.query=Io(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return t.clone(this)}};function Io(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var yt=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function jo(t){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(t)}W.Field=ht;W.Fields=mt;W.HttpRequest=pt;W.HttpResponse=yt;W.getHttpHandlerExtensionConfiguration=Po;W.isValidHostname=jo;W.resolveHttpHandlerRuntimeConfig=Ao});var Hr=S(gt=>{"use strict";var kr=t=>encodeURIComponent(t).replace(/[!'()*]/g,No),No=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`,Bo=t=>t.split("/").map(kr).join("/");gt.escapeUri=kr;gt.escapeUriPath=Bo});var wt=S(Lr=>{"use strict";var bt=Hr();function zo(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=bt.escapeUri(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)e.push(`${r}=${bt.escapeUri(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${bt.escapeUri(n)}`),e.push(s)}}return e.join("&")}Lr.buildQueryString=zo});var Yr=S(de=>{"use strict";var Wr=V(),Vr=wt(),$e=B("http"),Re=B("https"),Jr=B("stream"),St=B("http2"),Do=["ECONNRESET","EPIPE","ETIMEDOUT"],Gr=t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e},I={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t)},Ur=1e3,ko=(t,e,r=0)=>{if(!r)return-1;let n=s=>{let o=I.setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-s),i=a=>{a?.connecting?a.on("connect",()=>{I.clearTimeout(o)}):I.clearTimeout(o)};t.socket?i(t.socket):t.on("socket",i)};return r<2e3?(n(0),0):I.setTimeout(n.bind(null,Ur),Ur)},Ho=(t,e,r=0,n,s)=>r?I.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});t.destroy(i),e(i)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(o)},r):-1,Lo=3e3,Uo=(t,{keepAlive:e,keepAliveMsecs:r},n=Lo)=>{if(e!==!0)return-1;let s=()=>{t.socket?t.socket.setKeepAlive(e,r||0):t.on("socket",o=>{o.setKeepAlive(e,r||0)})};return n===0?(s(),0):I.setTimeout(s,n)},qr=3e3,qo=(t,e,r=0)=>{let n=s=>{let o=r-s,i=()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};t.socket?(t.socket.setTimeout(o,i),t.on("close",()=>t.socket?.removeListener("timeout",i))):t.setTimeout(o,i)};return 0<r&&r<6e3?(n(0),0):I.setTimeout(n.bind(null,r===0?0:qr),qr)},Fr=6e3;async function Qr(t,e,r=Fr,n=!1){let s=e.headers??{},o=s.Expect||s.expect,i=-1,a=!0;!n&&o==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(I.setTimeout(()=>c(!0),Math.max(Fr,r)))}),new Promise(c=>{t.on("continue",()=>{I.clearTimeout(i),c(!0)}),t.on("response",()=>{I.clearTimeout(i),c(!1)}),t.on("error",()=>{I.clearTimeout(i),c(!1)})})])),a&&Fo(t,e.body)}function Fo(t,e){if(e instanceof Jr.Readable){e.pipe(t);return}if(e){if(Buffer.isBuffer(e)||typeof e=="string"){t.end(e);return}let r=e;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){t.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}t.end(Buffer.from(e));return}t.end()}var Wo=0,Et=class t{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(e){return typeof e?.handle=="function"?e:new t(e)}static checkSocketUsage(e,r,n=console){let{sockets:s,requests:o,maxSockets:i}=e;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(s&&o)for(let c in s){let u=s[c]?.length??0,d=o[c]?.length??0;if(u>=i&&d>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(e){this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c}=e||{},u=!0,d=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:c,httpAgent:i instanceof $e.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new $e.Agent({keepAlive:u,maxSockets:d,...i}),httpsAgent:a instanceof Re.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new Re.Agent({keepAlive:u,maxSockets:d,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i=this.config,a,c=[],u=async _=>{await a,c.forEach(I.clearTimeout),s(_)},d=async _=>{await a,c.forEach(I.clearTimeout),o(_)};if(r?.aborted){let _=new Error("Request aborted");_.name="AbortError",d(_);return}let f=e.protocol==="https:",h=e.headers??{},l=(h.Expect??h.expect)==="100-continue",m=f?i.httpsAgent:i.httpAgent;l&&!this.externalAgent&&(m=new(f?Re.Agent:$e.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(I.setTimeout(()=>{this.socketWarningTimestamp=t.checkSocketUsage(m,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let y=Vr.buildQueryString(e.query||{}),p;if(e.username!=null||e.password!=null){let _=e.username??"",O=e.password??"";p=`${_}:${O}`}let g=e.path;y&&(g+=`?${y}`),e.fragment&&(g+=`#${e.fragment}`);let b=e.hostname??"";b[0]==="["&&b.endsWith("]")?b=e.hostname.slice(1,-1):b=e.hostname;let C={headers:e.headers,host:b,method:e.method,path:g,port:e.port,agent:m,auth:p},E=(f?Re.request:$e.request)(C,_=>{let O=new Wr.HttpResponse({statusCode:_.statusCode||-1,reason:_.statusMessage,headers:Gr(_.headers),body:_});u({response:O})});if(E.on("error",_=>{Do.includes(_.code)?d(Object.assign(_,{name:"TimeoutError"})):d(_)}),r){let _=()=>{E.destroy();let O=new Error("Request aborted");O.name="AbortError",d(O)};if(typeof r.addEventListener=="function"){let O=r;O.addEventListener("abort",_,{once:!0}),E.once("close",()=>O.removeEventListener("abort",_))}else r.onabort=_}let R=n??i.requestTimeout;c.push(ko(E,d,i.connectionTimeout)),c.push(Ho(E,d,R,i.throwOnRequestTimeout,i.logger??console)),c.push(qo(E,d,i.socketTimeout));let X=C.agent;typeof X=="object"&&"keepAlive"in X&&c.push(Uo(E,{keepAlive:X.keepAlive,keepAliveMsecs:X.keepAliveMsecs})),a=Qr(E,e,R,this.externalAgent).catch(_=>(c.forEach(I.clearTimeout),o(_)))})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}},xt=class{sessions=[];constructor(e){this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(r=>r!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let r of this.sessions)r===e&&(r.destroyed||r.destroy())}},Tt=class{constructor(e){if(this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(e,r){let n=this.getUrlString(e),s=this.sessionCache.get(n);if(s){let c=s.poll();if(c&&!this.config.disableConcurrency)return c}let o=St.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new xt;return a.offerLast(o),this.sessionCache.set(n,a),o}deleteSession(e,r){let n=this.sessionCache.get(e);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(e,n))}release(e,r){let n=this.getUrlString(e);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[e,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},_t=class t{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new Tt({});static create(e){return typeof e?.handle=="function"?e:new t(e)}constructor(e){this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(s=>{r(s||{})}).catch(n):r(e||{})})}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,i=n??s;return new Promise((a,c)=>{let u=!1,d,f=async v=>{await d,a(v)},h=async v=>{await d,c(v)};if(r?.aborted){u=!0;let v=new Error("Request aborted");v.name="AbortError",h(v);return}let{hostname:l,method:m,port:y,protocol:p,query:g}=e,b="";if(e.username!=null||e.password!=null){let v=e.username??"",N=e.password??"";b=`${v}:${N}@`}let C=`${p}//${b}${l}${y?`:${y}`:""}`,T={destination:new URL(C)},E=this.connectionManager.lease(T,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),R=v=>{o&&this.destroySession(E),u=!0,h(v)},X=Vr.buildQueryString(g||{}),_=e.path;X&&(_+=`?${X}`),e.fragment&&(_+=`#${e.fragment}`);let O=E.request({...e.headers,[St.constants.HTTP2_HEADER_PATH]:_,[St.constants.HTTP2_HEADER_METHOD]:m});if(E.ref(),O.on("response",v=>{let N=new Wr.HttpResponse({statusCode:v[":status"]||-1,headers:Gr(v),body:O});u=!0,f({response:N}),o&&(E.close(),this.connectionManager.deleteSession(C,E))}),i&&O.setTimeout(i,()=>{O.close();let v=new Error(`Stream timed out because of no activity for ${i} ms`);v.name="TimeoutError",R(v)}),r){let v=()=>{O.close();let N=new Error("Request aborted");N.name="AbortError",R(N)};if(typeof r.addEventListener=="function"){let N=r;N.addEventListener("abort",v,{once:!0}),O.once("close",()=>N.removeEventListener("abort",v))}else r.onabort=v}O.on("frameError",(v,N,$o)=>{R(new Error(`Frame type id ${v} in stream id ${$o} has failed with code ${N}.`))}),O.on("error",R),O.on("aborted",()=>{R(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${O.rstCode}.`))}),O.on("close",()=>{E.unref(),o&&E.destroy(),u||R(new Error("Unexpected error: http2 request did not get a response"))}),d=Qr(O,e,i)})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(e){e.destroyed||e.destroy()}},Ct=class extends Jr.Writable{bufferedBytes=[];_write(e,r,n){this.bufferedBytes.push(e),n()}},Vo=t=>Jo(t)?Go(t):new Promise((e,r)=>{let n=new Ct;t.pipe(n),t.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));e(s)})}),Jo=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream;async function Go(t){let e=[],r=t.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),s+=c.length),n=a}let o=new Uint8Array(s),i=0;for(let a of e)o.set(a,i),i+=a.length;return o}de.DEFAULT_REQUEST_TIMEOUT=Wo;de.NodeHttp2Handler=_t;de.NodeHttpHandler=Et;de.streamCollector=Vo});var Cn={};ve(Cn,{__addDisposableResource:()=>xn,__assign:()=>Pe,__asyncDelegator:()=>mn,__asyncGenerator:()=>hn,__asyncValues:()=>pn,__await:()=>ne,__awaiter:()=>an,__classPrivateFieldGet:()=>wn,__classPrivateFieldIn:()=>En,__classPrivateFieldSet:()=>Sn,__createBinding:()=>Ie,__decorate:()=>Kr,__disposeResources:()=>Tn,__esDecorate:()=>tn,__exportStar:()=>un,__extends:()=>Zr,__generator:()=>cn,__importDefault:()=>bn,__importStar:()=>gn,__makeTemplateObject:()=>yn,__metadata:()=>on,__param:()=>en,__propKey:()=>nn,__read:()=>Mt,__rest:()=>Xr,__rewriteRelativeImportExtension:()=>_n,__runInitializers:()=>rn,__setFunctionName:()=>sn,__spread:()=>fn,__spreadArray:()=>dn,__spreadArrays:()=>ln,__values:()=>Ae,default:()=>Zo});function Zr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ot(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Xr(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Kr(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function en(t,e){return function(r,n){e(r,n,t)}}function tn(t,e,r,n,s,o){function i(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,l=r.length-1;l>=0;l--){var m={};for(var y in n)m[y]=y==="access"?{}:n[y];for(var y in n.access)m.access[y]=n.access[y];m.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(g||null))};var p=(0,r[l])(a==="accessor"?{get:d.get,set:d.set}:d[c],m);if(a==="accessor"){if(p===void 0)continue;if(p===null||typeof p!="object")throw new TypeError("Object expected");(f=i(p.get))&&(d.get=f),(f=i(p.set))&&(d.set=f),(f=i(p.init))&&s.unshift(f)}else(f=i(p))&&(a==="field"?s.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function rn(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function nn(t){return typeof t=="symbol"?t:"".concat(t)}function sn(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function on(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function an(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function cn(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function un(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ie(e,t,r)}function Ae(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mt(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function fn(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Mt(arguments[e]));return t}function ln(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function dn(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function ne(t){return this instanceof ne?(this.v=t,this):new ne(t)}function hn(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(l){return function(m){return Promise.resolve(m).then(l,f)}}function a(l,m){n[l]&&(s[l]=function(y){return new Promise(function(p,g){o.push([l,y,p,g])>1||c(l,y)})},m&&(s[l]=m(s[l])))}function c(l,m){try{u(n[l](m))}catch(y){h(o[0][3],y)}}function u(l){l.value instanceof ne?Promise.resolve(l.value.v).then(d,f):h(o[0][2],l)}function d(l){c("next",l)}function f(l){c("throw",l)}function h(l,m){l(m),o.shift(),o.length&&c(o[0][0],o[0][1])}}function mn(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(i){return(r=!r)?{value:ne(t[s](i)),done:!1}:o?o(i):i}:o}}function pn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ae=="function"?Ae(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(i){return new Promise(function(a,c){i=t[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},i)}}function yn(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function gn(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=vt(t),n=0;n<r.length;n++)r[n]!=="default"&&Ie(e,t,r[n]);return Qo(e,t),e}function bn(t){return t&&t.__esModule?t:{default:t}}function wn(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Sn(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function En(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function xn(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function Tn(t){function e(o){t.error=t.hasError?new Yo(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return e(i),s()})}else n|=1}catch(i){e(i)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function _n(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?e?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):t}var Ot,Pe,Ie,Qo,vt,Yo,Zo,On=w(()=>{Ot=function(t,e){return Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ot(t,e)};Pe=function(){return Pe=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Pe.apply(this,arguments)};Ie=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});Qo=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},vt=function(t){return vt=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},vt(t)};Yo=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};Zo={__extends:Zr,__assign:Pe,__rest:Xr,__decorate:Kr,__param:en,__esDecorate:tn,__runInitializers:rn,__propKey:nn,__setFunctionName:sn,__metadata:on,__awaiter:an,__generator:cn,__createBinding:Ie,__exportStar:un,__values:Ae,__read:Mt,__spread:fn,__spreadArrays:ln,__spreadArray:dn,__await:ne,__asyncGenerator:hn,__asyncDelegator:mn,__asyncValues:pn,__makeTemplateObject:yn,__importStar:gn,__importDefault:bn,__classPrivateFieldGet:wn,__classPrivateFieldSet:Sn,__classPrivateFieldIn:En,__addDisposableResource:xn,__disposeResources:Tn,__rewriteRelativeImportExtension:_n}});var Rn=S($n=>{"use strict";var K=(t,e)=>{let r=[];if(t&&r.push(t),e)for(let n of e)r.push(n);return r},J=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,$t=()=>{let t=[],e=[],r=!1,n=new Set,s=f=>f.sort((h,l)=>vn[l.step]-vn[h.step]||Mn[l.priority||"normal"]-Mn[h.priority||"normal"]),o=f=>{let h=!1,l=m=>{let y=K(m.name,m.aliases);if(y.includes(f)){h=!0;for(let p of y)n.delete(p);return!1}return!0};return t=t.filter(l),e=e.filter(l),h},i=f=>{let h=!1,l=m=>{if(m.middleware===f){h=!0;for(let y of K(m.name,m.aliases))n.delete(y);return!1}return!0};return t=t.filter(l),e=e.filter(l),h},a=f=>(t.forEach(h=>{f.add(h.middleware,{...h})}),e.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f.identifyOnResolve?.(d.identifyOnResolve()),f),c=f=>{let h=[];return f.before.forEach(l=>{l.before.length===0&&l.after.length===0?h.push(l):h.push(...c(l))}),h.push(f),f.after.reverse().forEach(l=>{l.before.length===0&&l.after.length===0?h.push(l):h.push(...c(l))}),h},u=(f=!1)=>{let h=[],l=[],m={};return t.forEach(p=>{let g={...p,before:[],after:[]};for(let b of K(g.name,g.aliases))m[b]=g;h.push(g)}),e.forEach(p=>{let g={...p,before:[],after:[]};for(let b of K(g.name,g.aliases))m[b]=g;l.push(g)}),l.forEach(p=>{if(p.toMiddleware){let g=m[p.toMiddleware];if(g===void 0){if(f)return;throw new Error(`${p.toMiddleware} is not found when adding ${J(p.name,p.aliases)} middleware ${p.relation} ${p.toMiddleware}`)}p.relation==="after"&&g.after.push(p),p.relation==="before"&&g.before.push(p)}}),s(h).map(c).reduce((p,g)=>(p.push(...g),p),[])},d={add:(f,h={})=>{let{name:l,override:m,aliases:y}=h,p={step:"initialize",priority:"normal",middleware:f,...h},g=K(l,y);if(g.length>0){if(g.some(b=>n.has(b))){if(!m)throw new Error(`Duplicate middleware name '${J(l,y)}'`);for(let b of g){let C=t.findIndex(E=>E.name===b||E.aliases?.some(R=>R===b));if(C===-1)continue;let T=t[C];if(T.step!==p.step||p.priority!==T.priority)throw new Error(`"${J(T.name,T.aliases)}" middleware with ${T.priority} priority in ${T.step} step cannot be overridden by "${J(l,y)}" middleware with ${p.priority} priority in ${p.step} step.`);t.splice(C,1)}}for(let b of g)n.add(b)}t.push(p)},addRelativeTo:(f,h)=>{let{name:l,override:m,aliases:y}=h,p={middleware:f,...h},g=K(l,y);if(g.length>0){if(g.some(b=>n.has(b))){if(!m)throw new Error(`Duplicate middleware name '${J(l,y)}'`);for(let b of g){let C=e.findIndex(E=>E.name===b||E.aliases?.some(R=>R===b));if(C===-1)continue;let T=e[C];if(T.toMiddleware!==p.toMiddleware||T.relation!==p.relation)throw new Error(`"${J(T.name,T.aliases)}" middleware ${T.relation} "${T.toMiddleware}" middleware cannot be overridden by "${J(l,y)}" middleware ${p.relation} "${p.toMiddleware}" middleware.`);e.splice(C,1)}}for(let b of g)n.add(b)}e.push(p)},clone:()=>a($t()),use:f=>{f.applyToStack(d)},remove:f=>typeof f=="string"?o(f):i(f),removeByTag:f=>{let h=!1,l=m=>{let{tags:y,name:p,aliases:g}=m;if(y&&y.includes(f)){let b=K(p,g);for(let C of b)n.delete(C);return h=!0,!1}return!0};return t=t.filter(l),e=e.filter(l),h},concat:f=>{let h=a($t());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>u(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return J(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let l of u().map(m=>m.middleware).reverse())f=l(f,h);return r&&console.log(d.identify()),f}};return d},vn={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Mn={high:3,normal:2,low:1};$n.constructStack=$t});var Pn=S(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.fromBase64=void 0;var Xo=dt(),Ko=/^[A-Za-z0-9+/]*={0,2}$/,ei=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Ko.exec(t))throw new TypeError("Invalid base64 string.");let e=(0,Xo.fromString)(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)};je.fromBase64=ei});var An=S(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.toBase64=void 0;var ti=dt(),ri=le(),ni=t=>{let e;if(typeof t=="string"?e=(0,ri.fromUtf8)(t):e=t,typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,ti.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("base64")};Ne.toBase64=ni});var G=S(he=>{"use strict";var In=Pn(),jn=An();Object.keys(In).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(he,t)&&Object.defineProperty(he,t,{enumerable:!0,get:function(){return In[t]}})});Object.keys(jn).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(he,t)&&Object.defineProperty(he,t,{enumerable:!0,get:function(){return jn[t]}})})});var Pt=S(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.ChecksumStream=void 0;var si=G(),oi=B("stream"),Rt=class extends oi.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:e,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:o}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=o??si.toBase64,this.expectedChecksum=e,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(e){}_write(e,r,n){try{this.checksum.update(e),this.push(e)}catch(s){return n(s)}return n()}async _final(e){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return e(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return e(r)}return this.push(null),e()}};Be.ChecksumStream=Rt});var Q=S(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.isBlob=se.isReadableStream=void 0;var ii=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream);se.isReadableStream=ii;var ai=t=>typeof Blob=="function"&&(t?.constructor?.name===Blob.name||t instanceof Blob);se.isBlob=ai});var Nn=S(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.ChecksumStream=void 0;var ci=typeof ReadableStream=="function"?ReadableStream:function(){},At=class extends ci{};ze.ChecksumStream=At});var Bn=S(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.createChecksumStream=void 0;var ui=G(),fi=Q(),li=Nn(),di=({expectedChecksum:t,checksum:e,source:r,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,fi.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let o=s??ui.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(c,u){e.update(c),u.enqueue(c)},async flush(c){let u=await e.digest(),d=o(u);if(t!==d){let f=new Error(`Checksum mismatch: expected "${t}" but received "${d}" in response header "${n}".`);c.error(f)}else c.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,li.ChecksumStream.prototype),a};De.createChecksumStream=di});var zn=S(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.createChecksumStream=yi;var hi=Q(),mi=Pt(),pi=Bn();function yi(t){return typeof ReadableStream=="function"&&(0,hi.isReadableStream)(t.source)?(0,pi.createChecksumStream)(t):new mi.ChecksumStream(t)}});var Nt=S(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.ByteArrayCollector=void 0;var jt=class{allocByteArray;byteLength=0;byteArrays=[];constructor(e){this.allocByteArray=e}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let e=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];e.set(s,r),r+=s.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}};ke.ByteArrayCollector=jt});var Ln=S(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.createBufferedReadable=void 0;L.createBufferedReadableStream=Dn;L.merge=kn;L.flush=He;L.sizeOf=oe;L.modeOf=Hn;var gi=Nt();function Dn(t,e,r){let n=t.getReader(),s=!1,o=0,i=["",new gi.ByteArrayCollector(u=>new Uint8Array(u))],a=-1,c=async u=>{let{value:d,done:f}=await n.read(),h=d;if(f){if(a!==-1){let l=He(i,a);oe(l)>0&&u.enqueue(l)}u.close()}else{let l=Hn(h,!1);if(a!==l&&(a>=0&&u.enqueue(He(i,a)),a=l),a===-1){u.enqueue(h);return}let m=oe(h);o+=m;let y=oe(i[a]);if(m>=e&&y===0)u.enqueue(h);else{let p=kn(i,a,h);!s&&o>e*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${e}, automatically buffering.`)),p>=e?u.enqueue(He(i,a)):await c(u)}}};return new ReadableStream({pull:c})}L.createBufferedReadable=Dn;function kn(t,e,r){switch(e){case 0:return t[0]+=r,oe(t[0]);case 1:case 2:return t[e].push(r),oe(t[e])}}function He(t,e){switch(e){case 0:let r=t[0];return t[0]="",r;case 1:case 2:return t[e].flush()}throw new Error(`@smithy/util-stream - invalid index ${e} given to flush()`)}function oe(t){return t?.byteLength??t?.length??0}function Hn(t,e=!0){return e&&typeof Buffer<"u"&&t instanceof Buffer?2:t instanceof Uint8Array?1:typeof t=="string"?0:-1}});var qn=S(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.createBufferedReadable=Si;var bi=B("node:stream"),Un=Nt(),U=Ln(),wi=Q();function Si(t,e,r){if((0,wi.isReadableStream)(t))return(0,U.createBufferedReadableStream)(t,e,r);let n=new bi.Readable({read(){}}),s=!1,o=0,i=["",new Un.ByteArrayCollector(c=>new Uint8Array(c)),new Un.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return t.on("data",c=>{let u=(0,U.modeOf)(c,!0);if(a!==u&&(a>=0&&n.push((0,U.flush)(i,a)),a=u),a===-1){n.push(c);return}let d=(0,U.sizeOf)(c);o+=d;let f=(0,U.sizeOf)(i[a]);if(d>=e&&f===0)n.push(c);else{let h=(0,U.merge)(i,a,c);!s&&o>e*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${e}, automatically buffering.`)),h>=e&&n.push((0,U.flush)(i,a))}}),t.on("end",()=>{if(a!==-1){let c=(0,U.flush)(i,a);(0,U.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var Fn=S(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.getAwsChunkedEncodingStream=void 0;var Ei=B("stream"),xi=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=e,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,c=a?i(s,t):void 0,u=new Ei.Readable({read:()=>{}});return t.on("data",d=>{let f=n(d)||0;u.push(`${f.toString(16)}\r
`),u.push(d),u.push(`\r
`)}),t.on("end",async()=>{if(u.push(`0\r
`),a){let d=r(await c);u.push(`${o}:${d}\r
`),u.push(`\r
`)}u.push(null)}),u};Le.getAwsChunkedEncodingStream=xi});var Wn=S(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.headStream=Ti;async function Ti(t,e){let r=0,n=[],s=t.getReader(),o=!1;for(;!o;){let{done:c,value:u}=await s.read();if(u&&(n.push(u),r+=u?.byteLength??0),r>=e)break;o=c}s.releaseLock();let i=new Uint8Array(Math.min(e,r)),a=0;for(let c of n){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}});var Vn=S(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.headStream=void 0;var _i=B("stream"),Ci=Wn(),Oi=Q(),vi=(t,e)=>(0,Oi.isReadableStream)(t)?(0,Ci.headStream)(t,e):new Promise((r,n)=>{let s=new Dt;s.limit=e,t.pipe(s),t.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});Ue.headStream=vi;var Dt=class extends _i.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(e,r,n){if(this.buffers.push(e),this.bytesBuffered+=e.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var Qn=S(Fe=>{"use strict";var Jn=V(),Mi=wt(),$i=G();function Gn(t,e){return new Request(t,e)}function Ri(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{let n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}var qe={supported:void 0},kt=class t{config;configProvider;static create(e){return typeof e?.handle=="function"?e:new t(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),qe.supported===void 0&&(qe.supported=typeof Request<"u"&&"keepalive"in Gn("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let b=new Error("Request aborted");return b.name="AbortError",Promise.reject(b)}let a=e.path,c=Mi.buildQueryString(e.query||{});c&&(a+=`?${c}`),e.fragment&&(a+=`#${e.fragment}`);let u="";if(e.username!=null||e.password!=null){let b=e.username??"",C=e.password??"";u=`${b}:${C}@`}let{port:d,method:f}=e,h=`${e.protocol}//${u}${e.hostname}${d?`:${d}`:""}${a}`,l=f==="GET"||f==="HEAD"?void 0:e.body,m={body:l,headers:new Headers(e.headers),method:f,credentials:i};this.config?.cache&&(m.cache=this.config.cache),l&&(m.duplex="half"),typeof AbortController<"u"&&(m.signal=r),qe.supported&&(m.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(m,this.config.requestInit(e));let y=()=>{},p=Gn(h,m),g=[fetch(p).then(b=>{let C=b.headers,T={};for(let R of C.entries())T[R[0]]=R[1];return b.body!=null?{response:new Jn.HttpResponse({headers:T,reason:b.statusText,statusCode:b.status,body:b.body})}:b.blob().then(R=>({response:new Jn.HttpResponse({headers:T,reason:b.statusText,statusCode:b.status,body:R})}))}),Ri(s)];return r&&g.push(new Promise((b,C)=>{let T=()=>{let E=new Error("Request aborted");E.name="AbortError",C(E)};if(typeof r.addEventListener=="function"){let E=r;E.addEventListener("abort",T,{once:!0}),y=()=>E.removeEventListener("abort",T)}else r.onabort=T})),Promise.race(g).finally(y)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}},Pi=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):Ai(t):Ii(t);async function Ai(t){let e=await ji(t),r=$i.fromBase64(e);return new Uint8Array(r)}async function Ii(t){let e=[],r=t.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),s+=c.length),n=a}let o=new Uint8Array(s),i=0;for(let a of e)o.set(a,i),i+=a.length;return o}function ji(t){return new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;e(s.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}Fe.FetchHttpHandler=kt;Fe.keepAliveSupport=qe;Fe.streamCollector=Pi});var Zn=S(Lt=>{"use strict";var Yn={},Ht={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),Yn[t]=e,Ht[e]=t}function Ni(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in Ht)e[r/2]=Ht[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function Bi(t){let e="";for(let r=0;r<t.byteLength;r++)e+=Yn[t[r]];return e}Lt.fromHex=Ni;Lt.toHex=Bi});var ts=S(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.sdkStreamMixin=void 0;var zi=Qn(),Di=G(),ki=Zn(),Hi=le(),Xn=Q(),Kn="The stream has already been transformed.",Li=t=>{if(!es(t)&&!(0,Xn.isReadableStream)(t)){let s=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let e=!1,r=async()=>{if(e)throw new Error(Kn);return e=!0,await(0,zi.streamCollector)(t)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async s=>{let o=await r();if(s==="base64")return(0,Di.toBase64)(o);if(s==="hex")return(0,ki.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,Hi.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(Kn);if(e=!0,es(t))return n(t);if((0,Xn.isReadableStream)(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})};We.sdkStreamMixin=Li;var es=t=>typeof Blob=="function"&&t instanceof Blob});var ns=S(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.sdkStreamMixin=void 0;var Ui=Yr(),qi=dt(),Ut=B("stream"),Fi=ts(),rs="The stream has already been transformed.",Wi=t=>{if(!(t instanceof Ut.Readable))try{return(0,Fi.sdkStreamMixin)(t)}catch{let s=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let e=!1,r=async()=>{if(e)throw new Error(rs);return e=!0,await(0,Ui.streamCollector)(t)};return Object.assign(t,{transformToByteArray:r,transformToString:async n=>{let s=await r();return n===void 0||Buffer.isEncoding(n)?(0,qi.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(e)throw new Error(rs);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Ut.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return e=!0,Ut.Readable.toWeb(t)}})};Ve.sdkStreamMixin=Wi});var ss=S(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.splitStream=Vi;async function Vi(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}});var as=S(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.splitStream=Gi;var os=B("stream"),Ji=ss(),is=Q();async function Gi(t){if((0,is.isReadableStream)(t)||(0,is.isBlob)(t))return(0,Ji.splitStream)(t);let e=new os.PassThrough,r=new os.PassThrough;return t.pipe(e),t.pipe(r),[e,r]}});var Vt=S(P=>{"use strict";var cs=G(),us=le(),fs=Pt(),ls=zn(),ds=qn(),hs=Fn(),ms=Vn(),ps=ns(),ys=as(),gs=Q(),Wt=class t extends Uint8Array{static fromString(e,r="utf-8"){if(typeof e=="string")return r==="base64"?t.mutate(cs.fromBase64(e)):t.mutate(us.fromUtf8(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return e==="base64"?cs.toBase64(this):us.toUtf8(this)}};P.Uint8ArrayBlobAdapter=Wt;Object.keys(fs).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(P,t)&&Object.defineProperty(P,t,{enumerable:!0,get:function(){return fs[t]}})});Object.keys(ls).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(P,t)&&Object.defineProperty(P,t,{enumerable:!0,get:function(){return ls[t]}})});Object.keys(ds).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(P,t)&&Object.defineProperty(P,t,{enumerable:!0,get:function(){return ds[t]}})});Object.keys(hs).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(P,t)&&Object.defineProperty(P,t,{enumerable:!0,get:function(){return hs[t]}})});Object.keys(ms).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(P,t)&&Object.defineProperty(P,t,{enumerable:!0,get:function(){return ms[t]}})});Object.keys(ps).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(P,t)&&Object.defineProperty(P,t,{enumerable:!0,get:function(){return ps[t]}})});Object.keys(ys).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(P,t)&&Object.defineProperty(P,t,{enumerable:!0,get:function(){return ys[t]}})});Object.keys(gs).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(P,t)&&Object.defineProperty(P,t,{enumerable:!0,get:function(){return gs[t]}})})});var Je,Y,Ge=w(()=>{Je=j(Vt()),Y=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return Je.Uint8ArrayBlobAdapter.mutate(t);if(!t)return Je.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=e.streamCollector(t);return Je.Uint8ArrayBlobAdapter.mutate(await r)}});function ee(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var Qe=w(()=>{});var me,Jt=w(()=>{me=t=>typeof t=="function"?t():t});var Qt=S(Gt=>{"use strict";var bs=lt(),Qi=t=>t[bs.SMITHY_CONTEXT_KEY]||(t[bs.SMITHY_CONTEXT_KEY]={}),Yi=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};Gt.getSmithyContext=Qi;Gt.normalizeProvider=Yi});var pe,Ye=w(()=>{pe=(t,e,r,n,s)=>({name:e,namespace:t,traits:r,input:n,output:s})});var ws,Ss,Es,Yt,xs=w(()=>{ws=j(V()),Ss=j(Qt());Ye();Es=t=>(e,r)=>async n=>{let{response:s}=await e(n),{operationSchema:o}=(0,Ss.getSmithyContext)(r),[,i,a,c,u,d]=o??[];try{let f=await t.protocol.deserializeResponse(pe(i,a,c,u,d),{...t,...r},s);return{response:s,output:f}}catch(f){if(Object.defineProperty(f,"$response",{value:s}),!("$metadata"in f)){let h="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{f.message+=`
  `+h}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(h):r.logger?.warn?.(h)}typeof f.$responseBodyText<"u"&&f.$response&&(f.$response.body=f.$responseBodyText);try{if(ws.HttpResponse.isInstance(s)){let{headers:l={}}=s,m=Object.entries(l);f.$metadata={httpStatusCode:s.statusCode,requestId:Yt(/^x-[\w-]+-request-?id$/,m),extendedRequestId:Yt(/^x-[\w-]+-id-2$/,m),cfId:Yt(/^x-[\w-]+-cf-id$/,m)}}}catch{}}throw f}},Yt=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1]});var Ts,_s,Cs=w(()=>{Ts=j(Qt());Ye();_s=t=>(e,r)=>async n=>{let{operationSchema:s}=(0,Ts.getSmithyContext)(r),[,o,i,a,c,u]=s??[],d=r.endpointV2?.url&&t.urlParser?async()=>t.urlParser(r.endpointV2.url):t.endpoint,f=await t.protocol.serializeRequest(pe(o,i,a,c,u),n.input,{...t,...r,endpoint:d});return e({...n,request:f})}});function Zi(t){return{applyToStack:e=>{e.add(_s(t),vs),e.add(Es(t),Os),t.protocol.setSerdeContext(t)}}}var Os,vs,Ms=w(()=>{xs();Cs();Os={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},vs={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var $,Z=w(()=>{$=class{name;namespace;traits;static assign(e,r){return Object.assign(e,r)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var Ze,Xi,$s=w(()=>{Z();Ze=class t extends ${static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=t.symbol},Xi=(t,e,r,n)=>$.assign(new Ze,{name:e,namespace:t,traits:r,valueSchema:n})});var Xe,Ki,Rs=w(()=>{Z();Xe=class t extends ${static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=t.symbol},Ki=(t,e,r,n,s)=>$.assign(new Xe,{name:e,namespace:t,traits:r,keySchema:n,valueSchema:s})});var Ke,ea,Ps=w(()=>{Z();Ke=class t extends ${static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=t.symbol},ea=(t,e,r,n,s)=>$.assign(new Ke,{name:e,namespace:t,traits:r,input:n,output:s})});var ie,ta,Zt=w(()=>{Z();ie=class t extends ${static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=t.symbol},ta=(t,e,r,n,s)=>$.assign(new ie,{name:e,namespace:t,traits:r,memberNames:n,memberList:s})});var et,ra,As=w(()=>{Z();Zt();et=class t extends ie{static symbol=Symbol.for("@smithy/err");ctor;symbol=t.symbol},ra=(t,e,r,n,s,o)=>$.assign(new et,{name:e,namespace:t,traits:r,memberNames:n,memberList:s,ctor:null})});function k(t){if(typeof t=="object")return t;t=t|0;let e={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>r++&1)===1&&(e[n]=1);return e}var Xt=w(()=>{});function ye(t,e){if(t instanceof M)return Object.assign(t,{memberName:e,_isMemberSchema:!0});let r=M;return new r(t,e)}var M,Kt,Is,js=w(()=>{Jt();Xt();M=class t{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=t.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,r){this.ref=e,this.memberName=r;let n=[],s=e,o=e;for(this._isMemberSchema=!1;Kt(s);)n.push(s[1]),s=s[0],o=me(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,k(a))}}else this.memberTraits=0;if(o instanceof t){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=me(o),Is(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}static of(e){let r=me(e);if(r instanceof t)return r;if(Kt(r)){let[n,s]=r;if(n instanceof t)return Object.assign(n.getMergedTraits(),k(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new t(r)}getSchema(){let e=this.schema;return e[0]===0?e[4]:e}getName(e=!1){let{name:r}=this;return!e&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){let e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){let e=this.getSchema();return e[0]===3||e[0]===-3}isBlobSchema(){let e=this.getSchema();return e===21||e===42}isTimestampSchema(){let e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){let e=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:s}=this;return e(r)||e(n)||e(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return k(this.memberTraits)}getOwnTraits(){return k(this.traits)}getKeySchema(){let[e,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=e?15:n[4]??0;return ye([s,0],"key")}getValueSchema(){let e=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof e=="number"?63&e:e&&typeof e=="object"&&(n||s)?e[3+e[0]]:r?15:void 0;if(o!=null)return ye([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(e)){let n=r[4].indexOf(e),s=r[5][n];return ye(Kt(s)?s:[s,0],e)}if(this.isDocumentSchema())return ye([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){let e={};try{for(let[r,n]of this.structIterator())e[r]=n}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(let[e,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let e=this.getSchema();for(let r=0;r<e[4].length;++r)yield[e[4][r],ye([e[5][r],0],e[4][r])]}};Kt=t=>Array.isArray(t)&&t.length===2,Is=t=>Array.isArray(t)&&t.length>=5});var ge,na,sa,Ns=w(()=>{Z();ge=class t extends ${static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=t.symbol},na=(t,e,r,n)=>$.assign(new ge,{name:e,namespace:t,traits:n,schemaRef:r}),sa=(t,e,r,n)=>$.assign(new ge,{name:e,namespace:t,traits:r,schemaRef:n})});var oa,Bs=w(()=>{oa={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var er,zs=w(()=>{er=class t{namespace;schemas;exceptions;static registries=new Map;constructor(e,r=new Map,n=new Map){this.namespace=e,this.schemas=r,this.exceptions=n}static for(e){return t.registries.has(e)||t.registries.set(e,new t(e)),t.registries.get(e)}register(e,r){let n=this.normalizeShapeId(e);t.for(n.split("#")[0]).schemas.set(n,r)}getSchema(e){let r=this.normalizeShapeId(e);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(e,r){let n=e,s=t.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(e){let r=e;return t.for(r[1]).exceptions.get(r)}getBaseException(){for(let e of this.exceptions.keys())if(Array.isArray(e)){let[,r,n]=e,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}}});var Ds={};ve(Ds,{ErrorSchema:()=>et,ListSchema:()=>Ze,MapSchema:()=>Xe,NormalizedSchema:()=>M,OperationSchema:()=>Ke,SCHEMA:()=>oa,Schema:()=>$,SimpleSchema:()=>ge,StructureSchema:()=>ie,TypeRegistry:()=>er,deref:()=>me,deserializerMiddlewareOption:()=>Os,error:()=>ra,getSchemaSerdePlugin:()=>Zi,isStaticSchema:()=>Is,list:()=>Xi,map:()=>Ki,op:()=>ea,operation:()=>pe,serializerMiddlewareOption:()=>vs,sim:()=>na,simAdapter:()=>sa,struct:()=>ta,translateTraits:()=>k});var q=w(()=>{Jt();Ms();$s();Rs();Ps();Ye();As();js();Z();Ns();Zt();Bs();Xt();zs()});var ia,ks=w(()=>{ia=(t,e,r=n=>n)=>t});var aa,ca,be,ua,tt,we,fa,tr,rr,nr,sr,la,da,Hs,ha,ma,nt,pa,or,ya,ae,ir,ga,ba,wa,Ls,Us,Sa,Ea,te,ar,rt,Se,cr=w(()=>{aa=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}},ca=t=>{if(t!=null){if(typeof t=="number"){if((t===0||t===1)&&Se.warn(rt(`Expected boolean, got ${typeof t}: ${t}`)),t===0)return!1;if(t===1)return!0}if(typeof t=="string"){let e=t.toLowerCase();if((e==="false"||e==="true")&&Se.warn(rt(`Expected boolean, got ${typeof t}: ${t}`)),e==="false")return!1;if(e==="true")return!0}if(typeof t=="boolean")return t;throw new TypeError(`Expected boolean, got ${typeof t}: ${t}`)}},be=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&Se.warn(rt(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},ua=Math.ceil(34028234663852886e22),tt=t=>{let e=be(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>ua)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},we=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},fa=we,tr=t=>sr(t,32),rr=t=>sr(t,16),nr=t=>sr(t,8),sr=(t,e)=>{let r=we(t);if(r!==void 0&&la(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},la=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},da=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},Hs=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},ha=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return Se.warn(rt(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},ma=t=>{if(t==null)return;let e=Hs(t),r=Object.entries(e).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return e},nt=t=>be(typeof t=="string"?ae(t):t),pa=nt,or=t=>tt(typeof t=="string"?ae(t):t),ya=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ae=t=>{let e=t.match(ya);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},ir=t=>typeof t=="string"?Ls(t):be(t),ga=ir,ba=ir,wa=t=>typeof t=="string"?Ls(t):tt(t),Ls=t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},Us=t=>we(typeof t=="string"?ae(t):t),Sa=Us,Ea=t=>tr(typeof t=="string"?ae(t):t),te=t=>rr(typeof t=="string"?ae(t):t),ar=t=>nr(typeof t=="string"?ae(t):t),rt=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),Se={warn:console.warn}});function lr(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),s=t.getUTCDate(),o=t.getUTCHours(),i=t.getUTCMinutes(),a=t.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,u=o<10?`0${o}`:`${o}`,d=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${xa[n]}, ${c} ${fr[r]} ${e} ${u}:${d}:${f} GMT`}var xa,fr,Ta,_a,Ca,Oa,va,Ma,$a,Ra,Pa,Ee,Aa,Ia,ja,ur,Na,Ba,za,H,Da,ka,ce,qs=w(()=>{cr();xa=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Ta=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),_a=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Ta.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,u]=e,d=te(ce(n)),f=H(s,"month",1,12),h=H(o,"day",1,31);return Ee(d,f,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})},Ca=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Oa=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Ca.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,u,d]=e,f=te(ce(n)),h=H(s,"month",1,12),l=H(o,"day",1,31),m=Ee(f,h,l,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u});return d.toUpperCase()!="Z"&&m.setTime(m.getTime()-ka(d)),m},va=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Ma=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),$a=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Ra=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=va.exec(t);if(e){let[r,n,s,o,i,a,c,u]=e;return Ee(te(ce(o)),ur(s),H(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})}if(e=Ma.exec(t),e){let[r,n,s,o,i,a,c,u]=e;return ja(Ee(Aa(o),ur(s),H(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u}))}if(e=$a.exec(t),e){let[r,n,s,o,i,a,c,u]=e;return Ee(te(ce(u)),ur(n),H(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},Pa=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=nt(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},Ee=(t,e,r,n)=>{let s=e-1;return Ba(t,s,r),new Date(Date.UTC(t,s,r,H(n.hours,"hour",0,23),H(n.minutes,"minute",0,59),H(n.seconds,"seconds",0,60),Da(n.fractionalMilliseconds)))},Aa=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+te(ce(t));return r<e?r+100:r},Ia=50*365*24*60*60*1e3,ja=t=>t.getTime()-new Date().getTime()>Ia?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,ur=t=>{let e=fr.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},Na=[31,28,31,30,31,30,31,31,30,31,30,31],Ba=(t,e,r)=>{let n=Na[e];if(e===1&&za(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${fr[e]} in ${t}: ${r}`)},za=t=>t%4===0&&(t%100!==0||t%400===0),H=(t,e,r,n)=>{let s=ar(ce(t));if(s<r||s>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return s},Da=t=>t==null?0:or("0."+t)*1e3,ka=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),s=Number(t.substring(4,6));return r*(n*60+s)*60*1e3},ce=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});var Ws=S(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.randomUUID=void 0;var Ha=(On(),Me(Cn)),Fs=Ha.__importDefault(B("crypto"));st.randomUUID=Fs.default.randomUUID.bind(Fs.default)});var Gs=S(Js=>{"use strict";var Vs=Ws(),A=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),La=()=>{if(Vs.randomUUID)return Vs.randomUUID();let t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,A[t[0]]+A[t[1]]+A[t[2]]+A[t[3]]+"-"+A[t[4]]+A[t[5]]+"-"+A[t[6]]+A[t[7]]+"-"+A[t[8]]+A[t[9]]+"-"+A[t[10]]+A[t[11]]+A[t[12]]+A[t[13]]+A[t[14]]+A[t[15]]};Js.v4=La});var Qs,Ys=w(()=>{Qs=j(Gs())});var z,Zs=w(()=>{z=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};z.from=t=>t&&typeof t=="object"&&(t instanceof z||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?z(String(t)):z(JSON.stringify(t));z.fromObject=z.from});function dr(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}var Xs=w(()=>{});function F(t,e,r){let n=Number(t);if(n<e||n>r)throw new Error(`Value ${n} out of range [${e}, ${r}]`)}var hr,mr,pr,Ks,eo,Ua,qa,Fa,Wa,Va,yr,gr,br,to=w(()=>{hr="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",mr="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",pr="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",Ks="(\\d?\\d)",eo="(\\d{4})",Ua=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),qa=new RegExp(`^${hr}, ${Ks} ${mr} ${eo} ${pr} GMT$`),Fa=new RegExp(`^${hr}, ${Ks}-${mr}-(\\d\\d) ${pr} GMT$`),Wa=new RegExp(`^${hr} ${mr} ( [1-9]|\\d\\d) ${pr} ${eo}$`),Va=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yr=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},gr=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC3339 timestamps must be strings");let e=Ua.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);let[,r,n,s,o,i,a,,c,u]=e;F(n,1,12),F(s,1,31),F(o,0,23),F(i,0,59),F(a,0,60);let d=new Date(Date.UTC(Number(r),Number(n)-1,Number(s),Number(o),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(d.setUTCFullYear(Number(r)),u.toUpperCase()!="Z"){let[,f,h,l]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],m=f==="-"?1:-1;d.setTime(d.getTime()+m*(Number(h)*60*60*1e3+Number(l)*60*1e3))}return d},br=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,r,n,s,o,i,a,c;if((c=qa.exec(t))?[,e,r,n,s,o,i,a]=c:(c=Fa.exec(t))?([,e,r,n,s,o,i,a]=c,n=(Number(n)+1900).toString()):(c=Wa.exec(t))&&([,r,e,s,o,i,a,n]=c),n&&i){let u=Date.UTC(Number(n),Va.indexOf(r),Number(e),Number(s),Number(o),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);F(e,1,31),F(s,0,23),F(o,0,59),F(i,0,60);let d=new Date(u);return d.setUTCFullYear(Number(n)),d}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)}});function wr(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=t.split(e);if(r===1)return n;let s=[],o="";for(let i=0;i<n.length;i++)o===""?o=n[i]:o+=e+n[i],(i+1)%r===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var ro=w(()=>{});var xe,no=w(()=>{xe=t=>{let e=t.length,r=[],n=!1,s,o=0;for(let i=0;i<e;++i){let a=t[i];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(t.slice(o,i)),o=i+1);break;default:}s=a}return r.push(t.slice(o)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function Ja(t){return new ue(String(t),"bigDecimal")}var so,ue,oo=w(()=>{so=/^-?\d*(\.\d+)?$/,ue=class t{string;type;constructor(e,r){if(this.string=e,this.type=r,!so.test(e))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;let r=e;return t.prototype.isPrototypeOf(e)||r.type==="bigDecimal"&&so.test(r.string)}}});var io={};ve(io,{LazyJsonString:()=>z,NumericValue:()=>ue,_parseEpochTimestamp:()=>yr,_parseRfc3339DateTimeWithOffset:()=>gr,_parseRfc7231DateTime:()=>br,copyDocumentWithTransform:()=>ia,dateToUtcString:()=>lr,expectBoolean:()=>ca,expectByte:()=>nr,expectFloat32:()=>tt,expectInt:()=>fa,expectInt32:()=>tr,expectLong:()=>we,expectNonNull:()=>da,expectNumber:()=>be,expectObject:()=>Hs,expectShort:()=>rr,expectString:()=>ha,expectUnion:()=>ma,generateIdempotencyToken:()=>Qs.v4,handleFloat:()=>ga,limitedParseDouble:()=>ir,limitedParseFloat:()=>ba,limitedParseFloat32:()=>wa,logger:()=>Se,nv:()=>Ja,parseBoolean:()=>aa,parseEpochTimestamp:()=>Pa,parseRfc3339DateTime:()=>_a,parseRfc3339DateTimeWithOffset:()=>Oa,parseRfc7231DateTime:()=>Ra,quoteHeader:()=>dr,splitEvery:()=>wr,splitHeader:()=>xe,strictParseByte:()=>ar,strictParseDouble:()=>nt,strictParseFloat:()=>pa,strictParseFloat32:()=>or,strictParseInt:()=>Sa,strictParseInt32:()=>Ea,strictParseLong:()=>Us,strictParseShort:()=>te});var Te=w(()=>{ks();qs();Ys();Zs();cr();Xs();to();ro();no();oo()});var D,fe=w(()=>{D=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var ot,re,it=w(()=>{q();ot=j(V());fe();re=class extends D{options;constructor(e){super(),this.options=e}getRequestType(){return ot.HttpRequest}getResponseType(){return ot.HttpResponse}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,r){if("url"in r){e.protocol=r.url.protocol,e.hostname=r.url.hostname,e.port=r.url.port?Number(r.url.port):void 0,e.path=r.url.pathname,e.fragment=r.url.hash||void 0,e.username=r.url.username||void 0,e.password=r.url.password||void 0,e.query||(e.query={});for(let[n,s]of r.url.searchParams.entries())e.query[n]=s;return e}else return e.protocol=r.protocol,e.hostname=r.hostname,e.port=r.port?Number(r.port):void 0,e.path=r.path,e.query={...r.query},e}setHostPrefix(e,r,n){let s=M.of(r.input),o=k(r.traits??{});if(o.endpoint){let i=o.endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let u=n[c];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,u)}e.hostname=i+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:e}=await import("./event-streams-WDCPP52X.js");return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,r,n,s,o){return[]}getEventStreamMarshaller(){let e=this.serdeContext;if(!e.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return e.eventStreamMarshaller}}});var ao,co,Sr,uo=w(()=>{q();Te();ao=j(V()),co=j(Vt());Ge();Qe();it();Sr=class extends re{async serializeRequest(e,r,n){let s={...r??{}},o=this.serializer,i={},a={},c=await n.endpoint(),u=M.of(e?.input),d=u.getSchema(),f=!1,h,l=new ao.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(l,c),this.setHostPrefix(l,e,s);let m=k(e.traits);if(m.http){l.method=m.http[0];let[y,p]=m.http[1].split("?");l.path=="/"?l.path=y:l.path+=y;let g=new URLSearchParams(p??"");Object.assign(i,Object.fromEntries(g))}}for(let[m,y]of u.structIterator()){let p=y.getMergedTraits()??{},g=s[m];if(g!=null)if(p.httpPayload)y.isStreaming()?y.isStructSchema()?s[m]&&(h=await this.serializeEventStream({eventStream:s[m],requestSchema:u})):h=g:(o.write(y,g),h=o.flush()),delete s[m];else if(p.httpLabel){o.write(y,g);let b=o.flush();l.path.includes(`{${m}+}`)?l.path=l.path.replace(`{${m}+}`,b.split("/").map(ee).join("/")):l.path.includes(`{${m}}`)&&(l.path=l.path.replace(`{${m}}`,ee(b))),delete s[m]}else if(p.httpHeader)o.write(y,g),a[p.httpHeader.toLowerCase()]=String(o.flush()),delete s[m];else if(typeof p.httpPrefixHeaders=="string"){for(let[b,C]of Object.entries(g)){let T=p.httpPrefixHeaders+b;o.write([y.getValueSchema(),{httpHeader:T}],C),a[T.toLowerCase()]=o.flush()}delete s[m]}else p.httpQuery||p.httpQueryParams?(this.serializeQuery(y,g,i),delete s[m]):f=!0}return f&&s&&(o.write(d,s),h=o.flush()),l.headers=a,l.query=i,l.body=h,l}serializeQuery(e,r,n){let s=this.serializer,o=e.getMergedTraits();if(o.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let c=e.getValueSchema();Object.assign(c.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(e.isListSchema()){let i=!!e.getMergedTraits().sparse,a=[];for(let c of r){s.write([e.getValueSchema(),o],c);let u=s.flush();(i||u!==void 0)&&a.push(u)}n[o.httpQuery]=a}else s.write([e,o],r),n[o.httpQuery]=s.flush()}async deserializeResponse(e,r,n){let s=this.deserializer,o=M.of(e.output),i={};if(n.statusCode>=300){let c=await Y(n.body,r);throw c.byteLength>0&&Object.assign(i,await s.read(15,c)),await this.handleError(e,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let u=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=u}let a=await this.deserializeHttpMessage(o,r,n,i);if(a.length){let c=await Y(n.body,r);if(c.byteLength>0){let u=await s.read(o,c);for(let d of a)i[d]=u[d]}}return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(e,r,n,s,o){let i;s instanceof Set?i=o:i=s;let a=this.deserializer,c=M.of(e),u=[];for(let[d,f]of c.structIterator()){let h=f.getMemberTraits();if(h.httpPayload){if(f.isStreaming())f.isStructSchema()?i[d]=await this.deserializeEventStream({response:n,responseSchema:c}):i[d]=(0,co.sdkStreamMixin)(n.body);else if(n.body){let m=await Y(n.body,r);m.byteLength>0&&(i[d]=await a.read(f,m))}}else if(h.httpHeader){let l=String(h.httpHeader).toLowerCase(),m=n.headers[l];if(m!=null)if(f.isListSchema()){let y=f.getValueSchema();y.getMergedTraits().httpHeader=l;let p;y.isTimestampSchema()&&y.getSchema()===4?p=wr(m,",",2):p=xe(m);let g=[];for(let b of p)g.push(await a.read(y,b.trim()));i[d]=g}else i[d]=await a.read(f,m)}else if(h.httpPrefixHeaders!==void 0){i[d]={};for(let[l,m]of Object.entries(n.headers))if(l.startsWith(h.httpPrefixHeaders)){let y=f.getValueSchema();y.getMergedTraits().httpHeader=l,i[d][l.slice(h.httpPrefixHeaders.length)]=await a.read(y,m)}}else h.httpResponseCode?i[d]=n.statusCode:u.push(d)}return u}}});var fo,Er,lo=w(()=>{q();fo=j(V());Ge();it();Er=class extends re{async serializeRequest(e,r,n){let s=this.serializer,o={},i={},a=await n.endpoint(),c=M.of(e?.input),u=c.getSchema(),d,f=new fo.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,e,r));let h={...r};if(r){let l=c.getEventStreamMember();if(l){if(h[l]){let m={};for(let[y,p]of c.structIterator())y!==l&&h[y]&&(s.write(p,h[y]),m[y]=s.flush());d=await this.serializeEventStream({eventStream:h[l],requestSchema:c,initialRequest:m})}}else s.write(u,h),d=s.flush()}return f.headers=i,f.query=o,f.body=d,f.method="POST",f}async deserializeResponse(e,r,n){let s=this.deserializer,o=M.of(e.output),i={};if(n.statusCode>=300){let c=await Y(n.body,r);throw c.byteLength>0&&Object.assign(i,await s.read(15,c)),await this.handleError(e,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let u=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=u}let a=o.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:i});else{let c=await Y(n.body,r);c.byteLength>0&&Object.assign(i,await s.read(o,c))}return i.$metadata=this.deserializeMetadata(n),i}}});var xr,Tr=w(()=>{Qe();xr=(t,e,r,n,s,o)=>{if(e!=null&&e[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(s,o?i.split("/").map(a=>ee(a)).join("/"):ee(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return t}});function Ga(t,e){return new at(t,e)}var ho,at,mo=w(()=>{ho=j(V());Tr();at=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(e,r){this.input=e,this.context=r}async build(){let{hostname:e,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new ho.HttpRequest({protocol:r,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+e}),this}p(e,r,n,s){return this.resolvePathStack.push(o=>{this.path=xr(o,this.input,e,r,n,s)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}});function _e(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=t.getMergedTraits();return(e.httpBindings?typeof n=="string"||s?6:o||r?5:void 0:void 0)??e.timestampFormat.default}var ct=w(()=>{});var _r,po,Ce,Cr=w(()=>{q();Te();_r=j(G()),po=j(le());fe();ct();Ce=class extends D{settings;constructor(e){super(),this.settings=e}read(e,r){let n=M.of(e);if(n.isListSchema())return xe(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??_r.fromBase64)(r);if(n.isTimestampSchema())switch(_e(n,this.settings)){case 5:return gr(r);case 6:return br(r);case 7:return yr(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=r;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=z.from(o)),o}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new ue(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??po.toUtf8)((this.serdeContext?.base64Decoder??_r.fromBase64)(e))}}});var ut,Or,yo=w(()=>{q();ut=j(le());fe();Cr();Or=class extends D{codecDeserializer;stringDeserializer;constructor(e,r){super(),this.codecDeserializer=e,this.stringDeserializer=new Ce(r)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,r){let n=M.of(e),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??ut.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(s.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??ut.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var vr,Oe,Mr=w(()=>{q();Te();vr=j(G());fe();ct();Oe=class extends D{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,r){let n=M.of(e);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(_e(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=lr(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??vr.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),u=n.getValueSchema().isTimestampSchema()?c:dr(c);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=z.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??vr.toBase64)(o.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}}});var $r,go=w(()=>{q();Mr();$r=class{codecSerializer;stringSerializer;buffer;constructor(e,r,n=new Oe(r)){this.codecSerializer=e,this.stringSerializer=n}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,r){let n=M.of(e),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}});var bo={};ve(bo,{FromStringShapeDeserializer:()=>Ce,HttpBindingProtocol:()=>Sr,HttpInterceptingShapeDeserializer:()=>Or,HttpInterceptingShapeSerializer:()=>$r,HttpProtocol:()=>re,RequestBuilder:()=>at,RpcProtocol:()=>Er,SerdeContext:()=>D,ToStringShapeSerializer:()=>Oe,collectBody:()=>Y,determineTimestampFormat:()=>_e,extendedEncodeURIComponent:()=>ee,requestBuilder:()=>Ga,resolvedPath:()=>xr});var wo=w(()=>{Ge();Qe();uo();it();lo();mo();Tr();Cr();yo();go();Mr();ct();fe()});var gc=S(x=>{"use strict";var xo=Rn(),Dr=(wo(),Me(bo)),Pr=lt(),Qa=(q(),Me(Ds)),So=(Te(),Me(io)),Ar=class{config;middlewareStack=xo.constructStack();initConfig;handlers;constructor(e){this.config=e}send(e,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=s===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,s),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,s);if(o)a(e).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Rr="***SensitiveInformation***";function Ir(t,e){if(e==null)return e;let r=Qa.NormalizedSchema.of(t);if(r.getMergedTraits().sensitive)return Rr;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Rr}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Rr}else if(r.isStructSchema()&&typeof e=="object"){let n=e,s={};for(let[o,i]of r.structIterator())n[o]!=null&&(s[o]=Ir(i,n[o]));return s}return e}var ft=class{middlewareStack=xo.constructStack();schema;static classBuilder(){return new jr}resolveMiddlewareWithContext(e,r,n,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:d,CommandCtor:f}){for(let p of s.bind(this)(f,e,r,n))this.middlewareStack.use(p);let h=e.concat(this.middlewareStack),{logger:l}=r,m={logger:l,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Pr.SMITHY_CONTEXT_KEY]:{commandInstance:this,...u},...d},{requestHandler:y}=r;return h.resolve(p=>y.handle(p.request,n||{}),m)}},jr=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,r;return r=class extends ft{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.input=n??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(n,s,o){let i=e._operationSchema,a=i?.[4]??i?.input,c=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,s,o,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(i?Ir.bind(null,a):u=>u),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(i?Ir.bind(null,c):u=>u),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}},Ya="***SensitiveInformation***",Za=(t,e)=>{for(let r of Object.keys(t)){let n=t[r],s=async function(i,a,c){let u=new n(i);if(typeof a=="function")this.send(u,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(u,a||{},c)}else return this.send(u,a)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");e.prototype[o]=s}},Nr=class t extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;let r=e;return t.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;let r=e;return this===t?t.isInstance(e):t.isInstance(e)?r.name&&this.name?this.prototype.isPrototypeOf(e)||r.name===this.name:this.prototype.isPrototypeOf(e):!1}},To=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(t[n]==null||t[n]==="")&&(t[n]=s)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},_o=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let s=Ka(t),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:e?.code||e?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw To(i,e)},Xa=t=>({output:e,parsedBody:r,errorCode:n})=>{_o({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},Ka=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),ec=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Eo=!1,tc=t=>{t&&!Eo&&parseInt(t.substring(1,t.indexOf(".")))<16&&(Eo=!0)},rc=t=>{let e=[];for(let r in Pr.AlgorithmId){let n=Pr.AlgorithmId[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},nc=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},sc=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),oc=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e},Co=t=>Object.assign(rc(t),sc(t)),ic=Co,ac=t=>Object.assign(nc(t),oc(t)),cc=t=>Array.isArray(t)?t:[t],Oo=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=Oo(t[r]));return t},uc=t=>t!=null,Br=class{trace(){}debug(){}info(){}warn(){}error(){}};function vo(t,e,r){let n,s,o;if(typeof e>"u"&&typeof r>"u")n={},o=t;else{if(n=t,typeof e=="function")return s=e,o=r,dc(n,s,o);o=e}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}Mo(n,null,o,i)}return n}var fc=t=>{let e={};for(let[r,n]of Object.entries(t||{}))e[r]=[,n];return e},lc=(t,e)=>{let r={};for(let n in e)Mo(r,t,e,n);return r},dc=(t,e,r)=>vo(t,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[e,o()]:n[s]=[e,o],n),{})),Mo=(t,e,r,n)=>{if(e!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=hc,c=mc,u=n]=i;(typeof a=="function"&&a(e[u])||typeof a!="function"&&a)&&(t[n]=c(e[u]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?t[n]=i:c&&(t[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(t[n]=o)}},hc=t=>t!=null,mc=t=>t,pc=t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}},yc=t=>t.toISOString().replace(".000Z","Z"),zr=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(zr);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=zr(t[r]));return e}return t};Object.defineProperty(x,"collectBody",{enumerable:!0,get:function(){return Dr.collectBody}});Object.defineProperty(x,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return Dr.extendedEncodeURIComponent}});Object.defineProperty(x,"resolvedPath",{enumerable:!0,get:function(){return Dr.resolvedPath}});x.Client=Ar;x.Command=ft;x.NoOpLogger=Br;x.SENSITIVE_STRING=Ya;x.ServiceException=Nr;x._json=zr;x.convertMap=fc;x.createAggregatedClient=Za;x.decorateServiceException=To;x.emitWarningIfUnsupportedVersion=tc;x.getArrayIfSingleItem=cc;x.getDefaultClientConfiguration=ic;x.getDefaultExtensionConfiguration=Co;x.getValueFromTextNode=Oo;x.isSerializableHeaderValue=uc;x.loadConfigsForDefaultMode=ec;x.map=vo;x.resolveDefaultRuntimeConfig=ac;x.serializeDateTime=yc;x.serializeFloat=pc;x.take=lc;x.throwDefaultError=_o;x.withBaseException=Xa;Object.keys(So).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(x,t)&&Object.defineProperty(x,t,{enumerable:!0,get:function(){return So[t]}})})});export{V as a,Qt as b,G as c,Hr as d,wt as e,Yr as f,Qn as g,Zn as h,Vt as i,Y as j,ee as k,me as l,M as m,er as n,q as o,lr as p,Oa as q,Ra as r,Pa as s,Cn as t,On as u,Gs as v,Qs as w,z as x,yr as y,ue as z,Ja as A,Te as B,D as C,Sr as D,Er as E,Ga as F,_e as G,Ce as H,Or as I,$r as J,wo as K,gc as L};
//# sourceMappingURL=chunk-M7G2GFUC.js.map
