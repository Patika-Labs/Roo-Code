import{a as b}from"./chunk-4EAVEOC7.js";import{c as d,d as E}from"./chunk-5HW6INCI.js";import{e as y}from"./chunk-2B6HUC56.js";var u=y(b(),1);import{statSync as F,createReadStream as S,promises as w}from"fs";import{basename as _}from"path";var P=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function M(e){if(P(e)!=="object")return!1;let t=Object.getPrototypeOf(e);return t==null?!0:(t.constructor&&t.constructor.toString())===Object.toString()}var h=M;var m=function(e,t,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},a=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},s,c,g="The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.",f=class e{constructor(t){s.set(this,void 0),c.set(this,void 0),m(this,s,t.path,"f"),m(this,c,t.start||0,"f"),this.name=_(a(this,s,"f")),this.size=t.size,this.lastModified=t.lastModified}slice(t,r){return new e({path:a(this,s,"f"),lastModified:this.lastModified,size:r-t,start:t})}async*stream(){let{mtimeMs:t}=await w.stat(a(this,s,"f"));if(t>this.lastModified)throw new u.default(g,"NotReadableError");this.size&&(yield*S(a(this,s,"f"),{start:a(this,c,"f"),end:a(this,c,"f")+this.size-1}))}get[(s=new WeakMap,c=new WeakMap,Symbol.toStringTag)](){return"File"}};function p(e,{mtimeMs:t,size:r},i,o={}){let n;h(i)?[o,n]=[i,void 0]:n=i;let l=new f({path:e,size:r,lastModified:t});return n||(n=l.name),new d([l],n,{...o,lastModified:l.lastModified})}function C(e,t,r={}){let i=F(e);return p(e,i,t,r)}async function G(e,t,r){let i=await w.stat(e);return p(e,i,t,r)}export{G as fileFromPath,C as fileFromPathSync,E as isFile};
//# sourceMappingURL=fileFromPath-4RFA4C4N.js.map
