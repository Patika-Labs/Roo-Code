import type { Anthropic } from "@anthropic-ai/sdk";
import type { ClaudeCodeRateLimitInfo } from "@roo-code/types";
export declare const CLAUDE_CODE_API_CONFIG: {
    readonly endpoint: "https://api.anthropic.com/v1/messages";
    readonly version: "2023-06-01";
    readonly defaultBetas: readonly ["prompt-caching-2024-07-31", "claude-code-20250219", "oauth-2025-04-20", "interleaved-thinking-2025-05-14", "fine-grained-tool-streaming-2025-05-14"];
    readonly userAgent: `Roo-Code/${string}`;
};
/**
 * SSE Event types from Anthropic streaming API
 */
export type SSEEventType = "message_start" | "content_block_start" | "content_block_delta" | "content_block_stop" | "message_delta" | "message_stop" | "ping" | "error";
export interface SSEEvent {
    event: SSEEventType;
    data: unknown;
}
/**
 * Thinking configuration for extended thinking mode
 */
export type ThinkingConfig = {
    type: "enabled";
    budget_tokens: number;
} | {
    type: "disabled";
};
/**
 * Stream message request options
 */
export interface StreamMessageOptions {
    accessToken: string;
    model: string;
    systemPrompt: string;
    messages: Anthropic.Messages.MessageParam[];
    maxTokens?: number;
    thinking?: ThinkingConfig;
    tools?: Anthropic.Messages.Tool[];
    toolChoice?: Anthropic.Messages.ToolChoice;
    metadata?: {
        user_id?: string;
    };
    signal?: AbortSignal;
}
/**
 * Stream chunk types that the handler can yield
 */
export interface StreamTextChunk {
    type: "text";
    text: string;
}
export interface StreamReasoningChunk {
    type: "reasoning";
    text: string;
}
/**
 * A complete thinking block with signature, used for tool use continuations.
 * According to Anthropic docs:
 * - During tool use, you must pass thinking blocks back to the API for the last assistant message
 * - Include the complete unmodified block back to the API to maintain reasoning continuity
 * - The signature field is used to verify that thinking blocks were generated by Claude
 */
export interface StreamThinkingCompleteChunk {
    type: "thinking_complete";
    index: number;
    thinking: string;
    signature: string;
}
export interface StreamToolCallPartialChunk {
    type: "tool_call_partial";
    index: number;
    id?: string;
    name?: string;
    arguments?: string;
}
export interface StreamUsageChunk {
    type: "usage";
    inputTokens: number;
    outputTokens: number;
    cacheReadTokens?: number;
    cacheWriteTokens?: number;
    totalCost?: number;
}
export interface StreamErrorChunk {
    type: "error";
    error: string;
}
export type StreamChunk = StreamTextChunk | StreamReasoningChunk | StreamThinkingCompleteChunk | StreamToolCallPartialChunk | StreamUsageChunk | StreamErrorChunk;
/**
 * Creates a streaming message request to the Anthropic API using OAuth
 */
export declare function createStreamingMessage(options: StreamMessageOptions): AsyncGenerator<StreamChunk>;
/**
 * Fetch rate limit information by making a minimal API call
 * Uses a small request to get the response headers containing rate limit data
 */
export declare function fetchRateLimitInfo(accessToken: string): Promise<ClaudeCodeRateLimitInfo>;
