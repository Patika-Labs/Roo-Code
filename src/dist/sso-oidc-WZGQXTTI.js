import{a as Vt,b as _e}from"./chunk-LYFCWPCD.js";import{A as Bt,B as Ee,C as Kt,D as Se,E as Yt,F as Jt,G as Wt,H as Xt,I as Qt,a as kt,b as Tt,c as Nt,d as ie,e as $t,f as se,g as ae,h as de,j as X,k as jt,l as qt,m as me,n as le,o as ue,r as he,s as fe,t as xe,x as I,y as Gt,z as ge}from"./chunk-EA344DRM.js";import{a as Mt,b as Lt}from"./chunk-COHAZZTS.js";import"./chunk-OTYSD24R.js";import{F as ce,L as u,a as Rt,b as Ut,c as Ht,f as zt}from"./chunk-M7G2GFUC.js";import{c as Ft}from"./chunk-MKRX7O3O.js";import{b as pe}from"./chunk-VX6DIAJP.js";import"./chunk-HHIBTEH3.js";import"./chunk-QRWHQ7IS.js";import{b as a,e as s}from"./chunk-2B6HUC56.js";function Zt(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function eo(e){return{schemeId:"smithy.api#noAuth"}}var y,ye,ve,Ie,Q=a(()=>{I();y=s(Ut()),ye=async(e,t,r)=>({operation:(0,y.getSmithyContext)(t).operation,region:await(0,y.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});ve=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(eo(e));break}default:t.push(Zt(e))}return t},Ie=e=>{let t=ue(e);return Object.assign(t,{authSchemePreference:(0,y.normalizeProvider)(e.authSchemePreference??[])})}});var Pe,Ce,Z=a(()=>{Pe=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),Ce={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Ue,m,we,v,E,S,h,ee,te,be,Oe,Ae,$e,Fe,p,De,He,Re,ke,Te,Ne,to,ze,je=a(()=>{Ue="required",m="argv",we="isSet",v="booleanEquals",E="error",S="endpoint",h="tree",ee="PartitionResult",te="getAttr",be={[Ue]:!1,type:"string"},Oe={[Ue]:!0,default:!1,type:"boolean"},Ae={ref:"Endpoint"},$e={fn:v,[m]:[{ref:"UseFIPS"},!0]},Fe={fn:v,[m]:[{ref:"UseDualStack"},!0]},p={},De={fn:te,[m]:[{ref:ee},"supportsFIPS"]},He={ref:ee},Re={fn:v,[m]:[!0,{fn:te,[m]:[He,"supportsDualStack"]}]},ke=[$e],Te=[Fe],Ne=[{ref:"Region"}],to={version:"1.0",parameters:{Region:be,UseDualStack:Oe,UseFIPS:Oe,Endpoint:be},rules:[{conditions:[{fn:we,[m]:[Ae]}],rules:[{conditions:ke,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:E},{conditions:Te,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:E},{endpoint:{url:Ae,properties:p,headers:p},type:S}],type:h},{conditions:[{fn:we,[m]:Ne}],rules:[{conditions:[{fn:"aws.partition",[m]:Ne,assign:ee}],rules:[{conditions:[$e,Fe],rules:[{conditions:[{fn:v,[m]:[!0,De]},Re],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:p,headers:p},type:S}],type:h},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:E}],type:h},{conditions:ke,rules:[{conditions:[{fn:v,[m]:[De,!0]}],rules:[{conditions:[{fn:"stringEquals",[m]:[{fn:te,[m]:[He,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:p,headers:p},type:S},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:p,headers:p},type:S}],type:h},{error:"FIPS is enabled but this partition does not support FIPS",type:E}],type:h},{conditions:Te,rules:[{conditions:[Re],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:p,headers:p},type:S}],type:h},{error:"DualStack is enabled but this partition does not support DualStack",type:E}],type:h},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:p,headers:p},type:S}],type:h}],type:h},{error:"Invalid Configuration: Missing Region",type:E}]},ze=to});var Me,_,oo,qe,Ge=a(()=>{Me=s(qt()),_=s(jt());je();oo=new _.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),qe=(e,t={})=>oo.get(e,()=>(0,_.resolveEndpoint)(ze,{endpointParams:e,logger:t.logger}));_.customEndpointFunctions.aws=Me.awsEndpointFunctions});var Be,Le,P,C,Ke,Ve=a(()=>{I();X();Be=s(u()),Le=s(Mt()),P=s(Ht()),C=s(Ft());Q();Ge();Ke=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??P.fromBase64,base64Encoder:e?.base64Encoder??P.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??qe,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??ve,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new me},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new de}],logger:e?.logger??new Be.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Le.parseUrl,utf8Decoder:e?.utf8Decoder??C.fromUtf8,utf8Encoder:e?.utf8Encoder??C.toUtf8})});var w,x,Ye,b,f,O,Je,We,Xe,Qe,Ze,et,tt=a(()=>{Vt();I();w=s(Yt()),x=s(ge()),Ye=s(Jt()),b=s(Se()),f=s(Lt()),O=s(zt()),Je=s(Wt()),We=s(Kt());Ve();Xe=s(u()),Qe=s(Xt()),Ze=s(u()),et=e=>{(0,Ze.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Qe.resolveDefaultsModeConfig)(e),r=()=>t().then(Xe.loadConfigsForDefaultMode),i=Ke(e);pe(process.version);let n={profile:e?.profile,logger:i.logger};return{...i,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,f.loadConfig)(le,n),bodyLengthChecker:e?.bodyLengthChecker??Je.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,w.createDefaultUserAgentProvider)({serviceId:i.serviceId,clientVersion:_e.version}),maxAttempts:e?.maxAttempts??(0,f.loadConfig)(b.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,f.loadConfig)(x.NODE_REGION_CONFIG_OPTIONS,{...x.NODE_REGION_CONFIG_FILE_OPTIONS,...n}),requestHandler:O.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,f.loadConfig)({...b.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||We.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Ye.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??O.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,f.loadConfig)(x.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,n),useFipsEndpoint:e?.useFipsEndpoint??(0,f.loadConfig)(x.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,n),userAgentAppId:e?.userAgentAppId??(0,f.loadConfig)(w.NODE_APP_ID_CONFIG_OPTIONS,n)}}});var ot,rt,nt=a(()=>{ot=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,i=e.credentials;return{setHttpAuthScheme(n){let c=t.findIndex(W=>W.schemeId===n.schemeId);c===-1?t.push(n):t.splice(c,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){i=n},credentials(){return i}}},rt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var A,D,R,it,st=a(()=>{A=s(Qt()),D=s(Rt()),R=s(u());nt();it=(e,t)=>{let r=Object.assign((0,A.getAwsRegionExtensionConfiguration)(e),(0,R.getDefaultExtensionConfiguration)(e),(0,D.getHttpHandlerExtensionConfiguration)(e),ot(e));return t.forEach(i=>i.configure(r)),Object.assign(e,(0,A.resolveAwsRegionExtensionConfiguration)(r),(0,R.resolveDefaultRuntimeConfig)(r),(0,D.resolveHttpHandlerRuntimeConfig)(r),rt(r))}});var T,ct,at,N,dt,pt,mt,U,lt,k,oe=a(()=>{T=s(kt()),ct=s(Tt()),at=s(Nt()),N=s(Gt()),dt=s(ge());X();pt=s(Bt()),mt=s(Ee()),U=s(Se()),lt=s(u());Q();Z();tt();st();k=class extends lt.Client{config;constructor(...[t]){let r=et(t||{});super(r),this.initConfig=r;let i=Pe(r),n=(0,N.resolveUserAgentConfig)(i),c=(0,U.resolveRetryConfig)(n),W=(0,dt.resolveRegionConfig)(c),wt=(0,T.resolveHostHeaderConfig)(W),bt=(0,mt.resolveEndpointConfig)(wt),Ot=Ie(bt),At=it(Ot,t?.extensions||[]);this.config=At,this.middlewareStack.use((0,N.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,U.getRetryPlugin)(this.config)),this.middlewareStack.use((0,pt.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,T.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,ct.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,at.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(ie(this.config,{httpAuthSchemeParametersProvider:ye,identityProviderConfigProvider:async Dt=>new ae({"aws.auth#sigv4":Dt.credentials})})),this.middlewareStack.use(se(this.config))}destroy(){super.destroy()}}});var ut,d,$=a(()=>{ut=s(u()),d=class e extends ut.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var g,Lo,F,H,ht,ft,z,j,M,q,Ko,G,B,L,K,V,Y=a(()=>{g=s(u());$();Lo={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},F=class e extends d{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},H=class e extends d{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ht=e=>({...e,...e.clientSecret&&{clientSecret:g.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:g.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:g.SENSITIVE_STRING}}),ft=e=>({...e,...e.accessToken&&{accessToken:g.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:g.SENSITIVE_STRING},...e.idToken&&{idToken:g.SENSITIVE_STRING}}),z=class e extends d{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},j=class e extends d{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},M=class e extends d{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},q=class e extends d{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ko={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},G=class e extends d{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},B=class e extends d{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},L=class e extends d{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},K=class e extends d{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},V=class e extends d{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var o,xt,gt,ro,no,io,so,co,ao,po,mo,lo,uo,ho,fo,xo,l,Et=a(()=>{I();X();o=s(u());Y();$();xt=async(e,t)=>{let r=ce(e,t),i={"content-type":"application/json"};r.bp("/token");let n;return n=JSON.stringify((0,o.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:c=>(0,o._json)(c)})),r.m("POST").h(i).b(n),r.build()},gt=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ro(e,t);let r=(0,o.map)({$metadata:l(e)}),i=(0,o.expectNonNull)((0,o.expectObject)(await he(e.body,t)),"body"),n=(0,o.take)(i,{accessToken:o.expectString,expiresIn:o.expectInt32,idToken:o.expectString,refreshToken:o.expectString,tokenType:o.expectString});return Object.assign(r,n),r},ro=async(e,t)=>{let r={...e,body:await fe(e.body,t)},i=xe(e,r.body);switch(i){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await io(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await so(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await co(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await ao(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await po(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await mo(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await lo(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await uo(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await ho(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await fo(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await xo(r,t);default:let n=r.body;return no({output:e,parsedBody:n,errorCode:i})}},no=(0,o.withBaseException)(d),io=async(e,t)=>{let r=(0,o.map)({}),i=e.body,n=(0,o.take)(i,{error:o.expectString,error_description:o.expectString,reason:o.expectString});Object.assign(r,n);let c=new F({$metadata:l(e),...r});return(0,o.decorateServiceException)(c,e.body)},so=async(e,t)=>{let r=(0,o.map)({}),i=e.body,n=(0,o.take)(i,{error:o.expectString,error_description:o.expectString});Object.assign(r,n);let c=new H({$metadata:l(e),...r});return(0,o.decorateServiceException)(c,e.body)},co=async(e,t)=>{let r=(0,o.map)({}),i=e.body,n=(0,o.take)(i,{error:o.expectString,error_description:o.expectString});Object.assign(r,n);let c=new z({$metadata:l(e),...r});return(0,o.decorateServiceException)(c,e.body)},ao=async(e,t)=>{let r=(0,o.map)({}),i=e.body,n=(0,o.take)(i,{error:o.expectString,error_description:o.expectString});Object.assign(r,n);let c=new j({$metadata:l(e),...r});return(0,o.decorateServiceException)(c,e.body)},po=async(e,t)=>{let r=(0,o.map)({}),i=e.body,n=(0,o.take)(i,{error:o.expectString,error_description:o.expectString});Object.assign(r,n);let c=new M({$metadata:l(e),...r});return(0,o.decorateServiceException)(c,e.body)},mo=async(e,t)=>{let r=(0,o.map)({}),i=e.body,n=(0,o.take)(i,{error:o.expectString,error_description:o.expectString});Object.assign(r,n);let c=new q({$metadata:l(e),...r});return(0,o.decorateServiceException)(c,e.body)},lo=async(e,t)=>{let r=(0,o.map)({}),i=e.body,n=(0,o.take)(i,{error:o.expectString,error_description:o.expectString,reason:o.expectString});Object.assign(r,n);let c=new G({$metadata:l(e),...r});return(0,o.decorateServiceException)(c,e.body)},uo=async(e,t)=>{let r=(0,o.map)({}),i=e.body,n=(0,o.take)(i,{error:o.expectString,error_description:o.expectString});Object.assign(r,n);let c=new B({$metadata:l(e),...r});return(0,o.decorateServiceException)(c,e.body)},ho=async(e,t)=>{let r=(0,o.map)({}),i=e.body,n=(0,o.take)(i,{error:o.expectString,error_description:o.expectString});Object.assign(r,n);let c=new L({$metadata:l(e),...r});return(0,o.decorateServiceException)(c,e.body)},fo=async(e,t)=>{let r=(0,o.map)({}),i=e.body,n=(0,o.take)(i,{error:o.expectString,error_description:o.expectString});Object.assign(r,n);let c=new K({$metadata:l(e),...r});return(0,o.decorateServiceException)(c,e.body)},xo=async(e,t)=>{let r=(0,o.map)({}),i=e.body,n=(0,o.take)(i,{error:o.expectString,error_description:o.expectString});Object.assign(r,n);let c=new V({$metadata:l(e),...r});return(0,o.decorateServiceException)(c,e.body)},l=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var St,_t,yt,J,re=a(()=>{St=s(Ee()),_t=s($t()),yt=s(u());Z();Y();Et();J=class extends yt.Command.classBuilder().ep(Ce).m(function(t,r,i,n){return[(0,_t.getSerdePlugin)(i,this.serialize,this.deserialize),(0,St.getEndpointPlugin)(i,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(ht,ft).ser(xt).de(gt).build(){}});var vt,go,ne,It=a(()=>{vt=s(u());re();oe();go={CreateTokenCommand:J},ne=class extends k{};(0,vt.createAggregatedClient)(go,ne)});var Pt=a(()=>{re()});var Ct=a(()=>{Y()});var Eo=a(()=>{oe();It();Pt();Ct();$()});Eo();var export_$Command=yt.Command;var export___Client=lt.Client;export{export_$Command as $Command,F as AccessDeniedException,Lo as AccessDeniedExceptionReason,H as AuthorizationPendingException,J as CreateTokenCommand,ht as CreateTokenRequestFilterSensitiveLog,ft as CreateTokenResponseFilterSensitiveLog,z as ExpiredTokenException,j as InternalServerException,M as InvalidClientException,q as InvalidGrantException,G as InvalidRequestException,Ko as InvalidRequestExceptionReason,B as InvalidScopeException,ne as SSOOIDC,k as SSOOIDCClient,d as SSOOIDCServiceException,L as SlowDownException,K as UnauthorizedClientException,V as UnsupportedGrantTypeException,export___Client as __Client};
//# sourceMappingURL=sso-oidc-WZGQXTTI.js.map
